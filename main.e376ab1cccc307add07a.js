(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c});var r=n("mrSG"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(n)return null;throw s}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=Object(r.g)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),c=a[1],l=this.normalizeInstanceIdentifier(a[0]);try{var u=this.getOrInitializeService({instanceIdentifier:l});c.resolve(u)}catch(h){}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(Object(r.f)([],Object(r.e)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),Object(r.e)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,s=t.options,a=void 0===s?{}:s,c=this.normalizeInstanceIdentifier(void 0===i?o:i);if(this.isInitialized(c))throw Error(this.name+"("+c+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var l=this.getOrInitializeService({instanceIdentifier:c,options:a});try{for(var u=Object(r.g)(this.instancesDeferred.entries()),h=u.next();!h.done;h=u.next()){var d=Object(r.e)(h.value,2),f=d[1];c===this.normalizeInstanceIdentifier(d[0])&&f.resolve(l)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(l,c),l},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i;try{for(var s=Object(r.g)(this.onInitCallbacks),o=s.next();!o.done;o=s.next()){var a=o.value;try{a(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===o?void 0:e),options:i}),this.instances.set(n,s),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(a){}return s||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new c(t,this.project,this.concurrent))}}class c extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7Hc7":function(t,e,n){"use strict";n.d(e,"b",function(){return d}),n.d(e,"a",function(){return f});let r=1;const i=(()=>Promise.resolve())(),s={};function o(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var u=n("IjjT");class h extends u.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new h(l),f=d},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),c=n("NJ4a");class l extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof l?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new l(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class u extends l{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(c.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(c.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),c=n("Lhse"),l=n("c2HN"),u=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(l.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(u.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[c.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EQ5u:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return c});var r=n("XNiG"),i=n("HDdC"),s=(n("7o/Q"),n("quSY")),o=n("x+ZX");class a extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.a,t.add(this.source.subscribe(new l(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.a.EMPTY)),t}refCount(){return Object(o.a)()(this)}}const c=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class l extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),c=n("2fFW");let l=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=u(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=u(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function u(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.6.1","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),c=n("c2HN"),l=n("XoHu");const u=t=>{if(t&&"function"==typeof t[o.a])return u=t,t=>{const e=u[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(c.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(l.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,u}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),c=n("2QA8");class l extends i.a{constructor(t){super(t),this.destination=t}}let u=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.a](){return new l(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends u{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return cn}),n.d(e,"b",function(){return Kc}),n.d(e,"c",function(){return Uc}),n.d(e,"d",function(){return Mc}),n.d(e,"e",function(){return Vc}),n.d(e,"f",function(){return Ul}),n.d(e,"g",function(){return Tl}),n.d(e,"h",function(){return Fa}),n.d(e,"i",function(){return nl}),n.d(e,"j",function(){return aa}),n.d(e,"k",function(){return $c}),n.d(e,"l",function(){return ha}),n.d(e,"m",function(){return Ll}),n.d(e,"n",function(){return Cr}),n.d(e,"o",function(){return bc}),n.d(e,"p",function(){return us}),n.d(e,"q",function(){return In}),n.d(e,"r",function(){return I}),n.d(e,"s",function(){return an}),n.d(e,"t",function(){return xs}),n.d(e,"u",function(){return Aa}),n.d(e,"v",function(){return Da}),n.d(e,"w",function(){return Wc}),n.d(e,"x",function(){return $a}),n.d(e,"y",function(){return Al}),n.d(e,"z",function(){return Wa}),n.d(e,"A",function(){return Sl}),n.d(e,"B",function(){return sl}),n.d(e,"C",function(){return An}),n.d(e,"D",function(){return Hc}),n.d(e,"E",function(){return qc}),n.d(e,"F",function(){return vc}),n.d(e,"G",function(){return pa}),n.d(e,"H",function(){return fa}),n.d(e,"I",function(){return kr}),n.d(e,"J",function(){return ga}),n.d(e,"K",function(){return yr}),n.d(e,"L",function(){return Rn}),n.d(e,"M",function(){return Pl}),n.d(e,"N",function(){return qa}),n.d(e,"O",function(){return dl}),n.d(e,"P",function(){return ln}),n.d(e,"Q",function(){return ba}),n.d(e,"R",function(){return ya}),n.d(e,"S",function(){return Qa}),n.d(e,"T",function(){return N}),n.d(e,"U",function(){return El}),n.d(e,"V",function(){return wl}),n.d(e,"W",function(){return f}),n.d(e,"X",function(){return xn}),n.d(e,"Y",function(){return vl}),n.d(e,"Z",function(){return Ml}),n.d(e,"ab",function(){return ml}),n.d(e,"bb",function(){return Zc}),n.d(e,"cb",function(){return ds}),n.d(e,"db",function(){return Wo}),n.d(e,"eb",function(){return g}),n.d(e,"fb",function(){return mr}),n.d(e,"gb",function(){return Xn}),n.d(e,"hb",function(){return Bn}),n.d(e,"ib",function(){return qn}),n.d(e,"jb",function(){return Wn}),n.d(e,"kb",function(){return Kn}),n.d(e,"lb",function(){return Hn}),n.d(e,"mb",function(){return Zn}),n.d(e,"nb",function(){return qo}),n.d(e,"ob",function(){return Fl}),n.d(e,"pb",function(){return Ho}),n.d(e,"qb",function(){return Ko}),n.d(e,"rb",function(){return zn}),n.d(e,"sb",function(){return U}),n.d(e,"tb",function(){return Ls}),n.d(e,"ub",function(){return io}),n.d(e,"vb",function(){return no}),n.d(e,"wb",function(){return ro}),n.d(e,"xb",function(){return zo}),n.d(e,"yb",function(){return xt}),n.d(e,"zb",function(){return u}),n.d(e,"Ab",function(){return Un}),n.d(e,"Bb",function(){return Ts}),n.d(e,"Cb",function(){return _t}),n.d(e,"Db",function(){return ia}),n.d(e,"Eb",function(){return pi}),n.d(e,"Fb",function(){return zs}),n.d(e,"Gb",function(){return Lo}),n.d(e,"Hb",function(){return Co}),n.d(e,"Ib",function(){return Dc}),n.d(e,"Jb",function(){return X}),n.d(e,"Kb",function(){return st}),n.d(e,"Lb",function(){return v}),n.d(e,"Mb",function(){return w}),n.d(e,"Nb",function(){return nt}),n.d(e,"Ob",function(){return ot}),n.d(e,"Pb",function(){return Zs}),n.d(e,"Qb",function(){return Ys}),n.d(e,"Rb",function(){return to}),n.d(e,"Sb",function(){return Js}),n.d(e,"Tb",function(){return Xs}),n.d(e,"Ub",function(){return Qs}),n.d(e,"Vb",function(){return Gs}),n.d(e,"Wb",function(){return eo}),n.d(e,"Xb",function(){return en}),n.d(e,"Yb",function(){return Fo}),n.d(e,"Zb",function(){return On}),n.d(e,"ac",function(){return rn}),n.d(e,"bc",function(){return Fc}),n.d(e,"cc",function(){return so}),n.d(e,"dc",function(){return Pc}),n.d(e,"ec",function(){return _e}),n.d(e,"fc",function(){return be}),n.d(e,"gc",function(){return uo}),n.d(e,"hc",function(){return mc}),n.d(e,"ic",function(){return gc}),n.d(e,"jc",function(){return po}),n.d(e,"kc",function(){return fo}),n.d(e,"lc",function(){return Ws}),n.d(e,"mc",function(){return hc}),n.d(e,"nc",function(){return dc}),n.d(e,"oc",function(){return fc}),n.d(e,"pc",function(){return Ac}),n.d(e,"qc",function(){return Ks}),n.d(e,"rc",function(){return Or}),n.d(e,"sc",function(){return Kt}),n.d(e,"tc",function(){return br}),n.d(e,"uc",function(){return rt}),n.d(e,"vc",function(){return wo}),n.d(e,"wc",function(){return oo}),n.d(e,"xc",function(){return Mo}),n.d(e,"yc",function(){return Hs}),n.d(e,"zc",function(){return Po}),n.d(e,"Ac",function(){return jo}),n.d(e,"Bc",function(){return No}),n.d(e,"Cc",function(){return Rc});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("w1tV");function c(t){for(let e in t)if(t[e]===c)return e;throw Error("Could not find renamed property on target object.")}function l(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function u(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(u).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function h(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const d=c({__forward_ref__:c});function f(t){return t.__forward_ref__=f,t.toString=function(){return u(this())},t}function p(t){return m(t)?t():t}function m(t){return"function"==typeof t&&t.hasOwnProperty(d)&&t.__forward_ref__===f}class g extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function y(t){return"string"==typeof t?t:null==t?"":String(t)}function b(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():y(t)}function _(t,e){const n=e?` in ${e}`:"";throw new g("201",`No provider for ${b(t)} found${n}`)}function v(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function w(t){return{providers:t.providers||[],imports:t.imports||[]}}function C(t){return S(t,O)||S(t,k)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function E(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(T))?t[x]:null}const O=c({"\u0275prov":c}),x=c({"\u0275inj":c}),k=c({ngInjectableDef:c}),T=c({ngInjectorDef:c});var I=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let A;function R(t){const e=A;return A=t,e}function D(t,e,n){const r=C(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&I.Optional?null:void 0!==e?e:void _(u(t),"Injector")}function P(t){return{toString:t}.toString()}var j=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),N=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const L="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,M="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,U=L||V||F||M,B={},z=[],q=[],H=c({"\u0275cmp":c}),K=c({"\u0275dir":c}),Z=c({"\u0275pipe":c}),W=c({"\u0275mod":c}),$=c({"\u0275loc":c}),G=c({"\u0275fac":c}),Q=c({__NG_ELEMENT_ID__:c});let Y=0;function X(t){return P(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===j.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||q,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||N.Emulated,id:"c",styles:t.styles||q,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=Y++,n.inputs=it(t.inputs,e),n.outputs=it(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(J):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(tt):null,n})}function J(t){return at(t)||function(t){return t[K]||null}(t)}function tt(t){return function(t){return t[Z]||null}(t)}const et={};function nt(t){const e={type:t.type,bootstrap:t.bootstrap||q,declarations:t.declarations||q,imports:t.imports||q,exports:t.exports||q,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&P(()=>{et[t.id]=t.type}),e}function rt(t,e){return P(()=>{const n=ct(t,!0);n.declarations=e.declarations||q,n.imports=e.imports||q,n.exports=e.exports||q})}function it(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const st=X;function ot(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function at(t){return t[H]||null}function ct(t,e){const n=t[W]||null;if(!n&&!0===e)throw new Error(`Type ${u(t)} does not have '\u0275mod' property.`);return n}const lt=20,ut=10;function ht(t){return Array.isArray(t)&&"object"==typeof t[1]}function dt(t){return Array.isArray(t)&&!0===t[1]}function ft(t){return 0!=(8&t.flags)}function pt(t){return 2==(2&t.flags)}function mt(t){return 1==(1&t.flags)}function gt(t){return null!==t.template}function yt(t,e){return t.hasOwnProperty(G)?t[G]:null}class bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function _t(){return vt}function vt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ct),wt}function wt(){const t=St(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Ct(t,e,n,r){const i=St(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],c=o[a];s[a]=new bt(c&&c.currentValue,e,o===B),t[r]=e}function St(t){return t.__ngSimpleChanges__||null}_t.ngInherit=!0;const Et="http://www.w3.org/2000/svg";let Ot;function xt(t){Ot=t}function kt(t){return!!t.listen}const Tt={createRenderer:(t,e)=>void 0!==Ot?Ot:"undefined"!=typeof document?document:void 0};function It(t){for(;Array.isArray(t);)t=t[0];return t}function At(t,e){return It(e[t])}function Rt(t,e){return It(e[t.index])}function Dt(t,e){return t.data[e]}function Pt(t,e){return t[e]}function jt(t,e){const n=e[t];return ht(n)?n:n[0]}function Nt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Lt(t){return 4==(4&t[2])}function Ft(t){return 128==(128&t[2])}function Mt(t,e){return null==e?null:t[e]}function Vt(t){t[18]=0}function Ut(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Bt={lFrame:he(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function zt(){return Bt.bindingsEnabled}function qt(){return Bt.lFrame.lView}function Ht(){return Bt.lFrame.tView}function Kt(t){Bt.lFrame.contextLView=t}function Zt(){let t=Wt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Wt(){return Bt.lFrame.currentTNode}function $t(t,e){const n=Bt.lFrame;n.currentTNode=t,n.isParent=e}function Gt(){return Bt.lFrame.isParent}function Qt(){Bt.lFrame.isParent=!1}function Yt(){return Bt.isInCheckNoChangesMode}function Xt(t){Bt.isInCheckNoChangesMode=t}function Jt(){const t=Bt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function te(){return Bt.lFrame.bindingIndex++}function ee(t){const e=Bt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ne(t,e){const n=Bt.lFrame;n.bindingIndex=n.bindingRootIndex=t,re(e)}function re(t){Bt.lFrame.currentDirectiveIndex=t}function ie(t){const e=Bt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function se(){return Bt.lFrame.currentQueryIndex}function oe(t){Bt.lFrame.currentQueryIndex=t}function ae(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ce(t,e,n){if(n&I.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&I.Host||(r=ae(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Bt.lFrame=ue();return r.currentTNode=e,r.lView=t,!0}function le(t){const e=ue(),n=t[1];Bt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ue(){const t=Bt.lFrame,e=null===t?null:t.child;return null===e?he(t):e}function he(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function de(){const t=Bt.lFrame;return Bt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const fe=de;function pe(){const t=de();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function me(){return Bt.lFrame.selectedIndex}function ge(t){Bt.lFrame.selectedIndex=t}function ye(){const t=Bt.lFrame;return Dt(t.tView,t.selectedIndex)}function be(){Bt.lFrame.currentNamespace=Et}function _e(){Bt.lFrame.currentNamespace=null}function ve(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function we(t,e,n){Ee(t,e,3,n)}function Ce(t,e,n,r){(3&t[2])===n&&Ee(t,e,n,r)}function Se(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ee(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Oe(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Oe(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}const xe=-1;class ke{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Te(t,e,n){const r=kt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],c=n[i++];r?t.setAttribute(e,a,c,o):e.setAttributeNS(o,a,c)}else{const o=s,a=n[++i];Ae(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ie(t){return 3===t||4===t||6===t}function Ae(t){return 64===t.charCodeAt(0)}function Re(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||De(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function De(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Pe(t){return t!==xe}function je(t){return 32767&t}function Ne(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Le=!0;function Fe(t){const e=Le;return Le=t,e}let Me=0;function Ve(t,e){const n=Be(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Ue(r.data,t),Ue(e,null),Ue(r.blueprint,null));const i=ze(t,e),s=t.injectorIndex;if(Pe(i)){const t=je(i),n=Ne(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Ue(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Be(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function ze(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return xe;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return xe}function qe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(r=n[Q]),null==r&&(r=n[Q]=Me++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function He(t,e,n){if(n&I.Optional)return t;_(e,"NodeInjector")}function Ke(t,e,n,r){if(n&I.Optional&&void 0===r&&(r=null),0==(n&(I.Self|I.Host))){const i=t[9],s=R(void 0);try{return i?i.get(e,r,n&I.Optional):D(e,r,n&I.Optional)}finally{R(s)}}return He(r,e,n)}function Ze(t,e,n,r=I.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Q)?t[Q]:void 0;return"number"==typeof e?e>=0?255&e:$e:e}(n);if("function"==typeof s){if(!ce(e,t,r))return r&I.Host?He(i,n,r):Ke(e,n,r,i);try{const t=s();if(null!=t||r&I.Optional)return t;_(n)}finally{fe()}}else if("number"==typeof s){let i=null,o=Be(t,e),a=xe,c=r&I.Host?e[16][6]:null;for((-1===o||r&I.SkipSelf)&&(a=-1===o?ze(t,e):e[o+8],a!==xe&&Je(r,!1)?(i=e[1],o=je(a),e=Ne(a,e)):o=-1);-1!==o;){const t=e[1];if(Xe(s,o,t.data)){const t=Ge(o,e,n,i,r,c);if(t!==We)return t}a=e[o+8],a!==xe&&Je(r,e[1].data[o+8]===c)&&Xe(s,o,e)?(i=t,o=je(a),e=Ne(a,e)):o=-1}}}return Ke(e,n,r,i)}const We={};function $e(){return new tn(Zt(),qt())}function Ge(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],c=Qe(a,o,n,null==r?pt(a)&&Le:r!=o&&0!=(3&a.type),i&I.Host&&s===a);return null!==c?Ye(e,o,c,a):We}function Qe(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,l=s>>20,u=i?a+l:t.directiveEnd;for(let h=r?a:a+l;h<u;h++){const t=o[h];if(h<c&&n===t||h>=c&&t.type===n)return h}if(i){const t=o[c];if(t&&gt(t)&&t.type===n)return c}return null}function Ye(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof ke){const o=i;o.resolving&&function(t,e){throw new g("200",`Circular dependency in DI detected for ${t}`)}(b(s[n]));const a=Fe(o.canSeeViewProviders);o.resolving=!0;const c=o.injectImpl?R(o.injectImpl):null;ce(t,r,I.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=vt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==c&&R(c),Fe(a),o.resolving=!1,fe()}}return i}function Xe(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function Je(t,e){return!(t&I.Self||t&I.Host&&e)}class tn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ze(this._tNode,this._lView,t,void 0,e)}}function en(t){return P(()=>{const e=t.prototype.constructor,n=e[G]||nn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[G]||nn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function nn(t){return m(t)?()=>{const e=nn(p(t));return e&&e()}:yt(t)}function rn(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ie(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Zt(),t)}const sn="__parameters__";function on(t,e,n){return P(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(sn)?t[sn]:Object.defineProperty(t,sn,{value:[]})[sn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class an{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=v({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const cn=new an("AnalyzeForEntryComponents"),ln=Function;function un(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),un(r,e)):e!==t&&e.push(r)}return e}function hn(t,e){t.forEach(t=>Array.isArray(t)?hn(t,e):e(t))}function dn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function pn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function mn(t,e,n){let r=yn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function gn(t,e){const n=yn(t,e);if(n>=0)return t[1|n]}function yn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const bn={},_n=/\n/gm,vn="__source",wn=c({provide:String,useValue:c});let Cn;function Sn(t){const e=Cn;return Cn=t,e}function En(t,e=I.Default){if(void 0===Cn)throw new Error("inject() must be called from an injection context");return null===Cn?D(t,void 0,e):Cn.get(t,e&I.Optional?null:void 0,e)}function On(t,e=I.Default){return(A||En)(p(t),e)}const xn=On;function kn(t){const e=[];for(let n=0;n<t.length;n++){const r=p(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=I.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(On(t,n))}else e.push(On(r))}return e}function Tn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const In=Tn(on("Inject",t=>({token:t})),-1),An=Tn(on("Optional"),8),Rn=Tn(on("SkipSelf"),4);let Dn;function Pn(t){var e;return(null===(e=function(){if(void 0===Dn&&(Dn=null,U.trustedTypes))try{Dn=U.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Dn}())||void 0===e?void 0:e.createHTML(t))||t}class jn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Nn extends jn{getTypeName(){return"HTML"}}class Ln extends jn{getTypeName(){return"Style"}}class Fn extends jn{getTypeName(){return"Script"}}class Mn extends jn{getTypeName(){return"URL"}}class Vn extends jn{getTypeName(){return"ResourceURL"}}function Un(t){return t instanceof jn?t.changingThisBreaksApplicationSecurity:t}function Bn(t,e){const n=zn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function zn(t){return t instanceof jn&&t.getTypeName()||null}function qn(t){return new Nn(t)}function Hn(t){return new Ln(t)}function Kn(t){return new Fn(t)}function Zn(t){return new Mn(t)}function Wn(t){return new Vn(t)}class $n{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Pn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Gn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Pn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Pn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Qn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xn(t){return(t=String(t)).match(Qn)||t.match(Yn)?t:"unsafe:"+t}function Jn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function tr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const er=Jn("area,br,col,hr,img,wbr"),nr=Jn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rr=Jn("rp,rt"),ir=tr(rr,nr),sr=tr(er,tr(nr,Jn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tr(rr,Jn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ir),or=Jn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ar=Jn("srcset"),cr=tr(or,ar,Jn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Jn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lr=Jn("script,style,template");class ur{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!sr.hasOwnProperty(e))return this.sanitizedSomething=!0,!lr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!cr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;or[s]&&(o=Xn(o)),ar[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Xn(t.trim())).join(", ")),this.buf.push(" ",e,'="',fr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();sr.hasOwnProperty(e)&&!er.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(fr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const hr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dr=/([^\#-~ |!])/g;function fr(t){return t.replace(/&/g,"&amp;").replace(hr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(dr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pr;function mr(t,e){let n=null;try{pr=pr||function(t){const e=new Gn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Pn(""),"text/html")}catch(t){return!1}}()?new $n(e):e}(t);let r=e?String(e):"";n=pr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=pr.getInertBodyElement(r)}while(r!==s);return Pn((new ur).sanitizeChildren(gr(n)||n))}finally{if(n){const t=gr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function gr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var yr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function br(t){const e=function(){const t=qt();return t&&t[12]}();return e?e.sanitize(yr.URL,t)||"":Bn(t,"URL")?Un(t):Xn(y(t))}function _r(t){return t.ngDebugContext}function vr(t){return t.ngOriginalError}function wr(t,...e){t.error(...e)}class Cr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||wr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?_r(t)?_r(t):this._findContext(vr(t)):null}_findOriginalError(t){let e=vr(t);for(;e&&vr(e);)e=vr(e);return e}}function Sr(t,e){t.__ngContext__=e}const Er=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(U))();function Or(t){return{name:"body",target:t.ownerDocument.body}}function xr(t){return t instanceof Function?t():t}var kr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Tr(t,e){return(void 0)(t,e)}function Ir(t){const e=t[3];return dt(e)?e[3]:e}function Ar(t){return Dr(t[13])}function Rr(t){return Dr(t[4])}function Dr(t){for(;null!==t&&!dt(t);)t=t[4];return t}function Pr(t,e,n,r,i){if(null!=r){let s,o=!1;dt(r)?s=r:ht(r)&&(o=!0,r=r[0]);const a=It(r);0===t&&null!==n?null==i?Br(e,n,a):Ur(e,n,a,i||null,!0):1===t&&null!==n?Ur(e,n,a,i||null,!0):2===t?function(t,e,n){const r=qr(t,e);r&&function(t,e,n,r){kt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==It(n)&&Pr(e,t,r,s,i);for(let o=ut;o<n.length;o++){const i=n[o];Yr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function jr(t,e,n){return kt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Nr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ut(i,-1)),n.splice(r,1)}function Lr(t,e){if(t.length<=ut)return;const n=ut+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Nr(s,r),e>0&&(t[n-1][4]=r[4]);const o=fn(t,ut+e);Yr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Fr(t,e){if(!(256&e[2])){const n=e[11];kt(n)&&n.destroyNode&&Yr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Mr(t[1],t);for(;e;){let n=null;if(ht(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ht(e)&&Mr(e[1],e),e=e[3];null===e&&(e=t),ht(e)&&Mr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Mr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof ke)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):It(e[t]),a=r[i=n[s+2]],c=n[s+3];"boolean"==typeof c?o.removeEventListener(n[s],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&kt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&dt(e[3])){n!==e[3]&&Nr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Vr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===N.None||e===N.Emulated)return null}return Rt(r,n)}(t,e.parent,n)}function Ur(t,e,n,r,i){kt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Br(t,e,n){kt(t)?t.appendChild(e,n):e.appendChild(n)}function zr(t,e,n,r,i){null!==r?Ur(t,e,n,r,i):Br(t,e,n)}function qr(t,e){return kt(t)?t.parentNode(e):e.parentNode}function Hr(t,e,n){return Kr(t,e,n)}let Kr=function(t,e,n){return 40&t.type?Rt(t,n):null};function Zr(t,e,n,r){const i=Vr(t,r,e),s=e[11],o=Hr(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)zr(s,i,n[a],o,!1);else zr(s,i,n,o,!1)}function Wr(t,e){if(null!==e){const n=e.type;if(3&n)return Rt(e,t);if(4&n)return Gr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Wr(t,n);{const n=t[e.index];return dt(n)?Gr(-1,n):It(n)}}if(32&n)return Tr(e,t)()||It(t[e.index]);{const n=$r(t,e);return null!==n?Array.isArray(n)?n[0]:Wr(Ir(t[16]),n):Wr(t,e.next)}}return null}function $r(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Gr(t,e){const n=ut+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Wr(t,r)}return e[7]}function Qr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&Sr(It(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)Qr(t,e,n.child,r,i,s,!1),Pr(e,t,i,a,s);else if(32&c){const o=Tr(n,r);let c;for(;c=o();)Pr(e,t,i,c,s);Pr(e,t,i,a,s)}else 16&c?Xr(t,e,r,n,i,s):Pr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Yr(t,e,n,r,i,s){Qr(n,r,t.firstChild,e,i,s,!1)}function Xr(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Pr(e,t,i,a[c],s);else Qr(t,e,a,o[3],i,s,!0)}function Jr(t,e,n){kt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ti(t,e,n){kt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ei(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ni="ng-template";function ri(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ei(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ii(t){return 4===t.type&&t.value!==ni}function si(t,e,n){return e===(4!==t.type||n?t.value:ni)}function oi(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ie(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!si(t,c,n)||""===c&&1===e.length){if(ai(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!ri(t.attrs,l,n)){if(ai(r))return!1;o=!0}continue}const u=ci(8&r?"class":c,i,ii(t),n);if(-1===u){if(ai(r))return!1;o=!0;continue}if(""!==l){let t;t=u>s?"":i[u+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ei(e,l,0)||2&r&&l!==t){if(ai(r))return!1;o=!0}}}}else{if(!o&&!ai(r)&&!ai(c))return!1;if(o&&ai(c))continue;o=!1,r=c|1&r}}return ai(r)||o}function ai(t){return 0==(1&t)}function ci(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function li(t,e,n=!1){for(let r=0;r<e.length;r++)if(oi(t,e[r],n))return!0;return!1}function ui(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function hi(t,e){return t?":not("+e.trim()+")":e}function di(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ai(o)||(e+=hi(s,i),i=""),r=o,s=s||!ai(r);n++}return""!==i&&(e+=hi(s,i)),e}const fi={};function pi(t){mi(Ht(),qt(),me()+t,Yt())}function mi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&we(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Ce(e,r,0,n)}ge(n)}function gi(t,e){return t<<17|e<<2}function yi(t){return t>>17&32767}function bi(t){return 2|t}function _i(t){return(131068&t)>>2}function vi(t,e){return-131069&t|e<<2}function wi(t){return 1|t}function Ci(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];oe(i),n.contentQueries(2,e[s],s)}}}function Si(t,e,n,r,i,s,o,a,c,l){const u=e.blueprint.slice();return u[0]=i,u[2]=140|r,Vt(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=a||t&&t[11],u[12]=c||t&&t[12]||null,u[9]=l||t&&t[9]||null,u[6]=s,u[16]=2==e.type?t[16]:u,u}function Ei(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Wt(),o=Gt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),Bt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=Bt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return $t(s,!0),s}function Oi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function xi(t,e,n){le(e);try{const r=t.viewQuery;null!==r&&ns(1,r,n);const i=t.template;null!==i&&Ii(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ci(t,e),t.staticViewQueries&&ns(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Yi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,pe()}}function ki(t,e,n,r){const i=e[2];if(256==(256&i))return;le(e);const s=Yt();try{Vt(e),Bt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Ii(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&we(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Ce(e,n,0,null),Se(e,0)}if(function(t){for(let e=Ar(t);null!==e;e=Rr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ut(r,1),n[2]|=1024}}}(e),function(t){for(let e=Ar(t);null!==e;e=Rr(e))for(let t=ut;t<e.length;t++){const n=e[t],r=n[1];Ft(n)&&ki(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ci(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&we(e,n)}else{const n=t.contentHooks;null!==n&&Ce(e,n,1),Se(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ge(~r);else{const i=r,s=n[++t],o=n[++t];ne(s,i),o(2,e[i])}}}finally{ge(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Gi(t,e[n])}(e,a);const c=t.viewQuery;if(null!==c&&ns(2,c,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&we(e,n)}else{const n=t.viewHooks;null!==n&&Ce(e,n,2),Se(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ut(e[3],-1))}finally{pe()}}function Ti(t,e,n,r){const i=e[10],s=!Yt(),o=Lt(e);try{s&&!o&&i.begin&&i.begin(),o&&xi(t,e,r),ki(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Ii(t,e,n,r,i){const s=me(),o=2&r;try{ge(-1),o&&e.length>lt&&mi(t,e,lt,Yt()),n(r,i)}finally{ge(s)}}function Ai(t,e,n){if(ft(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ri(t,e,n){zt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Ve(n,e),Sr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=gt(r);s&&Ki(e,n,r);const c=Ye(e,t,a,n);Sr(c,e),null!==o&&Zi(0,a-i,c,r,0,o),s&&(jt(n.index,e)[8]=c)}}(t,e,n,Rt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=Bt.lFrame.currentDirectiveIndex;try{ge(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];re(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Ui(r,i)}}finally{ge(-1),re(o)}}(t,e,n))}function Di(t,e,n=Rt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Pi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ji(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ji(t,e,n,r,i,s,o,a,c,l){const u=lt+r,h=u+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:fi);return n}(u,h),f="function"==typeof l?l():l;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Ni(t,e,n,r){const i=is(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&ss(t).push(r,i.length-1))}function Li(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Fi(t,e,n,r,i,s,o,a){const c=Rt(e,n);let l,u=e.inputs;var h;!a&&null!=u&&(l=u[r])?(cs(t,n,l,r,i),pt(e)&&function(t,e){const n=jt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=o?o(i,e.value||"",r):i,kt(s)?s.setProperty(c,r,i):Ae(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function Mi(t,e,n,r){let i=!1;if(zt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];li(n,o.selectors,!1)&&(i||(i=[]),qe(Ve(n,e),t,o.type),gt(o)?(Bi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,qi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,c=Oi(t,e,s.length,null);for(let i=0;i<s.length;i++){const l=s[i];n.mergedAttrs=Re(n.mergedAttrs,l.hostAttrs),Hi(t,n,e,c,l),zi(c,l,o),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let c=e.directiveStart;c<n;c++){const t=r[c],n=t.inputs,l=null===i||ii(e)?null:Wi(n,i);s.push(l),o=Li(n,c,o),a=Li(t.outputs,c,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new g("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Re(n.mergedAttrs,n.attrs),i}function Vi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Ui(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Bi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function zi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gt(e)&&(n[""]=t)}}function qi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Hi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=yt(i.type)),o=new ke(s,gt(i),null);t.blueprint[r]=o,n[r]=o,Vi(t,e,0,r,Oi(t,n,i.hostVars,fi),i)}function Ki(t,e,n){const r=Rt(e,t),i=Pi(n),s=t[10],o=Xi(t,Si(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Zi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Wi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function $i(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Gi(t,e){const n=jt(e,t);if(Ft(n)){const t=n[1];80&n[2]?ki(t,n,t.template,n[8]):n[5]>0&&Qi(n)}}function Qi(t){for(let n=Ar(t);null!==n;n=Rr(n))for(let t=ut;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];ki(t,e,t.template,e[8])}else e[5]>0&&Qi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=jt(e[n],t);Ft(r)&&r[5]>0&&Qi(r)}}function Yi(t,e){const n=jt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),xi(r,n,n[8])}function Xi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ji(t){for(;t;){t[2]|=64;const e=Ir(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function ts(t,e,n){const r=e[10];r.begin&&r.begin();try{ki(t,e,t.template,n)}catch(i){throw as(e,i),i}finally{r.end&&r.end()}}function es(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Nt(n),i=r[1];Ti(i,r,i.template,n)}}(t[8])}function ns(t,e,n){oe(0),e(t,n)}const rs=(()=>Promise.resolve(null))();function is(t){return t[7]||(t[7]=[])}function ss(t){return t.cleanup||(t.cleanup=[])}function os(t,e,n){return(null===t||gt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function as(t,e){const n=t[9],r=n?n.get(Cr,null):null;r&&r.handleError(e)}function cs(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],c=e[o],l=t.data[o];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function ls(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=h(i,t):2==s&&(r=h(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const us=new an("INJECTOR",-1);class hs{get(t,e=bn){if(e===bn){const e=new Error(`NullInjectorError: No provider for ${u(t)}!`);throw e.name="NullInjectorError",e}return e}}const ds=new an("Set Injector scope."),fs={},ps={},ms=[];let gs;function ys(){return void 0===gs&&(gs=new hs),gs}function bs(t,e=null,n=null,r){return new _s(t,n,e||ys(),r)}class _s{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&hn(e,n=>this.processProvider(n,t,e)),hn([t],t=>this.processInjectorType(t,[],i)),this.records.set(us,Cs(void 0,this));const s=this.records.get(ds);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:u(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=bn,n=I.Default){this.assertNotDestroyed();const r=Sn(this);try{if(!(n&I.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof an)&&C(t);e=n&&this.injectableDefInScope(n)?Cs(vs(t),fs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&I.Self?ys():this.parent).get(t,e=n&I.Optional&&e===bn?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(u(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[vn]&&i.unshift(e[vn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=u(e);if(Array.isArray(e))i=e.map(u).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):u(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(_n,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Sn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(u(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=p(t)))return!1;let r=E(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=E(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{hn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];hn(r,t=>this.processProvider(t,n,r||ms))}}this.injectorDefTypes.add(s);const a=yt(s)||(()=>new s);this.records.set(s,Cs(a,fs));const c=r.providers;if(null!=c&&!o){const e=t;hn(c,t=>this.processProvider(t,e,c))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Es(t=p(t))?t:p(t&&t.provide);const i=function(t,e,n){return Ss(t)?Cs(void 0,t.useValue):Cs(ws(t),fs)}(t);if(Es(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Cs(void 0,fs,!0),e.factory=()=>kn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===fs&&(e.value=ps,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function vs(t){const e=C(t),n=null!==e?e.factory:yt(t);if(null!==n)return n;if(t instanceof an)throw new Error(`Token ${u(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=pn(e,"?");throw new Error(`Can't resolve all parameters for ${u(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[O]||t[k]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ws(t,e,n){let r;if(Es(t)){const e=p(t);return yt(e)||vs(e)}if(Ss(t))r=()=>p(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...kn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>On(p(t.useExisting));else{const e=p(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return yt(e)||vs(e);r=()=>new e(...kn(t.deps))}var i;return r}function Cs(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ss(t){return null!==t&&"object"==typeof t&&wn in t}function Es(t){return"function"==typeof t}const Os=function(t,e,n){return function(t,e=null,n=null,r){const i=bs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let xs=(()=>{class t{static create(t,e){return Array.isArray(t)?Os(t,e,""):Os(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=bn,t.NULL=new hs,t.\u0275prov=v({token:t,providedIn:"any",factory:()=>On(us)}),t.__NG_ELEMENT_ID__=-1,t})();function ks(t,e){ve(Nt(t)[1],Zt())}function Ts(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(gt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Is(t.inputs),e.declaredInputs=Is(t.declaredInputs),e.outputs=Is(t.outputs);const n=i.hostBindings;n&&Ds(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&As(t,s),o&&Rs(t,o),l(t.inputs,i.inputs),l(t.declaredInputs,i.declaredInputs),l(t.outputs,i.outputs),gt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Ts&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Re(i.hostAttrs,n=Re(n,i.hostAttrs))}}(r)}function Is(t){return t===B?{}:t===q?[]:t}function As(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Rs(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Ds(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Ps=null;function js(){if(!Ps){const t=U.Symbol;if(t&&t.iterator)Ps=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ps=n)}}}return Ps}class Ns{constructor(t){this.wrapped=t}static wrap(t){return new Ns(t)}static unwrap(t){return Ns.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ns}}function Ls(t){return!!Fs(t)&&(Array.isArray(t)||!(t instanceof Map)&&js()in t)}function Fs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ms(t,e,n){return t[e]=n}function Vs(t,e){return t[e]}function Us(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Bs(t,e,n,r){const i=Us(t,e,n);return Us(t,e+1,r)||i}function zs(t,e,n,r){const i=qt();return Us(i,te(),e)&&(Ht(),function(t,e,n,r,i,s){const o=Rt(t,e);!function(t,e,n,r,i,s,o){if(null==s)kt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?y(s):o(s,r||"",i);kt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(ye(),i,t,e,n,r)),zs}function qs(t,e,n,r){return Us(t,te(),n)?e+y(n)+r:fi}function Hs(t,e,n,r,i,s,o,a){const c=qt(),l=Ht(),u=t+lt,h=l.firstCreatePass?function(t,e,n,r,i,s,o,a,c){const l=e.consts,u=Ei(e,t,4,o||null,Mt(l,a));Mi(e,n,u,Mt(l,c)),ve(e,u);const h=u.tViews=ji(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l);return null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];$t(h,!1);const d=c[11].createComment("");Zr(l,c,d,h),Sr(d,c),Xi(c,c[u]=$i(d,c,d,h)),mt(h)&&Ri(l,c,h),null!=o&&Di(c,h,a)}function Ks(t){return Pt(Bt.lFrame.contextLView,lt+t)}function Zs(t,e=I.Default){const n=qt();return null===n?On(t,e):Ze(Zt(),n,p(t),e)}function Ws(t,e,n){const r=qt();return Us(r,te(),e)&&Fi(Ht(),ye(),r,t,e,r[11],n,!1),Ws}function $s(t,e,n,r,i){const s=i?"class":"style";cs(t,n,e.inputs[s],s,r)}function Gs(t,e,n,r){const i=qt(),s=Ht(),o=lt+t,a=i[11],c=i[o]=jr(a,e,Bt.lFrame.currentNamespace),l=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,c=Ei(e,t,2,i,Mt(a,s));return Mi(e,n,c,Mt(a,o)),null!==c.attrs&&ls(c,c.attrs,!1),null!==c.mergedAttrs&&ls(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];$t(l,!0);const u=l.mergedAttrs;null!==u&&Te(a,c,u);const h=l.classes;null!==h&&ti(a,c,h);const d=l.styles;null!==d&&Jr(a,c,d),64!=(64&l.flags)&&Zr(s,i,c,l),0===Bt.lFrame.elementDepthCount&&Sr(c,i),Bt.lFrame.elementDepthCount++,mt(l)&&(Ri(s,i,l),Ai(s,l,i)),null!==r&&Di(i,l)}function Qs(){let t=Zt();Gt()?Qt():(t=t.parent,$t(t,!1));const e=t;Bt.lFrame.elementDepthCount--;const n=Ht();n.firstCreatePass&&(ve(n,t),ft(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&$s(n,e,qt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&$s(n,e,qt(),e.stylesWithoutHost,!1)}function Ys(t,e,n,r){Gs(t,e,n,r),Qs()}function Xs(t,e,n){const r=qt(),i=Ht(),s=t+lt,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Mt(s,r),a=Ei(e,t,8,"ng-container",o);return null!==o&&ls(a,o,!0),Mi(e,n,a,Mt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];$t(o,!0);const a=r[s]=r[11].createComment("");Zr(i,r,a,o),Sr(a,r),mt(o)&&(Ri(i,r,o),Ai(i,o,r)),null!=n&&Di(r,o)}function Js(){let t=Zt();const e=Ht();Gt()?Qt():(t=t.parent,$t(t,!1)),e.firstCreatePass&&(ve(e,t),ft(t)&&e.queries.elementEnd(t))}function to(t,e,n){Xs(t,e,n),Js()}function eo(){return qt()}function no(t){return!!t&&"function"==typeof t.then}function ro(t){return!!t&&"function"==typeof t.subscribe}const io=ro;function so(t,e,n=!1,r){const i=qt(),s=Ht(),o=Zt();return ao(s,i,i[11],o,t,e,n,r),so}function oo(t,e,n=!1,r){const i=Zt(),s=qt(),o=Ht();return ao(o,s,os(ie(o.data),i,s),i,t,e,n,r),oo}function ao(t,e,n,r,i,s,o=!1,a){const c=mt(r),l=t.firstCreatePass&&ss(t),u=is(e);let h=!0;if(3&r.type){const d=Rt(r,e),f=a?a(d):B,p=f.target||d,m=u.length,g=a?t=>a(It(t[r.index])).target:r.index;if(kt(n)){let o=null;if(!a&&c&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=lo(r,e,0,s,!1);const t=n.listen(f.name||p,i,s);u.push(s,t),l&&l.push(i,g,m,m+1)}}else s=lo(r,e,0,s,!0),p.addEventListener(i,s,o),u.push(s),l&&l.push(i,g,m,o)}else s=lo(r,e,0,s,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(s),o=u.length;u.push(s,t),l&&l.push(i,r.index,o,-(o+1))}}}function co(t,e,n,r){try{return!1!==n(r)}catch(i){return as(t,i),!1}}function lo(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?jt(t.index,e):e;0==(32&e[2])&&Ji(o);let a=co(e,0,r,s),c=n.__ngNextListenerFn__;for(;c;)a=co(e,0,c,s)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function uo(t=1){return function(t){return(Bt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Bt.lFrame.contextLView))[8]}(t)}function ho(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?li(t,s,!0):ui(r,s))return i}else n=i}return n}function fo(t){const e=qt()[16][6];if(!e.projection){const n=e.projection=pn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?ho(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function po(t,e=0,n){const r=qt(),i=Ht(),s=Ei(i,lt+t,16,null,n||null);null===s.projection&&(s.projection=e),Qt(),64!=(64&s.flags)&&function(t,e,n){Xr(e[11],0,e,n,Vr(t,n,e),Hr(n.parent||e[6],n,e))}(i,r,s)}function mo(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?yi(s):_i(s),c=!1;for(;0!==a&&(!1===c||o);){const n=t[a+1];go(t[a],e)&&(c=!0,t[a+1]=r?wi(n):bi(n)),a=r?yi(n):_i(n)}c&&(t[n+1]=r?bi(s):wi(s))}function go(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&yn(t,e)>=0}const yo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bo(t){return t.substring(yo.key,yo.keyEnd)}function _o(t,e){const n=yo.textEnd;return n===e?-1:(e=yo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,yo.key=e,n),vo(t,e,n))}function vo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function wo(t,e,n){return Eo(t,e,n,!1),wo}function Co(t,e){return Eo(t,e,null,!0),Co}function So(t,e){for(let n=function(t){return function(t){yo.key=0,yo.keyEnd=0,yo.value=0,yo.valueEnd=0,yo.textEnd=t.length}(t),_o(t,vo(t,0,yo.textEnd))}(e);n>=0;n=_o(e,n))mn(t,bo(e),!0)}function Eo(t,e,n,r){const i=qt(),s=Ht(),o=ee(2);s.firstUpdatePass&&xo(s,t,o,r),e!==fi&&Us(i,o,e)&&Io(s,s.data[me()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=u(Un(t)))),t}(e,n),r,o)}function Oo(t,e){return e>=t.expandoStartIndex}function xo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[me()],o=Oo(t,n);Do(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=ie(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=To(n=ko(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=ko(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==_i(r))return t[yi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=ko(null,t,e,n[1],r),n=To(n,e.attrs,r),function(t,e,n,r){t[yi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=To(r,t[s].hostAttrs,n);return To(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=yi(o),c=_i(o);t[r]=n;let l,u=!1;if(Array.isArray(n)){const t=n;l=t[1],(null===l||yn(t,l)>0)&&(u=!0)}else l=n;if(i)if(0!==c){const e=yi(t[a+1]);t[r+1]=gi(e,a),0!==e&&(t[e+1]=vi(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=gi(a,0),0!==a&&(t[a+1]=vi(t[a+1],r)),a=r;else t[r+1]=gi(c,0),0===a?a=r:t[c+1]=vi(t[c+1],r),c=r;u&&(t[r+1]=bi(t[r+1])),mo(t,l,r,!0),mo(t,l,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&yn(s,e)>=0&&(n[r+1]=wi(n[r+1]))}(e,l,t,r,s),o=gi(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function ko(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=To(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function To(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),mn(t,o,!!n||e[++s]))}return void 0===t?null:t}function Io(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1];Ro(1==(1&l)?Ao(c,e,n,i,_i(l),o):void 0)||(Ro(s)||2==(2&l)&&(s=Ao(c,null,n,i,a,o)),function(t,e,n,r,i){const s=kt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:kr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=kr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,At(me(),n),i,s))}function Ao(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),c=s?e[1]:e,l=null===c;let u=n[i+1];u===fi&&(u=l?z:void 0);let h=l?gn(u,r):c===r?u:void 0;if(s&&!Ro(h)&&(h=gn(e,r)),Ro(h)&&(a=h,o))return a;const d=t[i+1];i=o?yi(d):_i(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=gn(t,r))}return a}function Ro(t){return void 0!==t}function Do(t,e){return 0!=(t.flags&(e?16:32))}function Po(t,e=""){const n=qt(),r=Ht(),i=t+lt,s=r.firstCreatePass?Ei(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return kt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Zr(r,n,o,s),$t(s,!1)}function jo(t){return No("",t,""),jo}function No(t,e,n){const r=qt(),i=qs(r,t,e,n);return i!==fi&&function(t,e,n){const r=At(e,t);!function(t,e,n){kt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,me(),i),No}function Lo(t,e,n){!function(t,e,n,r){const i=Ht(),s=ee(2);i.firstUpdatePass&&xo(i,null,s,r);const o=qt();if(n!==fi&&Us(o,s,n)){const a=i.data[me()];if(Do(a,r)&&!Oo(i,s)){let t=a.classesWithoutHost;null!==t&&(n=h(t,n||"")),$s(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===fi&&(i=z);let c=0,l=0,u=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const o=c<i.length?i[c+1]:void 0,d=l<s.length?s[l+1]:void 0;let f,p=null;u===h?(c+=2,l+=2,o!==d&&(p=h,f=d)):null===h||null!==u&&u<h?(c+=2,p=u):(l+=2,p=h,f=d),null!==p&&Io(t,e,n,r,p,f,true,a),u=c<i.length?i[c]:null,h=l<s.length?s[l]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return z;const r=[],i=Un(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,s)}}(mn,So,qs(qt(),t,e,n),!0)}function Fo(t,e,n){const r=qt();return Us(r,te(),e)&&Fi(Ht(),ye(),r,t,e,r[11],n,!0),Fo}function Mo(t,e,n){const r=qt();if(Us(r,te(),e)){const i=Ht(),s=ye();Fi(i,s,r,t,e,os(ie(i.data),s,r),n,!0)}return Mo}const Vo=void 0;var Uo=["en",[["a","p"],["AM","PM"],Vo],[["AM","PM"],Vo,Vo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vo,"{1} 'at' {0}",Vo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Bo={};function zo(t,e,n){"string"!=typeof e&&(n=e,e=t[Wo.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Bo[e]=t,n&&(Bo[e][Wo.ExtraData]=n)}function qo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Zo(e);if(n)return n;const r=e.split("-")[0];if(n=Zo(r),n)return n;if("en"===r)return Uo;throw new Error(`Missing locale data for the locale "${t}".`)}function Ho(t){return qo(t)[Wo.CurrencyCode]||null}function Ko(t){return qo(t)[Wo.PluralCase]}function Zo(t){return t in Bo||(Bo[t]=U.ng&&U.ng.common&&U.ng.common.locales&&U.ng.common.locales[t]),Bo[t]}var Wo=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const $o="en-US";let Go=$o;function Qo(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Go=t.toLowerCase().replace(/_/g,"-"))}function Yo(t,e,n,r,i){if(t=p(t),Array.isArray(t))for(let s=0;s<t.length;s++)Yo(t[s],e,n,r,i);else{const s=Ht(),o=qt();let a=Es(t)?t:p(t.provide),c=ws(t);const l=Zt(),u=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(Es(t)||!t.multi){const r=new ke(c,i,Zs),f=ta(a,e,i?u:u+d,h);-1===f?(qe(Ve(l,o),s,a),Xo(s,t,e.length),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=ta(a,e,u+d,h),p=ta(a,e,u,u+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){qe(Ve(l,o),s,a);const u=function(t,e,n,r,i){const s=new ke(t,n,Zs);return s.multi=[],s.index=e,s.componentProviders=0,Jo(s,i,r&&!n),s}(i?na:ea,n.length,i,r,c);!i&&g&&(n[p].providerFactory=u),Xo(s,t,e.length,0),e.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(u),o.push(u)}else Xo(s,t,f>-1?f:p,Jo(n[i?p:f],c,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Xo(t,e,n,r){const i=Es(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Jo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ta(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ea(t,e,n,r){return ra(this.multi,[])}function na(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ye(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),ra(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],ra(i,s);return s}function ra(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ia(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ht();if(r.firstCreatePass){const i=gt(t);Yo(n,r.data,r.blueprint,i,!0),Yo(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class sa{}class oa{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${u(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let aa=(()=>{class t{}return t.NULL=new oa,t})();function ca(...t){}function la(t,e){return new ha(Rt(t,e))}const ua=function(){return la(Zt(),qt())};let ha=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=ua,t})();function da(t){return t instanceof ha?t.nativeElement:t}class fa{}let pa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ma(),t})();const ma=function(){const t=qt(),e=jt(Zt().index,t);return function(t){return t[11]}(ht(e)?e:t)};let ga=(()=>{class t{}return t.\u0275prov=v({token:t,providedIn:"root",factory:()=>null}),t})();class ya{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ba=new ya("11.2.14");class _a{constructor(){}supports(t){return Ls(t)}create(t){return new wa(t)}}const va=(t,e)=>e;class wa{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||va}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Oa(n,r,i)?e:n,o=Oa(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ls(t))throw new Error(`Error trying to diff '${u(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[js()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Ca(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ea),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ea),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ca{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Sa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ea{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Sa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Oa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class xa{constructor(){}supports(t){return t instanceof Map||Fs(t)}create(){return new ka}}class ka{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Fs(t)))throw new Error(`Error trying to diff '${u(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ta(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ta{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ia(){return new Aa([new _a])}let Aa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ia()),deps:[[t,new Rn,new An]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=v({token:t,providedIn:"root",factory:Ia}),t})();function Ra(){return new Da([new xa])}let Da=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ra()),deps:[[t,new Rn,new An]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=v({token:t,providedIn:"root",factory:Ra}),t})();function Pa(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(It(s)),dt(s))for(let t=ut;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&Pa(e[1],e,n,r)}const o=n.type;if(8&o)Pa(t,e,n.child,r);else if(32&o){const t=Tr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=$r(e,n);if(Array.isArray(t))r.push(...t);else{const n=Ir(e[16]);Pa(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class ja{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Pa(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(dt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Lr(t,n),fn(e,n))}this._attachedToViewContainer=!1}Fr(this._lView[1],this._lView)}onDestroy(t){Ni(this._lView[1],this._lView,null,t)}markForCheck(){Ji(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ts(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Xt(!0);try{ts(t,e,n)}finally{Xt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Yr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Na extends ja{constructor(t){super(t),this._view=t}detectChanges(){es(this._view)}checkNoChanges(){!function(t){Xt(!0);try{es(t)}finally{Xt(!1)}}(this._view)}get context(){return null}}const La=Ma;let Fa=(()=>{class t{}return t.__NG_ELEMENT_ID__=La,t.__ChangeDetectorRef__=!0,t})();function Ma(t=!1){return function(t,e,n){if(!n&&pt(t)){const n=jt(t.index,e);return new ja(n,n)}return 47&t.type?new ja(e[16],e):null}(Zt(),qt(),t)}const Va=[new xa],Ua=new Aa([new _a]),Ba=new Da(Va),za=function(){return Za(Zt(),qt())};let qa=(()=>{class t{}return t.__NG_ELEMENT_ID__=za,t})();const Ha=qa,Ka=class extends Ha{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Si(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),xi(e,n,t),new ja(n)}};function Za(t,e){return 4&t.type?new Ka(e,t,la(t,e)):null}class Wa{}class $a{}const Ga=function(){return ec(Zt(),qt())};let Qa=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ga,t})();const Ya=Qa,Xa=class extends Ya{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return la(this._hostTNode,this._hostLView)}get injector(){return new tn(this._hostTNode,this._hostLView)}get parentInjector(){const t=ze(this._hostTNode,this._hostLView);if(Pe(t)){const e=Ne(t,this._hostLView),n=je(t);return new tn(e[1].data[n+8],e)}return new tn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ja(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ut}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Wa,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(dt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Xa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ut+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ut?(e[4]=n[i],dn(n,ut+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Gr(i,s),a=n[11],c=qr(a,s[7]);return null!==c&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Yr(t,r,n,1,i,s)}(r,s[6],a,n,c,o),t.attachToViewContainerRef(),dn(tc(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ja(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Lr(this._lContainer,e);n&&(fn(tc(this._lContainer),e),Fr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Lr(this._lContainer,e);return n&&null!=fn(tc(this._lContainer),e)?new ja(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ja(t){return t[8]}function tc(t){return t[8]||(t[8]=[])}function ec(t,e){let n;const r=e[t.index];if(dt(r))n=r;else{let i;if(8&t.type)i=It(r);else{const n=e[11];i=n.createComment("");const r=Rt(t,e);Ur(n,qr(n,r),i,function(t,e){return kt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=$i(r,e,i,t),Xi(e,n)}return new Xa(n,t,e)}const nc={};class rc extends aa{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=at(t);return new oc(e,this.ngModule)}}function ic(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const sc=new an("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Er});class oc extends sa{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(di).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return ic(this.componentDef.inputs)}get outputs(){return ic(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,nc,i);return s!==nc||r===nc?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(fa,Tt),o=i.get(ga,null),a=s.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(t,e,n){if(kt(t))return t.selectRootElement(e,n===N.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):jr(s.createRenderer(null,this.componentDef),c,function(t){const e=t.toLowerCase();return"svg"===e?Et:"math"===e?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:Er,clean:rs,playerHandler:null,flags:0},d=ji(0,null,null,1,0,null,null,null,null,null),f=Si(null,d,h,u,null,null,s,a,o,i);let p,m;le(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Ei(o,20,2,"#host",null),c=a.mergedAttrs=e.hostAttrs;null!==c&&(ls(a,c,!0),null!==t&&(Te(i,t,c),null!==a.classes&&ti(i,t,a.classes),null!==a.styles&&Jr(i,t,a.styles)));const l=r.createRenderer(t,e),u=Si(n,Pi(e),null,e.onPush?64:16,n[20],a,r,l,null,null);return o.firstCreatePass&&(qe(Ve(a,n),o,e.type),Bi(o,a),qi(a,n.length,1)),Xi(n,u),n[20]=u}(l,this.componentDef,f,s,a);if(l)if(n)Te(a,l,["ng-version",ba.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ai(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Te(a,l,t),e&&e.length>0&&ti(a,l,e.join(" "))}if(m=Dt(d,lt),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Hi(t,r,e,Oi(t,e,1,null),n));const i=Ye(e,t,r.directiveStart,r);Sr(i,e);const s=Rt(r,e);return s&&Sr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Zt();e.contentQueries(1,o,t.directiveStart)}const a=Zt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ge(a.index),Vi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ui(e,o)),o}(t,this.componentDef,f,h,[ks]),xi(d,f,null)}finally{pe()}return new ac(this.componentType,p,la(m,f),f,m)}}class ac extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Na(r),this.componentType=t}get injector(){return new tn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const cc=new Map;class lc extends Wa{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new rc(this);const n=ct(t),r=t[$]||null;r&&Qo(r),this._bootstrapComponents=xr(n.bootstrap),this._r3Injector=bs(t,e,[{provide:Wa,useValue:this},{provide:aa,useValue:this.componentFactoryResolver}],u(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=xs.THROW_IF_NOT_FOUND,n=I.Default){return t===xs||t===Wa||t===us?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class uc extends $a{constructor(t){super(),this.moduleType=t,null!==ct(t)&&function(t){const e=new Set;!function t(n){const r=ct(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${u(e)} vs ${u(e.name)}`)}(i,cc.get(i),n),cc.set(i,n));const s=xr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new lc(this.moduleType,t)}}function hc(t,e,n){const r=Jt()+t,i=qt();return i[r]===fi?Ms(i,r,n?e.call(n):e()):Vs(i,r)}function dc(t,e,n,r){return pc(qt(),Jt(),t,e,n,r)}function fc(t,e,n,r,i,s,o,a){const c=Jt()+t,l=qt(),u=function(t,e,n,r,i,s){const o=Bs(t,e,n,r);return Bs(t,e+2,i,s)||o}(l,c,n,r,i,s);return Us(l,c+4,o)||u?Ms(l,c+5,a?e.call(a,n,r,i,s,o):e(n,r,i,s,o)):Vs(l,c+5)}function pc(t,e,n,r,i,s){const o=e+n;return Us(t,o,i)?Ms(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===fi?void 0:n}(t,o+1)}function mc(t,e){const n=Ht();let r;const i=t+lt;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new g("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=yt(r.type)),o=R(Zs);try{const t=Fe(!1),e=s();return Fe(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,qt(),i,e),e}finally{R(o)}}function gc(t,e,n){const r=t+lt,i=qt(),s=Pt(i,r);return function(t,e){return Ns.isWrapped(e)&&(e=Ns.unwrap(e),t[Bt.lFrame.bindingIndex]=fi),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?pc(i,Jt(),e,s.transform,n,s):s.transform(n))}function yc(t){return e=>{setTimeout(t,void 0,e)}}const bc=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,c=e||(()=>null),l=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),c=null===(s=e.error)||void 0===s?void 0:s.bind(e),l=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(c=yc(c),a&&(a=yc(a)),l&&(l=yc(l)));const u=super.subscribe({next:a,error:c,complete:l});return t instanceof i.a&&t.add(u),u}};function _c(){return this._results[js()]()}class vc{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=js(),n=vc.prototype;n[e]||(n[e]=_c)}get changes(){return this._changes||(this._changes=new bc)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=un(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class wc{constructor(t){this.queryList=t,this.matches=null}clone(){return new wc(this.queryList)}setDirty(){this.queryList.setDirty()}}class Cc{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Cc(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Lc(t,e).matches&&this.queries[e].setDirty()}}class Sc{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Ec{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ec(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Oc{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Oc(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,xc(e,i)),this.matchTNodeWithReadOption(t,e,Qe(e,t,i,!1,!1))}else n===qa?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Qe(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ha||r===Qa||r===qa&&4&e.type)this.addMatch(e.index,-2);else{const n=Qe(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function xc(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function kc(t,e,n,r){return-1===n?function(t,e){return 11&t.type?la(t,e):4&t.type?Za(t,e):null}(e,t):-2===n?function(t,e,n){return n===ha?la(e,t):n===qa?Za(e,t):n===Qa?ec(e,t):void 0}(t,e,r):Ye(t,t[1],n,e)}function Tc(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:kc(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Ic(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=Tc(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ut;t<o.length;t++){const e=o[t];e[17]===e[3]&&Ic(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];Ic(n[1],n,i,r)}}}}}return r}function Ac(t){const e=qt(),n=Ht(),r=se();oe(r+1);const i=Lc(n,r);if(t.dirty&&Lt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?Ic(n,e,r,[]):Tc(n,e,i,r);t.reset(s,da),t.notifyOnChanges()}return!0}return!1}function Rc(t,e,n){const r=Ht();r.firstCreatePass&&(Nc(r,new Sc(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),jc(r,qt(),e)}function Dc(t,e,n,r){const i=Ht();if(i.firstCreatePass){const s=Zt();Nc(i,new Sc(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}jc(i,qt(),n)}function Pc(){return t=qt(),e=se(),t[19].queries[e].queryList;var t,e}function jc(t,e,n){const r=new vc(4==(4&n));Ni(t,e,r,r.destroy),null===e[19]&&(e[19]=new Cc),e[19].queries.push(new wc(r))}function Nc(t,e,n){null===t.queries&&(t.queries=new Ec),t.queries.track(new Oc(e,n))}function Lc(t,e){return t.queries.getByIndex(e)}function Fc(t=I.Default){const e=Ma(!0);if(null!=e||t&I.Optional)return e;_("ChangeDetectorRef")}const Mc=new an("Application Initializer");let Vc=(()=>{class t{constructor(t){this.appInits=t,this.resolve=ca,this.reject=ca,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();no(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(On(Mc,8))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const Uc=new an("AppId"),Bc={provide:Uc,useFactory:function(){return`${zc()}${zc()}${zc()}`},deps:[]};function zc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const qc=new an("Platform Initializer"),Hc=new an("Platform ID"),Kc=new an("appBootstrapListener");let Zc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const Wc=new an("LocaleId"),$c=new an("DefaultCurrencyCode");class Gc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Qc=function(t){return new uc(t)},Yc=Qc,Xc=function(t){return Promise.resolve(Qc(t))},Jc=function(t){const e=Qc(t),n=xr(ct(t).declarations).reduce((t,e)=>{const n=at(e);return n&&t.push(new oc(n)),t},[]);return new Gc(e,n)},tl=Jc,el=function(t){return Promise.resolve(Jc(t))};let nl=(()=>{class t{constructor(){this.compileModuleSync=Yc,this.compileModuleAsync=Xc,this.compileModuleAndAllComponentsSync=tl,this.compileModuleAndAllComponentsAsync=el}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();const rl=(()=>Promise.resolve(0))();function il(t){"undefined"==typeof Zone?rl.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class sl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bc(!1),this.onMicrotaskEmpty=new bc(!1),this.onStable=new bc(!1),this.onError=new bc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=U.requestAnimationFrame,e=U.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(U,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,cl(t),al(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),cl(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return ll(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),ul(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return ll(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),ul(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,cl(t),al(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!sl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(sl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,ol,ca,ca);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const ol={};function al(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function cl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function ll(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ul(t){t._nesting--,al(t)}class hl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bc,this.onMicrotaskEmpty=new bc,this.onStable=new bc,this.onError=new bc}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let dl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{sl.assertNotInAngularZone(),il(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())il(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(On(sl))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})(),fl=(()=>{class t{constructor(){this._applications=new Map,yl.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return yl.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();class pl{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function ml(t){yl=t}let gl,yl=new pl,bl=!0,_l=!1;function vl(){return _l=!0,bl}function wl(){if(_l)throw new Error("Cannot enable prod mode after platform setup.");bl=!1}const Cl=new an("AllowMultipleToken");class Sl{constructor(t,e){this.name=t,this.token=e}}function El(t,e,n=[]){const r=`Platform: ${e}`,i=new an(r);return(e=[])=>{let s=Ol();if(!s||s.injector.get(Cl,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ds,useValue:"platform"});!function(t){if(gl&&!gl.destroyed&&!gl.injector.get(Cl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");gl=t.get(xl);const e=t.get(qc,null);e&&e.forEach(t=>t())}(xs.create({providers:t,name:r}))}return function(t){const e=Ol();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Ol(){return gl&&!gl.destroyed?gl:null}let xl=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new hl:("zone.js"===t?void 0:t)||new sl({enableLongStackTrace:vl(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:sl,useValue:n}];return n.run(()=>{const e=xs.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Cr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{Il(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return no(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Vc);return t.runInitializers(),t.donePromise.then(()=>(Qo(i.injector.get(Wc,$o)||$o),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=kl({},e);return function(t,e,n){const r=new uc(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Tl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${u(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(On(xs))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function kl(t,e){return Array.isArray(e)?e.reduce(kl,t):Object.assign(Object.assign({},t),e)}let Tl=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{sl.assertNotInAngularZone(),il(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{sl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(Object(a.a)()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof sa?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Wa),i=n.create(xs.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(dl,null),a=o&&i.injector.get(fl);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),Il(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Il(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Kc,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(On(sl),On(xs),On(Cr),On(aa),On(Vc))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function Il(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Al{}class Rl{}const Dl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Pl=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Dl}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>jl(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>jl(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(On(nl),On(Rl,8))},t.\u0275prov=v({token:t,factory:t.\u0275fac}),t})();function jl(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class Nl extends Fa{}class Ll extends Nl{}const Fl=function(t){return null},Ml=El(null,"core",[{provide:Hc,useValue:"unknown"},{provide:xl,deps:[xs]},{provide:fl,deps:[]},{provide:Zc,deps:[]}]),Vl=[{provide:Tl,useClass:Tl,deps:[sl,xs,Cr,aa,Vc]},{provide:sc,deps:[sl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Vc,useClass:Vc,deps:[[new An,Mc]]},{provide:nl,useClass:nl,deps:[]},Bc,{provide:Aa,useFactory:function(){return Ua},deps:[]},{provide:Da,useFactory:function(){return Ba},deps:[]},{provide:Wc,useFactory:function(t){return Qo(t=t||"undefined"!=typeof $localize&&$localize.locale||$o),t},deps:[[new In(Wc),new An,new Rn]]},{provide:$c,useValue:"USD"}];let Ul=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(On(Tl))},t.\u0275mod=nt({type:t}),t.\u0275inj=w({providers:Vl}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mrSG:function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"g",function(){return c}),n.d(e,"e",function(){return l}),n.d(e,"f",function(){return u});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{c(r.next(t))}catch(e){s(e)}}function a(t){try{c(r.throw(t))}catch(e){s(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}c((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function u(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return u});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("z6cu");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function c(t,e=0){return function(n){return n.lift(new l(t,e))}}class l{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))}}class u extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(u.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"d",function(){return f});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},c=o.INFO,l=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),u=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=l[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=c,this._logHandler=u,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function d(t){s.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return C}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return v}),n.d(e,"e",function(){return I}),n.d(e,"f",function(){return O}),n.d(e,"g",function(){return c}),n.d(e,"h",function(){return x}),n.d(e,"i",function(){return s}),n.d(e,"j",function(){return o}),n.d(e,"k",function(){return A}),n.d(e,"l",function(){return l}),n.d(e,"m",function(){return d}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return m}),n.d(e,"p",function(){return g}),n.d(e,"q",function(){return b}),n.d(e,"r",function(){return u}),n.d(e,"s",function(){return h}),n.d(e,"t",function(){return p}),n.d(e,"u",function(){return y}),n.d(e,"v",function(){return _});var r=n("mrSG"),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=(15&a)<<2|l>>6,h=63&l;c||(h=64,o||(u=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[u],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,c=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==c)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==c&&r.push(a<<6&192|c))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function s(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function c(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object(r.a)({iss:"https://securetoken.google.com/"+n,aud:n,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function l(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(l())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function d(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function m(){return l().indexOf("Electron/")>=0}function g(){var t=l();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return l().indexOf("MSAppHost/")>=0}function b(){return"indexedDB"in self&&null!=indexedDB}function _(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(s){e(s)}})}function v(){return!(!navigator||!navigator.cookieEnabled)}var w=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,C.prototype.create),s}return Object(r.c)(e,t),e}(Error),C=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?S(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",c=new w(i,a,r);return c},t}();function S(t,e){return t.replace(E,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var E=/\{\$([^}]+)}/g;function O(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function x(t,e){var n=new k(t,e);return n.subscribe.bind(n)}var k=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=T),void 0===r.error&&(r.error=T),void 0===r.complete&&(r.complete=T);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function T(){}function I(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function A(t){return t&&t._delegate?t._delegate:t}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return c});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),c=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:l,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(l)){a&&(this._unsubscribe=void 0);try{l.call(this)}catch(h){e=h instanceof o?c(h.errors):[h]}}if(Object(r.a)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(c(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return k}),n.d(e,"b",function(){return _}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return v}),n.d(e,"e",function(){return f}),n.d(e,"f",function(){return y}),n.d(e,"g",function(){return O}),n.d(e,"h",function(){return C}),n.d(e,"i",function(){return p}),n.d(e,"j",function(){return g}),n.d(e,"k",function(){return S});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),c=n("fXoL"),l=n("Jgta");function u(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",u,{},u,u)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new c.s("angularfire2.app.options"),_=new c.s("angularfire2.app.nameOrConfig");class v{}const w=new c.R("6.1.5");function C(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=l.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>l.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&E("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const S=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(c.Y)()&&"undefined"!=typeof console&&console[t](...e)};function O(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(c){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const x={provide:v,useFactory:C,deps:[b,c.B,[new c.C,_]]};let k=(()=>{class t{constructor(t){l.a.registerVersion("angularfire",w.full,t.toString()),l.a.registerVersion("angular",c.Q.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:_,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(c.Zb(c.D))},t.\u0275mod=c.Nb({type:t}),t.\u0275inj=c.Mb({providers:[x]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("7Hc7"),s=n("Y7HM");class o extends r.a{constructor(t,e=0,n=i.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(s.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=i.a)}static create(t,e=0,n=i.a){return new o(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(o.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new o(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new c(t,this.nextOrObserver,this.error,this.complete))}}class c extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},w1tV:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("EQ5u"),i=n("x+ZX"),s=n("XNiG");function o(){return new s.a}function a(){return t=>{return Object(i.a)()((e=o,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,r.b);return i.source=t,i.subjectFactory=n,i})(t));var e}}},"x+ZX":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},z6cu:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("HDdC");function i(t,e){return new r.a(e?n=>e.schedule(s,0,{error:t,subscriber:n}):e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},zIRd:function(t,e,n){"use strict";var r,i,s=n("mrSG"),o=n("qOnz"),a=n("/6Yf"),c=n("q/0M"),l=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),u=new o.b("app","Firebase",l),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new c.b("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.i)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw u.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=d);var a=s.name;if("string"!=typeof a||!a)throw u.create("bad-app-name",{appName:String(a)});if(Object(o.f)(e,a))throw u.create("duplicate-app",{appName:a});var c=new t(n,s,r);return e[a]=c,c},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),c=e.match(/\s|\//);if(o||c){var l=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&l.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&c&&l.push("and"),c&&l.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(l.join(" "))}s(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:c.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw u.create("invalid-log-argument");Object(c.d)(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:s,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||d,!Object(o.f)(e,t))throw u.create("no-app",{appName:t});return e[t]}function s(s){var a=s.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===s.type?r[a]:null;if(n.set(a,s),"PUBLIC"===s.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw u.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==s.serviceProps&&Object(o.j)(c,s.serviceProps),r[a]=c,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,s.multipleInstances?t:[])}}for(var l=0,h=Object.keys(e);l<h.length;l++)e[h[l]]._addComponent(s);return"PUBLIC"===s.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.j)(e,t)},createSubscribe:o.h,ErrorFactory:o.b,deepExtend:o.j}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.m)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.s)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_.apply(void 0,t)};var v=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.22",void 0),t.registerVersion("fire-js","")}(v),e.a=v},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.s("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Lb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Zb)(u)}const l=new r.s("Location Initialized");let u=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(o))},t.\u0275prov=Object(r.Lb)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new u(Object(r.Zb)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Lb)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Zb)(o).location;return new _(Object(r.Zb)(a),e&&e.origin||"")}const b=new r.s("appBaseHref");let _=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(a),r.Zb(b,8))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),v=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(a),r.Zb(b,8))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.o,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(S(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,S(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(g),r.Zb(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Lb)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new w(Object(r.Zb)(g),Object(r.Zb)(a))}function S(t){return t.replace(/\/index.html$/,"")}var E=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const O=r.qb;class x{}let k=(()=>{class t extends x{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(O(e||this.locale)(t)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(r.w))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),T=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.tb)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Object(r.zb)(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u),r.Pb(r.v),r.Pb(r.l),r.Pb(r.G))},t.\u0275dir=r.Kb({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class I{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new I(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new R(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new R(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.S),r.Pb(r.N),r.Pb(r.u))},t.\u0275dir=r.Kb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class R{constructor(t,e){this.record=t,this.view=e}}let D=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new P,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){j("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){j("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.S),r.Pb(r.N))},t.\u0275dir=r.Kb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class P{constructor(){this.$implicit=null,this.ngIf=null}}function j(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.zb)(e)}'.`)}class N{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let L=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),F=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new N(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.S),r.Pb(r.N),r.Pb(L,9))},t.\u0275dir=r.Kb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),M=(()=>{class t{constructor(t,e,n){n._addDefault(new N(t,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.S),r.Pb(r.N),r.Pb(L,9))},t.\u0275dir=r.Kb({type:t,selectors:[["","ngSwitchDefault",""]]}),t})();class V{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class U{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const B=new U,z=new V;let q=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.vb)(e))return B;if(Object(r.wb)(e))return z;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.zb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.bc())},t.\u0275pipe=r.Ob({name:"async",type:t,pure:!1}),t})(),H=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[{provide:x,useClass:k}]}),t})();function K(t){return"browser"===t}function Z(t){return"server"===t}let W=(()=>{class t{}return t.\u0275prov=Object(r.Lb)({token:t,providedIn:"root",factory:()=>new $(Object(r.Zb)(o),window)}),t})();class ${constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=G(this.window.history)||G(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function G(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class Q extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new Q,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=X||(X=document.querySelector("base"),X)?X.getAttribute("href"):null;return null==e?null:(n=e,Y||(Y=document.createElement("a")),Y.setAttribute("href",n),"/"===Y.pathname.charAt(0)?Y.pathname:"/"+Y.pathname);var n}resetBaseElement(){X=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let Y,X=null;const J=new r.s("TRANSITION_ID"),tt=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[J,o,r.t],multi:!0}];class et{static init(){Object(r.ab)(new et)}addToWindow(t){r.sb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.sb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.sb.getAllAngularRootElements=()=>t.getAllRootElements(),r.sb.frameworkStabilizers||(r.sb.frameworkStabilizers=[]),r.sb.frameworkStabilizers.push(t=>{const e=r.sb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const nt=new r.s("EventManagerPlugins");let rt=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(nt),r.Zb(r.B))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();class it{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let st=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),ot=(()=>{class t extends st{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(at),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(at))}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(o))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();function at(t){s().remove(t)}const ct={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},lt=/%COMP%/g;function ut(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ut(t,i,n):(i=i.replace(lt,t),n.push(i))}return n}function ht(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let dt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new ft(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.T.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new pt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.T.ShadowDom:return new mt(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ut(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(rt),r.Zb(ot),r.Zb(r.c))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();class ft{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(ct[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=ct[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=ct[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.I.DashCase|r.I.Important)?t.style.setProperty(e,n,i&r.I.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.I.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ht(n)):this.eventManager.addEventListener(t,e,ht(n))}}class pt extends ft{constructor(t,e,n,r){super(t),this.component=n;const i=ut(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(lt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(lt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class mt extends ft{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=ut(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let gt=(()=>{class t extends it{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(o))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();const yt=["alt","control","meta","shift"],bt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_t={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},vt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let wt=(()=>{class t extends it{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(yt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&_t.hasOwnProperty(e)&&(e=_t[e]))}return bt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),yt.forEach(r=>{r!=n&&(0,vt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(o))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),Ct=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Lb)({factory:function(){return Object(r.Zb)(St)},token:t,providedIn:"root"}),t})(),St=(()=>{class t extends Ct{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.K.NONE:return e;case r.K.HTML:return Object(r.hb)(e,"HTML")?Object(r.Ab)(e):Object(r.fb)(this._doc,String(e)).toString();case r.K.STYLE:return Object(r.hb)(e,"Style")?Object(r.Ab)(e):e;case r.K.SCRIPT:if(Object(r.hb)(e,"Script"))return Object(r.Ab)(e);throw new Error("unsafe value used in a script context");case r.K.URL:return Object(r.rb)(e),Object(r.hb)(e,"URL")?Object(r.Ab)(e):Object(r.gb)(String(e));case r.K.RESOURCE_URL:if(Object(r.hb)(e,"ResourceURL"))return Object(r.Ab)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(r.ib)(t)}bypassSecurityTrustStyle(t){return Object(r.lb)(t)}bypassSecurityTrustScript(t){return Object(r.kb)(t)}bypassSecurityTrustUrl(t){return Object(r.mb)(t)}bypassSecurityTrustResourceUrl(t){return Object(r.jb)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(o))},t.\u0275prov=Object(r.Lb)({factory:function(){return t=Object(r.Zb)(r.p),new St(t.get(o));var t},token:t,providedIn:"root"}),t})();const Et=[{provide:r.D,useValue:"browser"},{provide:r.E,useValue:function(){Q.makeCurrent(),et.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.yb)(document),document},deps:[]}],Ot=Object(r.U)(r.Z,"browser",Et),xt=[[],{provide:r.cb,useValue:"root"},{provide:r.n,useFactory:function(){return new r.n},deps:[]},{provide:nt,useClass:gt,multi:!0,deps:[o,r.B,r.D]},{provide:nt,useClass:wt,multi:!0,deps:[o]},[],{provide:dt,useClass:dt,deps:[rt,ot,r.c]},{provide:r.H,useExisting:dt},{provide:st,useExisting:ot},{provide:ot,useClass:ot,deps:[o]},{provide:r.O,useClass:r.O,deps:[r.B]},{provide:rt,useClass:rt,deps:[nt,r.B]},[]];let kt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:J,useExisting:r.c},tt]}}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(t,12))},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:xt,imports:[H,r.f]}),t})();function Tt(){return new It(Object(r.Zb)(o))}let It=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(o))},t.\u0275prov=Object(r.Lb)({factory:Tt,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;var At=n("Cfvw"),Rt=n("HDdC"),Dt=n("DH7j"),Pt=n("lJxs"),jt=n("XoHu");function Nt(...t){if(1===t.length){const e=t[0];if(Object(Dt.a)(e))return Lt(e,null);if(Object(jt.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Lt(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Lt(t=1===t.length&&Object(Dt.a)(t[0])?t[0]:t,null).pipe(Object(Pt.a)(t=>e(...t)))}return Lt(t,null)}function Lt(t,e){return new Rt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const c=Object(At.a)(t[a]);let l=!1;n.add(c.subscribe({next:t=>{l||(l=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&l||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Ft=new r.s("NgValueAccessor"),Mt={provide:Ft,useExisting:Object(r.W)(()=>Ut),multi:!0},Vt=new r.s("CompositionEventMode");let Ut=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.G),r.Pb(r.l),r.Pb(Vt,8))},t.\u0275dir=r.Kb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.cc("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Db([Mt])]}),t})();const Bt=new r.s("NgValidators"),zt=new r.s("NgAsyncValidators");function qt(t){return null!=t}function Ht(t){const e=Object(r.vb)(t)?Object(At.a)(t):t;return Object(r.ub)(e),e}function Kt(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Zt(t,e){return e.map(e=>e(t))}function Wt(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function $t(t){return null!=t?function(t){if(!t)return null;const e=t.filter(qt);return 0==e.length?null:function(t){return Kt(Zt(t,e))}}(Wt(t)):null}function Gt(t){return null!=t?function(t){if(!t)return null;const e=t.filter(qt);return 0==e.length?null:function(t){return Nt(Zt(t,e).map(Ht)).pipe(Object(Pt.a)(Kt))}}(Wt(t)):null}function Qt(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Yt(t){return t._rawValidators}function Xt(t){return t._rawAsyncValidators}let Jt=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=$t(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Gt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t}),t})(),te=(()=>{class t extends Jt{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return ee(e||t)},t.\u0275dir=r.Kb({type:t,features:[r.Bb]}),t})();const ee=r.Xb(te);class ne extends Jt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let re=(()=>{class t extends class{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ne,2))},t.\u0275dir=r.Kb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Hb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.Bb]}),t})();function ie(t,e){ae(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&le(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&le(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function se(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ce(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function oe(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ae(t,e,n){const r=Yt(t);null!==e.validator?t.setValidators(Qt(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Xt(t);if(null!==e.asyncValidator?t.setAsyncValidators(Qt(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();oe(e._rawValidators,n),oe(e._rawAsyncValidators,n)}}function ce(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=Yt(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=Xt(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};oe(e._rawValidators,t),oe(e._rawAsyncValidators,t)}return r}function le(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ue(t,e){ae(t,e,!1)}function he(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function de(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const fe="VALID",pe="INVALID",me="PENDING",ge="DISABLED";function ye(t){return(we(t)?t.validators:t)||null}function be(t){return Array.isArray(t)?$t(t):t||null}function _e(t,e){return(we(e)?e.asyncValidators:t)||null}function ve(t){return Array.isArray(t)?Gt(t):t||null}function we(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ce{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=be(this._rawValidators),this._composedAsyncValidatorFn=ve(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===fe}get invalid(){return this.status===pe}get pending(){return this.status==me}get disabled(){return this.status===ge}get enabled(){return this.status!==ge}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=be(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=ve(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=me,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ge,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=fe,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==fe&&this.status!==me||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ge:fe}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=me,this._hasOwnPendingAsyncValidator=!0;const e=Ht(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Ee?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Oe&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.o,this.statusChanges=new r.o}_calculateStatus(){return this._allControlsDisabled()?ge:this.errors?pe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(me)?me:this._anyControlsHaveStatus(pe)?pe:fe}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){we(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Se extends Ce{constructor(t=null,e,n){super(ye(e),_e(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){de(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){de(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ee extends Ce{constructor(t,e,n){super(ye(e),_e(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Se?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Oe extends Ce{constructor(t,e,n){super(ye(e),_e(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Se?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const xe={provide:te,useExisting:Object(r.W)(()=>Te)},ke=(()=>Promise.resolve(null))();let Te=(()=>{class t extends te{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.o,this.form=new Ee({},$t(t),Gt(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ke.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),ie(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ke.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),de(this._directives,t)})}addFormGroup(t){ke.then(()=>{const e=this._findContainer(t.path),n=new Ee({});ue(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ke.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){ke.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,he(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Bt,10),r.Pb(zt,10))},t.\u0275dir=r.Kb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.cc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Db([xe]),r.Bb]}),t})();const Ie={provide:ne,useExisting:Object(r.W)(()=>Re)},Ae=(()=>Promise.resolve(null))();let Re=(()=>{class t extends ne{constructor(t,e,n,i){super(),this.control=new Se,this._registered=!1,this.update=new r.o,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===Ut?n=t:Object.getPrototypeOf(t.constructor)===class{}?r=t:i=t}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?[...this._parent.path,this.name]:[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ie(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ae.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Ae.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(te,9),r.Pb(Bt,10),r.Pb(zt,10),r.Pb(Ft,10))},t.\u0275dir=r.Kb({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.Db([Ie]),r.Bb,r.Cb]}),t})(),De=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})();const Pe=new r.s("NgModelWithFormControlWarning"),je={provide:te,useExisting:Object(r.W)(()=>Ne)};let Ne=(()=>{class t extends te{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.o,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ce(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return ie(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){se(t.control||null,t,!1),de(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,he(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(se(e||null,t),n instanceof Se&&(ie(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);ue(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return ce(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ae(this.form,this,!1),this._oldForm&&ce(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Bt,10),r.Pb(zt,10))},t.\u0275dir=r.Kb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.cc("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Db([je]),r.Bb,r.Cb]}),t})(),Le=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[De]]}),t})(),Fe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[Le]}),t})(),Me=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Pe,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[Le]}),t})();var Ve=n("XNiG"),Ue=n("quSY"),Be=n("LRne");function ze(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}var qe=n("vkgz"),He=n("7o/Q"),Ke=n("D0XW");function Ze(t,e=Ke.a){return n=>n.lift(new We(t,e))}class We{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new $e(t,this.dueTime,this.scheduler))}}class $e extends He.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ge,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Ge(t){t.debouncedNext()}function Qe(t,e){return function(n){return n.lift(new Ye(t,e))}}class Ye{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Xe(t,this.predicate,this.thisArg))}}class Xe extends He.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Je=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var tn=n("EY2u");function en(t){return e=>0===t?Object(tn.b)():e.lift(new nn(t))}class nn{constructor(t){if(this.total=t,this.total<0)throw new Je}call(t,e){return e.subscribe(new rn(t,this.total))}}class rn extends He.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function sn(t){return null!=t&&"false"!=`${t}`}function on(t,e=0){return an(t)?Number(t):e}function an(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function cn(t){return Array.isArray(t)?t:[t]}function ln(t){return null==t?"":"string"==typeof t?t:`${t}px`}function un(t){return t instanceof r.l?t.nativeElement:t}let hn;try{hn="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(OR){hn=!1}let dn,fn=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?K(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!hn)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(r.D))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(r.D))},token:t,providedIn:"root"}),t})(),pn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})();const mn=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function gn(){if(dn)return dn;if("object"!=typeof document||!document)return dn=new Set(mn),dn;let t=document.createElement("input");return dn=new Set(mn.filter(e=>(t.setAttribute("type",e),t.type===e))),dn}let yn,bn,_n;function vn(t){return function(){if(null==yn&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>yn=!0}))}finally{yn=yn||!1}return yn}()?t:!!t.capture}function wn(){if(null==bn){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return bn=!1,bn;if("scrollBehavior"in document.documentElement.style)bn=!0;else{const t=Element.prototype.scrollTo;bn=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return bn}let Cn=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Lb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Sn=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=un(t);return new Rt.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new Ve.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(Cn))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(Cn))},token:t,providedIn:"root"}),t})(),En=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.o,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=sn(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=on(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Ze(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Sn),r.Pb(r.l),r.Pb(r.B))},t.\u0275dir=r.Kb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),On=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[Cn]}),t})();function xn(t,e){return(t.getAttribute(e)||"").match(/\S+/g)||[]}const kn="cdk-describedby-message-container",Tn="cdk-describedby-host";let In=0;const An=new Map;let Rn=null,Dn=(()=>{class t{constructor(t){this._document=t}describe(t,e,n){if(!this._canBeDescribed(t,e))return;const r=Pn(e,n);"string"!=typeof e?(jn(e),An.set(r,{messageElement:e,referenceCount:0})):An.has(r)||this._createMessageElement(e,n),this._isElementDescribedByMessage(t,r)||this._addMessageReference(t,r)}removeDescription(t,e,n){if(!e||!this._isElementNode(t))return;const r=Pn(e,n);if(this._isElementDescribedByMessage(t,r)&&this._removeMessageReference(t,r),"string"==typeof e){const t=An.get(r);t&&0===t.referenceCount&&this._deleteMessageElement(r)}Rn&&0===Rn.childNodes.length&&this._deleteMessagesContainer()}ngOnDestroy(){const t=this._document.querySelectorAll("[cdk-describedby-host]");for(let e=0;e<t.length;e++)this._removeCdkDescribedByReferenceIds(t[e]),t[e].removeAttribute(Tn);Rn&&this._deleteMessagesContainer(),An.clear()}_createMessageElement(t,e){const n=this._document.createElement("div");jn(n),n.textContent=t,e&&n.setAttribute("role",e),this._createMessagesContainer(),Rn.appendChild(n),An.set(Pn(t,e),{messageElement:n,referenceCount:0})}_deleteMessageElement(t){const e=An.get(t),n=e&&e.messageElement;Rn&&n&&Rn.removeChild(n),An.delete(t)}_createMessagesContainer(){if(!Rn){const t=this._document.getElementById(kn);t&&t.parentNode&&t.parentNode.removeChild(t),Rn=this._document.createElement("div"),Rn.id=kn,Rn.style.visibility="hidden",Rn.classList.add("cdk-visually-hidden"),this._document.body.appendChild(Rn)}}_deleteMessagesContainer(){Rn&&Rn.parentNode&&(Rn.parentNode.removeChild(Rn),Rn=null)}_removeCdkDescribedByReferenceIds(t){const e=xn(t,"aria-describedby").filter(t=>0!=t.indexOf("cdk-describedby-message"));t.setAttribute("aria-describedby",e.join(" "))}_addMessageReference(t,e){const n=An.get(e);!function(t,e,n){const r=xn(t,e);r.some(t=>t.trim()==n.trim())||(r.push(n.trim()),t.setAttribute(e,r.join(" ")))}(t,"aria-describedby",n.messageElement.id),t.setAttribute(Tn,""),n.referenceCount++}_removeMessageReference(t,e){const n=An.get(e);n.referenceCount--,function(t,e,n){const r=xn(t,e).filter(t=>t!=n.trim());r.length?t.setAttribute(e,r.join(" ")):t.removeAttribute(e)}(t,"aria-describedby",n.messageElement.id),t.removeAttribute(Tn)}_isElementDescribedByMessage(t,e){const n=xn(t,"aria-describedby"),r=An.get(e),i=r&&r.messageElement.id;return!!i&&-1!=n.indexOf(i)}_canBeDescribed(t,e){if(!this._isElementNode(t))return!1;if(e&&"object"==typeof e)return!0;const n=null==e?"":`${e}`.trim(),r=t.getAttribute("aria-label");return!(!n||r&&r.trim()===n)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(o))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(o))},token:t,providedIn:"root"}),t})();function Pn(t,e){return"string"==typeof t?`${e||""}/${t}`:t}function jn(t){t.id||(t.id="cdk-describedby-message-"+In++)}class Nn extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Ve.a,this._typeaheadSubscription=Ue.a.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Ve.a,this.change=new Ve.a,t instanceof r.F&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Object(qe.a)(t=>this._pressedLetters.push(t)),Ze(t),Qe(()=>this._pressedLetters.length>0),Object(Pt.a)(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const r=(this._activeItemIndex+n)%e.length,i=e[r];if(!this._skipPredicateFn(i)&&0===i.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(r);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||ze(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),r=e[n];this._activeItem=null==r?null:r,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const r=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof r.F?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}let Ln=(()=>{class t{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const e=function(t){try{return t.frameElement}catch(OR){return null}}((n=t).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(e){if(-1===Mn(e))return!1;if(!this.isVisible(e))return!1}let r=t.nodeName.toLowerCase(),i=Mn(t);return t.hasAttribute("contenteditable")?-1!==i:"iframe"!==r&&"object"!==r&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(t){let e=t.nodeName.toLowerCase(),n="input"===e&&t.type;return"text"===n||"password"===n||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==i:"video"===r?-1!==i&&(null!==i||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,e){return function(t){return!function(t){return function(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function(t){let e=t.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(t)||function(t){return function(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Fn(t))}(t)&&!this.isDisabled(t)&&((null==e?void 0:e.ignoreVisibility)||this.isVisible(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(fn))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(fn))},token:t,providedIn:"root"}),t})();function Fn(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let e=t.getAttribute("tabindex");return"-32768"!=e&&!(!e||isNaN(parseInt(e,10)))}function Mn(t){if(!Fn(t))return null;const e=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class Vn{constructor(t,e,n,r,i=!1){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,i||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement()))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(t.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",t),!this._checker.isFocusable(t)){const e=this._getFirstTabbableElement(t);return null==e||e.focus(),!!e}return t.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const t=this._getRegionBoundary("start");return t&&t.focus(),!!t}focusLastTabbableElement(){const t=this._getRegionBoundary("end");return t&&t.focus(),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=0;n<e.length;n++){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(t)return t}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let n=e.length-1;n>=0;n--){let t=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(t)return t}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(en(1)).subscribe(t)}}let Un=(()=>{class t{constructor(t,e,n){this._checker=t,this._ngZone=e,this._document=n}create(t,e=!1){return new Vn(t,this._checker,this._ngZone,this._document,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(Ln),r.Zb(r.B),r.Zb(o))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(Ln),Object(r.Zb)(r.B),Object(r.Zb)(o))},token:t,providedIn:"root"}),t})();"undefined"!=typeof Element&&Element;const Bn=new r.s("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),zn=new r.s("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let qn=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t="cdk-live-announcer-element",e=this._document.getElementsByClassName(t),n=this._document.createElement("div");for(let r=0;r<e.length;r++)e[r].parentNode.removeChild(e[r]);return n.classList.add(t),n.classList.add("cdk-visually-hidden"),n.setAttribute("aria-atomic","true"),n.setAttribute("aria-live","polite"),this._document.body.appendChild(n),n}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(Bn,8),r.Zb(r.B),r.Zb(o),r.Zb(zn,8))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(Bn,8),Object(r.Zb)(r.B),Object(r.Zb)(o),Object(r.Zb)(zn,8))},token:t,providedIn:"root"}),t})();function Hn(t){return 0===t.buttons}function Kn(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Zn=new r.s("cdk-focus-monitor-default-options"),Wn=vn({passive:!0,capture:!0});let $n=(()=>{class t{constructor(t,e,n,r){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=t=>{if(!this._lastTouchTarget){const e=Hn(t)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=t=>{Kn(t)?this._lastTouchTarget||this._setOriginForCurrentEventQueue("keyboard"):(null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Gn(t),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650))},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=t=>{const e=Gn(t),n="focus"===t.type?this._onFocus:this._onBlur;for(let r=e;r;r=r.parentElement)n.call(this,t,r)},this._document=n,this._detectionMode=(null==r?void 0:r.detectionMode)||0}monitor(t,e=!1){const n=un(t);if(!this._platform.isBrowser||1!==n.nodeType)return Object(Be.a)(null);const r=function(t){if(function(){if(null==_n){const t="undefined"!=typeof document?document.head:null;_n=!(!t||!t.createShadowRoot&&!t.attachShadow)}return _n}()){const e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(n)||this._getDocument(),i=this._elementInfo.get(n);if(i)return e&&(i.checkChildren=!0),i.subject;const s={checkChildren:e,subject:new Ve.a,rootNode:r};return this._elementInfo.set(n,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(t){const e=un(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}focusVia(t,e,n){const r=un(t);r===this._getDocument().activeElement?this._getClosestElementsInfo(r).forEach(([t,n])=>this._originChanged(t,e,n)):(this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n))}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_getFocusOrigin(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}_setClasses(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(t){const e=Gn(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);n&&(n.checkChildren||e===Gn(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const e=t.rootNode,n=this._rootNodeFocusListenerCount.get(e)||0;n||this._ngZone.runOutsideAngular(()=>{e.addEventListener("focus",this._rootNodeFocusAndBlurListener,Wn),e.addEventListener("blur",this._rootNodeFocusAndBlurListener,Wn)}),this._rootNodeFocusListenerCount.set(e,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const t=this._getDocument(),e=this._getWindow();t.addEventListener("keydown",this._documentKeydownListener,Wn),t.addEventListener("mousedown",this._documentMousedownListener,Wn),t.addEventListener("touchstart",this._documentTouchstartListener,Wn),e.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(t){const e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){const t=this._rootNodeFocusListenerCount.get(e);t>1?this._rootNodeFocusListenerCount.set(e,t-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Wn),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Wn),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){const t=this._getDocument(),e=this._getWindow();t.removeEventListener("keydown",this._documentKeydownListener,Wn),t.removeEventListener("mousedown",this._documentMousedownListener,Wn),t.removeEventListener("touchstart",this._documentTouchstartListener,Wn),e.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}_originChanged(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}_getClosestElementsInfo(t){const e=[];return this._elementInfo.forEach((n,r)=>{(r===t||n.checkChildren&&r.contains(t))&&e.push([r,n])}),e}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(r.B),r.Zb(fn),r.Zb(o,8),r.Zb(Zn,8))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(r.B),Object(r.Zb)(fn),Object(r.Zb)(o,8),Object(r.Zb)(Zn,8))},token:t,providedIn:"root"}),t})();function Gn(t){return t.composedPath?t.composedPath()[0]:t.target}const Qn="cdk-high-contrast-black-on-white",Yn="cdk-high-contrast-white-on-black",Xn="cdk-high-contrast-active";let Jn=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Xn),t.remove(Qn),t.remove(Yn);const e=this.getHighContrastMode();1===e?(t.add(Xn),t.add(Qn)):2===e&&(t.add(Xn),t.add(Yn))}}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(fn),r.Zb(o))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(fn),Object(r.Zb)(o))},token:t,providedIn:"root"}),t})(),tr=(()=>{class t{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(Jn))},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[pn,On]]}),t})();const er=new r.s("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.X)(o)}});let nr=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.o,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(er,8))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(er,8))},token:t,providedIn:"root"}),t})(),rr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})();const ir=new r.R("11.2.13");var sr=n("bHdf");function or(...t){return Object(sr.a)(1)(Object(Be.a)(...t))}var ar=n("z+Ro");function cr(...t){const e=t[t.length-1];return Object(ar.a)(e)?(t.pop(),n=>or(t,n,e)):e=>or(t,e)}class lr{}const ur="*";function hr(t,e){return{type:7,name:t,definitions:e,options:{}}}function dr(t,e=null){return{type:4,styles:e,timings:t}}function fr(t,e=null){return{type:2,steps:t,options:e}}function pr(t){return{type:6,styles:t,offset:null}}function mr(t,e,n){return{type:0,name:t,styles:e,options:n}}function gr(t){return{type:5,steps:t}}function yr(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function br(t=null){return{type:9,options:t}}function _r(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function vr(t){Promise.resolve(null).then(t)}class wr{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){vr(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Cr{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?vr(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Sr(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Er(t){switch(t.length){case 0:return new wr;case 1:return t[0];default:return new Cr(t)}}function Or(t,e,n,r,i={},s={}){const o=[],a=[];let c=-1,l=null;if(r.forEach(t=>{const n=t.offset,r=n==c,u=r&&l||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case ur:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}u[r]=a}),r||a.push(u),l=u,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function xr(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&kr(n,"start",t)));break;case"done":t.onDone(()=>r(n&&kr(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&kr(n,"destroy",t)))}}function kr(t,e,n){const r=n.totalTime,i=Tr(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function Tr(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Ir(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Ar(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Rr=(t,e)=>!1,Dr=(t,e)=>!1,Pr=(t,e,n)=>[];const jr=Sr();(jr||"undefined"!=typeof Element)&&(Rr=(t,e)=>t.contains(e),Dr=(()=>{if(jr||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Dr}})(),Pr=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Nr=null,Lr=!1;function Fr(t){Nr||(Nr=("undefined"!=typeof document?document.body:null)||{},Lr=!!Nr.style&&"WebkitAppearance"in Nr.style);let e=!0;return Nr.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Nr.style,!e&&Lr)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Nr.style),e}const Mr=Dr,Vr=Rr,Ur=Pr;function Br(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let zr=(()=>{class t{validateStyleProperty(t){return Fr(t)}matchesElement(t,e){return Mr(t,e)}containsElement(t,e){return Vr(t,e)}query(t,e,n){return Ur(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new wr(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),qr=(()=>{class t{}return t.NOOP=new zr,t})();const Hr="ng-enter",Kr="ng-leave",Zr="ng-trigger",Wr=".ng-trigger",$r="ng-animating",Gr=".ng-animating";function Qr(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Yr(parseFloat(e[1]),e[2])}function Yr(t,e){switch(e){case"s":return 1e3*t;default:return t}}function Xr(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Yr(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=Yr(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function Jr(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function ti(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Jr(t,n);return n}function ei(t,e,n){return n?e+":"+n+";":""}function ni(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=ei(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=ei(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function ri(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=hi(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Sr()&&ni(t))}function ii(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=hi(e);t.style[n]=""}),Sr()&&ni(t))}function si(t){return Array.isArray(t)?1==t.length?t[0]:fr(t):t}const oi=new RegExp("{{\\s*(.+?)\\s*}}","g");function ai(t){let e=[];if("string"==typeof t){let n;for(;n=oi.exec(t);)e.push(n[1]);oi.lastIndex=0}return e}function ci(t,e,n){const r=t.toString(),i=r.replace(oi,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function li(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const ui=/-+([a-z0-9])/g;function hi(t){return t.replace(ui,(...t)=>t[1].toUpperCase())}function di(t,e){return 0===t||0===e}function fi(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=mi(t,e)})}}return e}function pi(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function mi(t,e){return window.getComputedStyle(t)[e]}const gi="*";function yi(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(vi(i,o)),"<"!=s[0]||i==gi&&o==gi||e.push(vi(o,i))}(t,n,e)):n.push(t),n}const bi=new Set(["true","1"]),_i=new Set(["false","0"]);function vi(t,e){const n=bi.has(t)||_i.has(t),r=bi.has(e)||_i.has(e);return(i,s)=>{let o=t==gi||t==i,a=e==gi||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?bi.has(t):_i.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?bi.has(e):_i.has(e)),o&&a}}const wi=new RegExp("s*:selfs*,?","g");function Ci(t,e,n){return new Si(t).build(e,n)}class Si{constructor(t){this._driver=t}build(t,e){const n=new Ei(e);return this._resetContextStyleTimingState(n),pi(this,si(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(Oi(t)){const e=t;Object.keys(e).forEach(t=>{ai(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=li(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=pi(this,si(t.animation),e);return{type:1,matchers:yi(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:xi(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>pi(this,t,e)),options:xi(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=pi(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:xi(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return ki(Xr(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=ki(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||Xr(r,e),ki(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:pr({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=pr(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==ur?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(Oi(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=ai(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const c=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let c=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(Oi(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(Oi(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),l=0;return null!=c&&(r++,l=n.offset=c),o=o||l<0||l>1,s=s||l<a,a=l,i.push(l),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const l=t.steps.length;let u=0;r>0&&r<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(l-1));const h=l-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return c.forEach((t,r)=>{const s=u>0?r==h?1:u*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:pi(this,si(t.animation),e),options:xi(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:xi(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:xi(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(wi,"")),[t=t.replace(/@\*/g,Wr).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,Gr),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Ir(e.collectedStyles,e.currentQuerySelector,{});const o=pi(this,si(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:xi(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Xr(t.timings,e.errors,!0);return{type:12,animation:pi(this,si(t.animation),e),timings:n,options:null}}}class Ei{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Oi(t){return!Array.isArray(t)&&"object"==typeof t}function xi(t){var e;return t?(t=Jr(t)).params&&(t.params=(e=t.params)?Jr(e):null):t={},t}function ki(t,e,n){return{duration:t,delay:e,easing:n}}function Ti(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class Ii{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Ai=new RegExp(":enter","g"),Ri=new RegExp(":leave","g");function Di(t,e,n,r,i,s={},o={},a,c,l=[]){return(new Pi).buildKeyframes(t,e,n,r,i,s,o,a,c,l)}class Pi{buildKeyframes(t,e,n,r,i,s,o,a,c,l=[]){c=c||new Ii;const u=new Ni(t,e,c,r,i,l,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),pi(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[Ti(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Qr(n.duration):null,s=null!=n.delay?Qr(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),pi(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=ji);const t=Qr(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>pi(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Qr(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),pi(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Xr(e.params?ci(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Qr(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ji);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),pi(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const c=e.currentTimeline;a&&c.delayNextStep(a);const l=c.currentTime;pi(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}const ji={};class Ni{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ji,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Li(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Qr(n.duration)),null!=n.delay&&(r.delay=Qr(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=ci(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new Ni(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=ji,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new Fi(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(Ai,"."+this._enterClassName)).replace(Ri,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class Li{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Li(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ur,this._currentKeyframe[t]=ur}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=ur})):ti(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=ci(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:ur),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=ti(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==ur&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?li(t.values()):[],s=e.size?li(e.values()):[];if(n){const t=r[0],e=Jr(t);t.offset=0,e.offset=1,r=[t,e]}return Ti(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class Fi extends Li{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=ti(t[0],!1);a.offset=0,i.push(a);const c=ti(t[0],!1);c.offset=Mi(o),i.push(c);const l=t.length-1;for(let r=1;r<=l;r++){let o=ti(t[r],!1);o.offset=Mi((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return Ti(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function Mi(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Vi{}class Ui extends Vi{normalizePropertyName(t,e){return hi(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(Bi[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const Bi=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function zi(t,e,n,r,i,s,o,a,c,l,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:d}}const qi={};class Hi{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,c,l){const u=[],h=this.ast.options&&this.ast.options.params||qi,d=this.buildStyles(n,o&&o.params||qi,u),f=a&&a.params||qi,p=this.buildStyles(r,f,u),m=new Set,g=new Map,y=new Map,b="void"===r,_={params:Object.assign(Object.assign({},h),f)},v=l?[]:Di(t,e,this.ast.animation,i,s,d,p,_,c,u);let w=0;if(v.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),u.length)return zi(e,this._triggerName,n,r,b,d,p,[],[],g,y,w,u);v.forEach(t=>{const n=t.element,r=Ir(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Ir(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const C=li(m.values());return zi(e,this._triggerName,n,r,b,d,p,v,C,g,y,w)}}class Ki{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Jr(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=ci(s,r,e)),n[t]=s})}}),n}}class Zi{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Ki(t.style,t.options&&t.options.params||{})}),Wi(this.states,"true","1"),Wi(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Hi(t,e,this.states))}),this.fallbackTransition=new Hi(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Wi(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const $i=new Ii;class Gi{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=Ci(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Or(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=Di(this._driver,e,i,Hr,Kr,{},{},n,$i,r),s.forEach(t=>{const e=Ir(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,ur)})});const a=Er(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=Tr(e,"","","");return xr(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Qi="ng-animate-queued",Yi="ng-animate-disabled",Xi=".ng-animate-disabled",Ji=[],ts={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},es={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class ns{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=Jr(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const rs="void",is=new ns(rs);class ss{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ds(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Ir(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Ir(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(ds(t,Zr),ds(t,"ng-trigger-"+e),a[e]=is),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new as(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(ds(t,Zr),ds(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const c=new ns(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),o[e]=c,a||(a=is),c.value!==rs&&a.value===c.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,c.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(c.value,c.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{ii(t,n),ri(t,r)})}return}const l=Ir(this._engine.playersByElement,t,[]);l.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=i.matchTransition(a.value,c.value,t,c.params),h=!1;if(!u){if(!r)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:c,player:s,isFallbackTransition:h}),h||(ds(t,Qi),s.onStart(()=>{fs(t,Qi)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),l.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,Wr,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,rs,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Er(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||is,a=new ns(rs),c=new as(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:c,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==ts||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){ds(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=Tr(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,xr(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class os{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new ss(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(cs(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!cs(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ds(t,Yi)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),fs(t,Yi))}removeNode(t,e,n,r){if(cs(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return cs(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Wr,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Gr,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Er(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=ts,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,Xi)&&this.markElementAsDisabled(t,!1),this.driver.query(t,Xi,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)ds(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Er(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new Ii,r=[],i=new Map,s=[],o=new Map,a=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(t=>{l.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)l.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=hs(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=Hr+p++;f.set(e,n),t.forEach(t=>ds(t,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const b=new Map,_=hs(h,Array.from(g));_.forEach((t,e)=>{const n=Kr+p++;b.set(e,n),t.forEach(t=>ds(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>fs(t,n))}),_.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>fs(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const v=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(v.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const l=!u||!this.driver.containsElement(u,i),h=b.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,l);if(p.errors&&p.errors.length)w.push(p);else{if(l)return e.onStart(()=>ii(i,p.fromStyles)),e.onDestroy(()=>ri(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>ii(i,p.fromStyles)),e.onDestroy(()=>ri(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Ir(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=c.get(e);r||c.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),v.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Ir(C,e,[]).push(t),t.destroy()})});const E=m.filter(t=>gs(t,a,c)),O=new Map;us(O,this.driver,y,c,ur).forEach(t=>{gs(t,a,c)&&E.push(t)});const x=new Map;d.forEach((t,e)=>{us(x,this.driver,new Set(t),a,"!")}),E.forEach(t=>{const e=O.get(t),n=x.get(t);O.set(t,Object.assign(Object.assign({},e),n))});const k=[],T=[],I={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(l.has(e))return s.onDestroy(()=>ri(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=I;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,C,i,x,O);if(s.setRealPlayer(n),t===I)k.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Er(e)),r.push(s)}}else ii(e,o.fromStyles),s.onDestroy(()=>ri(e,o.toStyles)),T.push(s),l.has(e)&&r.push(s)}),T.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Er(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(fs(t,Kr),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Gr,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?ps(this,t,r):this.processLeaveNode(t)}return m.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==rs;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,c=Ir(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})}ii(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,c=[],l=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;l.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new wr(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return ms(t,e),e}((n.get(h)||Ji).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=Or(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&u.add(h),f){const e=new as(t,o,h);e.setRealPlayer(b),c.push(e)}return b});c.forEach(t=>{Ir(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),l.forEach(t=>ds(t,$r));const d=Er(h);return d.onDestroy(()=>{l.forEach(t=>fs(t,$r)),ri(a,e.toStyles)}),u.forEach(t=>{Ir(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new wr(t.duration,t.delay)}}class as{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new wr,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>xr(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ir(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function cs(t){return t&&1===t.nodeType}function ls(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function us(t,e,n,r,i){const s=[];n.forEach(t=>s.push(ls(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=es,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>ls(t,s[a++])),o}function hs(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function ds(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function fs(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function ps(t,e,n){Er(n).onDone(()=>t.processLeaveNode(e))}function ms(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Cr?ms(r.players,e):e.push(r)}}function gs(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class ys{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new os(t,e,n),this._timelineEngine=new Gi(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=Ci(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Zi(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Ar(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Ar(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function bs(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=vs(e[0]),e.length>1&&(r=vs(e[e.length-1]))):e&&(n=vs(e)),n||r?new _s(t,n,r):null}let _s=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&ri(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ri(this._element,this._initialStyles),this._endStyles&&(ri(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(ii(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ii(this._element,this._endStyles),this._endStyles=null),ri(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function vs(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];ws(i)&&(e=e||{},e[i]=t[i])}return e}function ws(t){return"display"===t||"position"===t}const Cs="animation",Ss="animationend";class Es{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=As(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Is(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Ts(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Os(this._element,this._name,"paused")}resume(){Os(this._element,this._name,"running")}setPosition(t){const e=xs(this._element,this._name);this._position=t*this._duration,Is(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Ts(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=As(t,"").split(","),r=ks(n,e);r>=0&&(n.splice(r,1),Is(t,"",n.join(",")))}(this._element,this._name))}}function Os(t,e,n){Is(t,"PlayState",n,xs(t,e))}function xs(t,e){const n=As(t,"");return n.indexOf(",")>0?ks(n.split(","),e):ks([n],e)}function ks(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function Ts(t,e,n){n?t.removeEventListener(Ss,e):t.addEventListener(Ss,e)}function Is(t,e,n,r){const i=Cs+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function As(t,e){return t.style[Cs+e]||""}class Rs{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Es(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:mi(this.element,n))})}this.currentSnapshot=t}}class Ds extends wr{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Br(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class Ps{constructor(){this._count=0,this._head=document.querySelector("head")}validateStyleProperty(t){return Fr(t)}matchesElement(t,e){return Mr(t,e)}containsElement(t,e){return Vr(t,e)}query(t,e,n){return Ur(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Br(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof Rs),c={};di(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const l=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=fi(t,e,c));if(0==n)return new Ds(t,l);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(h);const d=bs(t,e),f=new Rs(t,e,u,n,r,i,l,d);return f.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),f}}class js{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:mi(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Ns{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Ls().toString()),this._cssKeyframesDriver=new Ps}validateStyleProperty(t){return Fr(t)}matchesElement(t,e){return Mr(t,e)}containsElement(t,e){return Vr(t,e)}query(t,e,n){return Ur(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},l=s.filter(t=>t instanceof js);di(n,r)&&l.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>c[t]=e[t])});const u=bs(t,e=fi(t,e=e.map(t=>ti(t,!1)),c));return new js(t,e,a,u)}}function Ls(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let Fs=(()=>{class t extends lr{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.T.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?fr(t):t;return Us(this._renderer,null,e,"register",[n]),new Ms(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(r.H),r.Zb(o))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();class Ms extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Vs(this._id,t,e||{},this._renderer)}}class Vs{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Us(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function Us(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Bs="@",zs="@.disabled";let qs=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Hs("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new Ks(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(r.H),r.Zb(ys),r.Zb(r.B))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();class Hs{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Bs&&e==zs?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class Ks extends Hs{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Bs?"."==e.charAt(1)&&e==zs?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Bs){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=Bs&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let Zs=(()=>{class t extends ys{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(o),r.Zb(qr),r.Zb(Vi))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();const Ws=new r.s("AnimationModuleType"),$s=[{provide:qr,useFactory:function(){return"function"==typeof Ls()?new Ns:new Ps}},{provide:Ws,useValue:"BrowserAnimations"},{provide:lr,useClass:Fs},{provide:Vi,useFactory:function(){return new Ui}},{provide:ys,useClass:Zs},{provide:r.H,useFactory:function(t,e,n){return new qs(t,e,n)},deps:[dt,ys,r.B]}];let Gs=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:$s,imports:[kt]}),t})();function Qs(t,e){if(1&t&&r.Qb(0,"mat-pseudo-checkbox",4),2&t){const t=r.gc();r.lc("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function Ys(t,e){if(1&t&&(r.Vb(0,"span",5),r.zc(1),r.Ub()),2&t){const t=r.gc();r.Eb(1),r.Bc("(",t.group.label,")")}}const Xs=["*"],Js=new r.R("11.2.13"),to=new r.s("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let eo,no=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.Y)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Js.full!==ir.full&&console.warn("The Angular Material version ("+Js.full+") does not match the Angular CDK version ("+ir.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(Jn),r.Zb(to,8),r.Zb(o))},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[rr],rr]}),t})();function ro(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=sn(t)}}}function io(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function so(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=sn(t)}}}function oo(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?on(t):this.defaultTabIndex}}}function ao(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new Ve.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}function co(t){return class extends t{constructor(...t){super(...t),this._isInitialized=!1,this._pendingSubscribers=[],this.initialized=new Rt.a(t=>{this._isInitialized?this._notifySubscriber(t):this._pendingSubscribers.push(t)})}_markInitialized(){this._isInitialized=!0,this._pendingSubscribers.forEach(this._notifySubscriber),this._pendingSubscribers=null}_notifySubscriber(t){t.next(),t.complete()}}}try{eo="undefined"!=typeof Intl}catch(OR){eo=!1}let lo=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Lb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();class uo{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ho={enterDuration:450,exitDuration:400},fo=vn({passive:!0}),po=["mousedown","touchstart"],mo=["mouseup","mouseleave","touchend","touchcancel"];class go{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=un(n))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign(Object.assign({},ho),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const s=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),o=t-r.left,a=e-r.top,c=i.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=o-s+"px",l.style.top=a-s+"px",l.style.height=2*s+"px",l.style.width=2*s+"px",null!=n.color&&(l.style.backgroundColor=n.color),l.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";const u=new uo(this,l,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const t=u===this._mostRecentTransientRipple;u.state=1,n.persistent||t&&this._isPointerDown||u.fadeOut()},c),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign(Object.assign({},ho),t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=un(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(po))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(mo),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=Hn(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Kn(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,fo)})})}_removeTriggerEvents(){this._triggerElement&&(po.forEach(t=>{this._triggerElement.removeEventListener(t,this,fo)}),this._pointerUpEventsRegistered&&mo.forEach(t=>{this._triggerElement.removeEventListener(t,this,fo)}))}}const yo=new r.s("mat-ripple-global-options");let bo=(()=>{class t{constructor(t,e,n,r,i){this._elementRef=t,this._animationMode=i,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new go(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(r.B),r.Pb(fn),r.Pb(yo,8),r.Pb(Ws,8))},t.\u0275dir=r.Kb({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&r.Hb("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),_o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[no,pn],no]}),t})(),vo=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Ws,8))},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&r.Hb("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),wo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[no]]}),t})();const Co=new r.s("MAT_OPTION_PARENT_COMPONENT");class So{}const Eo=ro(So);let Oo=0,xo=(()=>{class t extends Eo{constructor(t){var e;super(),this._labelId="mat-optgroup-label-"+Oo++,this._inert=null!==(e=null==t?void 0:t.inertGroups)&&void 0!==e&&e}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Co,8))},t.\u0275dir=r.Kb({type:t,inputs:{label:"label"},features:[r.Bb]}),t})();const ko=new r.s("MatOptgroup");let To=0;class Io{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Ao=(()=>{class t{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+To++,this.onSelectionChange=new r.o,this._stateChanges=new Ve.a}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=sn(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||ze(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new Io(this,t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(r.h),r.Pb(void 0),r.Pb(xo))},t.\u0275dir=r.Kb({type:t,inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"}}),t})(),Ro=(()=>{class t extends Ao{constructor(t,e,n,r){super(t,e,n,r)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(r.h),r.Pb(Co,8),r.Pb(ko,8))},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&r.cc("click",function(){return e._selectViaInteraction()})("keydown",function(t){return e._handleKeydown(t)}),2&t&&(r.Yb("id",e.id),r.Fb("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),r.Hb("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},exportAs:["matOption"],features:[r.Bb],ngContentSelectors:Xs,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,e){1&t&&(r.kc(),r.yc(0,Qs,1,2,"mat-pseudo-checkbox",0),r.Vb(1,"span",1),r.jc(2),r.Ub(),r.yc(3,Ys,2,1,"span",2),r.Qb(4,"div",3)),2&t&&(r.lc("ngIf",e.multiple),r.Eb(3),r.lc("ngIf",e.group&&e.group._inert),r.Eb(1),r.lc("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[D,bo,vo],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function Do(t,e,n){if(n.length){let r=e.toArray(),i=n.toArray(),s=0;for(let e=0;e<t+1;e++)r[e].group&&r[e].group===i[s]&&s++;return s}return 0}let Po=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[_o,H,no,wo]]}),t})();const jo=["mat-button",""],No=["*"],Lo=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class Fo{constructor(t){this._elementRef=t}}const Mo=io(ro(so(Fo)));let Vo=(()=>{class t extends Mo{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of Lo)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb($n),r.Pb(Ws,8))},t.\u0275cmp=r.Jb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){if(1&t&&r.Cc(bo,1),2&t){let t;r.pc(t=r.dc())&&(e.ripple=t.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(r.Fb("disabled",e.disabled||null),r.Hb("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[r.Bb],attrs:jo,ngContentSelectors:No,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(r.kc(),r.Vb(0,"span",0),r.jc(1),r.Ub(),r.Qb(2,"span",1),r.Qb(3,"span",2)),2&t&&(r.Eb(2),r.Hb("mat-button-ripple-round",e.isRoundButton||e.isIconButton),r.lc("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[bo],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),t})(),Uo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[_o,no],no]}),t})();var Bo=n("n6bG");function zo(t,e,n,r){return Object(Bo.a)(n)&&(r=n,n=void 0),r?zo(t,e,n).pipe(Object(Pt.a)(t=>Object(Dt.a)(t)?r(...t):r(t))):new Rt.a(r=>{qo(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function qo(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)qo(t[s],e,n,r,i)}r.add(s)}function Ho(t,e){return n=>n.lift(new Ko(t,e))}n("3N8a"),n("IjjT"),n("7Hc7");class Ko{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Zo(t,this.compare,this.keySelector))}}class Zo extends He.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Wo=n("zx2A");class $o{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Go(t,this.durationSelector))}}class Go extends Wo.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const r=Object(Wo.c)(n,new Wo.a(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var Qo=n("Y7HM");function Yo(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function Xo(t,e=Ke.a){return n=()=>function(t=0,e,n){let r=-1;return Object(Qo.a)(e)?r=Number(e)<1?1:Number(e):Object(ar.a)(e)&&(n=e),Object(ar.a)(n)||(n=Ke.a),new Rt.a(e=>{const i=Object(Qo.a)(t)?t:+t-n.now();return n.schedule(Yo,i,{index:0,period:r,subscriber:e})})}(t,e),function(t){return t.lift(new $o(n))};var n}function Jo(t){return e=>e.lift(new ta(t))}class ta{constructor(t){this.notifier=t}call(t,e){const n=new ea(t),r=Object(Wo.c)(this.notifier,new Wo.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class ea extends Wo.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function na(){return t=>t.lift(new ra)}class ra{call(t,e){return e.subscribe(new ia(t))}}class ia extends He.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function sa(t,e){return"function"==typeof e?n=>n.pipe(sa((n,r)=>Object(At.a)(t(n,r)).pipe(Object(Pt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new oa(t))}class oa{constructor(t){this.project=t}call(t,e){return e.subscribe(new aa(t,this.project))}}class aa extends Wo.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Wo.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Wo.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var ca=n("qgXg"),la=n("pxpQ"),ua=n("9ppp"),ha=n("Ylt2");class da extends Ve.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new fa(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new ua.a;if(this.isStopped||this.hasError?s=Ue.a.EMPTY:(this.observers.push(t),s=new ha.a(this,t)),r&&t.add(t=new la.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||ca.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class fa{constructor(t,e){this.time=t,this.value=e}}function pa(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,c=!1;return function(l){let u;o++,!i||a?(a=!1,i=new da(t,e,r),u=i.subscribe(this),s=l.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){c=!0,s=void 0,i.complete()}}),c&&(s=void 0)):u=i.subscribe(this),this.add(()=>{o--,u.unsubscribe(),u=void 0,s&&!c&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function ma(t){return t&&"function"==typeof t.connect}class ga{applyChanges(t,e,n,r,i){t.forEachOperation((t,r,s)=>{let o,a;if(null==t.previousIndex){const i=n(t,r,s);o=e.createEmbeddedView(i.templateRef,i.context,i.index),a=1}else null==s?(e.remove(r),a=3):(o=e.get(r),e.move(o,s),a=2);i&&i({context:null==o?void 0:o.context,operation:a,record:t})})}detach(){}}class ya{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Ve.a,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}const ba=new r.s("_ViewRepeater");let _a=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new Ve.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Rt.a(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(Xo(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Object(Be.a)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Qe(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,e){let n=un(e),r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>zo(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(r.B),r.Zb(fn),r.Zb(o,8))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(r.B),Object(r.Zb)(fn),Object(r.Zb)(o,8))},token:t,providedIn:"root"}),t})(),va=(()=>{class t{constructor(t,e,n){this._platform=t,this._change=new Ve.a,this._changeListener=t=>{this._change.next(t)},this._document=n,e.runOutsideAngular(()=>{if(t.isBrowser){const t=this._getWindow();t.addEventListener("resize",this._changeListener),t.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,e=this._getWindow(),n=t.documentElement,r=n.getBoundingClientRect();return{top:-r.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-r.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Xo(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(fn),r.Zb(r.B),r.Zb(o,8))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(fn),Object(r.Zb)(r.B),Object(r.Zb)(o,8))},token:t,providedIn:"root"}),t})(),wa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})(),Ca=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[rr,pn,wa],rr,wa]}),t})();class Sa{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Ea extends Sa{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class Oa extends Sa{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class xa extends Sa{constructor(t){super(),this.element=t instanceof r.l?t.nativeElement:t}}class ka{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Ea?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Oa?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof xa?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Ta extends ka{constructor(t,e,n,r,i){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=i}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),n.detectChanges(),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),this._attachedPortal=t,n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Ia=(()=>{class t extends ka{constructor(t,e,n){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new r.o,this.attachDomPortal=t=>{const e=t.element,n=this._document.createComment("dom-portal");t.setAttachedHost(this),e.parentNode.insertBefore(n,e),this._getRootNode().appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.j),r.Pb(r.S),r.Pb(o))},t.\u0275dir=r.Kb({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.Bb]}),t})(),Aa=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})();var Ra=n("VRyK");class Da{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new Pa(t,this.predicate,this.inclusive))}}class Pa extends He.a{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(r){return void e.error(r)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}const ja=wn();class Na{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ln(-this._previousScrollPosition.left),t.style.top=ln(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ja&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ja&&(e.scrollBehavior=r,n.scrollBehavior=i)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}class La{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Fa{enable(){}disable(){}attach(){}}function Ma(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function Va(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class Ua{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();Ma(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ba=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new Fa,this.close=t=>new La(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new Na(this._viewportRuler,this._document),this.reposition=t=>new Ua(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(_a),r.Zb(va),r.Zb(r.B),r.Zb(o))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(_a),Object(r.Zb)(va),Object(r.Zb)(r.B),Object(r.Zb)(o))},token:t,providedIn:"root"}),t})();class za{constructor(t){if(this.scrollStrategy=new Fa,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class qa{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class Ha{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Ka=(()=>{class t{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(o))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(o))},token:t,providedIn:"root"}),t})(),Za=(()=>{class t extends Ka{constructor(t){super(t),this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(o))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(o))},token:t,providedIn:"root"}),t})(),Wa=(()=>{class t extends Ka{constructor(t,e){super(t),this._platform=e,this._cursorStyleIsSet=!1,this._clickListener=t=>{const e=t.composedPath?t.composedPath()[0]:t.target,n=this._attachedOverlays.slice();for(let r=n.length-1;r>-1;r--){const i=n[r];if(!(i._outsidePointerEvents.observers.length<1)&&i.hasAttached()){if(i.overlayElement.contains(e))break;i._outsidePointerEvents.next(t)}}}}add(t){if(super.add(t),!this._isAttached){const t=this._document.body;t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=t.style.cursor,t.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(o),r.Zb(fn))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(o),Object(r.Zb)(fn))},token:t,providedIn:"root"}),t})();const $a=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let Ga=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||$a){const e=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const e=this._document.createElement("div");e.classList.add(t),$a?e.setAttribute("platform","test"):this._platform.isBrowser||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(o),r.Zb(fn))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(o),Object(r.Zb)(fn))},token:t,providedIn:"root"}),t})();class Qa{constructor(t,e,n,r,i,s,o,a,c){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=s,this._document=o,this._location=a,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new Ve.a,this._attachments=new Ve.a,this._detachments=new Ve.a,this._locationChanges=Ue.a.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new Ve.a,this._outsidePointerEvents=new Ve.a,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(en(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=ln(this._config.width),t.height=ln(this._config.height),t.minWidth=ln(this._config.minWidth),t.minHeight=ln(this._config.minHeight),t.maxWidth=ln(this._config.maxWidth),t.maxHeight=ln(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;cn(e).forEach(t=>{t&&(n?r.add(t):r.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Jo(Object(Ra.a)(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const Ya="cdk-overlay-connected-position-bounding-box",Xa=/([A-Za-z%]+)$/;class Ja{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Ve.a,this._resizeSubscription=Ue.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Ya),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),c=this._getOverlayFit(a,e,n,s);if(c.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(c,a,n)?r.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!i||i.overlayFit.visibleArea<c.visibleArea)&&(i={overlayFit:c,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&tc(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Ya),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:r}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+r,y:t.y+i}}_getOverlayFit(t,e,n,r){const i=nc(e);let{x:s,y:o}=t,a=this._getOffset(r,"x"),c=this._getOffset(r,"y");a&&(s+=a),c&&(o+=c);let l=0-o,u=o+i.height-n.height,h=this._subtractOverflows(i.width,0-s,s+i.width-n.width),d=this._subtractOverflows(i.height,l,u),f=h*d;return{visibleArea:f,isCompletelyWithinViewport:i.width*i.height===f,fitsInViewportVertically:d===i.height,fitsInViewportHorizontally:h==i.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,s=ec(this._overlayRef.getConfig().minHeight),o=ec(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=i;return(t.fitsInViewportVertically||null!=s&&s<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=nc(e),i=this._viewportRect,s=Math.max(t.x+r.width-i.width,0),o=Math.max(t.y+r.height-i.height,0),a=Math.max(i.top-n.top-t.y,0),c=Math.max(i.left-n.left-t.x,0);let l=0,u=0;return l=r.width<=i.width?c||-s:t.x<this._viewportMargin?i.left-n.left-t.x:0,u=r.height<=i.height?a||-o:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:l,y:u},{x:t.x+l,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new Ha(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,s,o,a,c,l;if("top"===e.overlayY)s=t.y,i=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,i=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;i=2*e,s=t.y-e,i>r&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)l=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)c=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;a=2*e,c=t.x-e,a>r&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.x-r/2)}return{top:s,left:c,bottom:o,right:l,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=ln(n.height),r.top=ln(n.top),r.bottom=ln(n.bottom),r.width=ln(n.width),r.left=ln(n.left),r.right=ln(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=ln(t)),i&&(r.maxWidth=ln(i))}this._lastBoundingBoxSize=n,tc(this._boundingBox.style,r)}_resetBoundingBoxStyles(){tc(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){tc(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},r=this._hasExactPosition(),i=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const r=this._viewportRuler.getViewportScrollPosition();tc(n,this._getExactOverlayY(e,t,r)),tc(n,this._getExactOverlayX(e,t,r))}else n.position="static";let o="",a=this._getOffset(e,"x"),c=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),c&&(o+=`translateY(${c}px)`),n.transform=o.trim(),s.maxHeight&&(r?n.maxHeight=ln(s.maxHeight):i&&(n.maxHeight="")),s.maxWidth&&(r?n.maxWidth=ln(s.maxWidth):i&&(n.maxWidth="")),tc(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:"",bottom:""},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=s,"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)+"px":r.top=ln(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===r?i.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":i.left=ln(s.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Va(t,n),isOriginOutsideView:Ma(t,n),isOverlayClipped:Va(e,n),isOverlayOutsideView:Ma(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&cn(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function tc(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function ec(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(Xa);return n&&"px"!==n?null:parseFloat(e)}return t||null}function nc(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}class rc{constructor(t,e,n,r,i,s,o){this._preferredPositions=[],this._positionStrategy=new Ja(n,r,i,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new qa(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const ic="cdk-global-overlay-wrapper";class sc{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(ic),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:i,maxWidth:s,maxHeight:o}=n,a=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==i&&"100vh"!==i||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(ic),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let oc=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new sc}connectedTo(t,e,n){return new rc(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Ja(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(va),r.Zb(o),r.Zb(fn),r.Zb(Ga))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(va),Object(r.Zb)(o),Object(r.Zb)(fn),Object(r.Zb)(Ga))},token:t,providedIn:"root"}),t})(),ac=0,cc=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c,l,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=s,this._ngZone=o,this._document=a,this._directionality=c,this._location=l,this._outsideClickDispatcher=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new za(t);return i.direction=i.direction||this._directionality.value,new Qa(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id="cdk-overlay-"+ac++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new Ta(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(Ba),r.Zb(Ga),r.Zb(r.j),r.Zb(oc),r.Zb(Za),r.Zb(r.t),r.Zb(r.B),r.Zb(o),r.Zb(nr),r.Zb(w),r.Zb(Wa))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();const lc=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],uc=new r.s("cdk-connected-overlay-scroll-strategy");let hc=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l))},t.\u0275dir=r.Kb({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),dc=(()=>{class t{constructor(t,e,n,i,s){this._overlay=t,this._dir=s,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Ue.a.EMPTY,this._attachSubscription=Ue.a.EMPTY,this._detachSubscription=Ue.a.EMPTY,this._positionSubscription=Ue.a.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new r.o,this.positionChange=new r.o,this.attach=new r.o,this.detach=new r.o,this.overlayKeydown=new r.o,this.overlayOutsideClick=new r.o,this._templatePortal=new Oa(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=sn(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=sn(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=sn(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=sn(t)}get push(){return this._push}set push(t){this._push=sn(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=lc);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||this.disableClose||ze(t)||(t.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(t=>{this.overlayOutsideClick.next(t)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new za({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(t,e=!1){return n=>n.lift(new Da(t,e))}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(cc),r.Pb(r.N),r.Pb(r.S),r.Pb(uc),r.Pb(nr,8))},t.\u0275dir=r.Kb({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[r.Cb]}),t})();const fc={provide:uc,deps:[cc],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let pc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[cc,fc],imports:[[rr,Aa,Ca],Ca]}),t})();const mc=["underline"],gc=["connectionContainer"],yc=["inputContainer"],bc=["label"];function _c(t,e){1&t&&(r.Tb(0),r.Vb(1,"div",14),r.Qb(2,"div",15),r.Qb(3,"div",16),r.Qb(4,"div",17),r.Ub(),r.Vb(5,"div",18),r.Qb(6,"div",15),r.Qb(7,"div",16),r.Qb(8,"div",17),r.Ub(),r.Sb())}function vc(t,e){1&t&&(r.Vb(0,"div",19),r.jc(1,1),r.Ub())}function wc(t,e){if(1&t&&(r.Tb(0),r.jc(1,2),r.Vb(2,"span"),r.zc(3),r.Ub(),r.Sb()),2&t){const t=r.gc(2);r.Eb(3),r.Ac(t._control.placeholder)}}function Cc(t,e){1&t&&r.jc(0,3,["*ngSwitchCase","true"])}function Sc(t,e){1&t&&(r.Vb(0,"span",23),r.zc(1," *"),r.Ub())}function Ec(t,e){if(1&t){const t=r.Wb();r.Vb(0,"label",20,21),r.cc("cdkObserveContent",function(){return r.sc(t),r.gc().updateOutlineGap()}),r.yc(2,wc,4,1,"ng-container",12),r.yc(3,Cc,1,0,"ng-content",12),r.yc(4,Sc,2,0,"span",22),r.Ub()}if(2&t){const t=r.gc();r.Hb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.lc("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.Fb("for",t._control.id)("aria-owns",t._control.id),r.Eb(2),r.lc("ngSwitchCase",!1),r.Eb(1),r.lc("ngSwitchCase",!0),r.Eb(1),r.lc("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Oc(t,e){1&t&&(r.Vb(0,"div",24),r.jc(1,4),r.Ub())}function xc(t,e){if(1&t&&(r.Vb(0,"div",25,26),r.Qb(2,"span",27),r.Ub()),2&t){const t=r.gc();r.Eb(2),r.Hb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function kc(t,e){if(1&t&&(r.Vb(0,"div"),r.jc(1,5),r.Ub()),2&t){const t=r.gc();r.lc("@transitionMessages",t._subscriptAnimationState)}}function Tc(t,e){if(1&t&&(r.Vb(0,"div",31),r.zc(1),r.Ub()),2&t){const t=r.gc(2);r.lc("id",t._hintLabelId),r.Eb(1),r.Ac(t.hintLabel)}}function Ic(t,e){if(1&t&&(r.Vb(0,"div",28),r.yc(1,Tc,2,2,"div",29),r.jc(2,6),r.Qb(3,"div",30),r.jc(4,7),r.Ub()),2&t){const t=r.gc();r.lc("@transitionMessages",t._subscriptAnimationState),r.Eb(1),r.lc("ngIf",t.hintLabel)}}const Ac=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Rc=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Dc=new r.s("MatError"),Pc={transitionMessages:hr("transitionMessages",[mr("enter",pr({opacity:1,transform:"translateY(0%)"})),yr("void => enter",[pr({opacity:0,transform:"translateY(-5px)"}),dr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let jc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t}),t})();const Nc=new r.s("MatHint");let Lc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["mat-label"]]}),t})(),Fc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["mat-placeholder"]]}),t})();const Mc=new r.s("MatPrefix"),Vc=new r.s("MatSuffix");let Uc=0;class Bc{constructor(t){this._elementRef=t}}const zc=io(Bc,"primary"),qc=new r.s("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Hc=new r.s("MatFormField");let Kc=(()=>{class t extends zc{constructor(t,e,n,r,i,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Ve.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Uc++,this._labelId="mat-form-field-label-"+Uc++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=sn(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(cr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Jo(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Jo(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(Ra.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(cr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(cr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Jo(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,zo(this._label.nativeElement,"transitionend").pipe(en(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let c=0;for(let t=0;t<o.length;t++)c+=o[t].offsetWidth;e=Math.abs(a-s)-5,n=c>0?.75*c+10:0}for(let o=0;o<i.length;o++)i[o].style.width=`${e}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(r.h),r.Pb(r.l),r.Pb(nr,8),r.Pb(qc,8),r.Pb(fn),r.Pb(r.B),r.Pb(Ws,8))},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(r.Ib(n,jc,1),r.Ib(n,jc,3),r.Ib(n,Lc,1),r.Ib(n,Lc,3),r.Ib(n,Fc,1),r.Ib(n,Dc,1),r.Ib(n,Nc,1),r.Ib(n,Mc,1),r.Ib(n,Vc,1)),2&t){let t;r.pc(t=r.dc())&&(e._controlNonStatic=t.first),r.pc(t=r.dc())&&(e._controlStatic=t.first),r.pc(t=r.dc())&&(e._labelChildNonStatic=t.first),r.pc(t=r.dc())&&(e._labelChildStatic=t.first),r.pc(t=r.dc())&&(e._placeholderChild=t.first),r.pc(t=r.dc())&&(e._errorChildren=t),r.pc(t=r.dc())&&(e._hintChildren=t),r.pc(t=r.dc())&&(e._prefixChildren=t),r.pc(t=r.dc())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(r.Cc(mc,1),r.Cc(gc,3),r.Cc(yc,1),r.Cc(bc,1)),2&t){let t;r.pc(t=r.dc())&&(e.underlineRef=t.first),r.pc(t=r.dc())&&(e._connectionContainerRef=t.first),r.pc(t=r.dc())&&(e._inputContainerRef=t.first),r.pc(t=r.dc())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,e){2&t&&r.Hb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.Db([{provide:Hc,useExisting:t}]),r.Bb],ngContentSelectors:Rc,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.kc(Ac),r.Vb(0,"div",0),r.Vb(1,"div",1,2),r.cc("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),r.yc(3,_c,9,0,"ng-container",3),r.yc(4,vc,2,0,"div",4),r.Vb(5,"div",5,6),r.jc(7),r.Vb(8,"span",7),r.yc(9,Ec,5,16,"label",8),r.Ub(),r.Ub(),r.yc(10,Oc,2,0,"div",9),r.Ub(),r.yc(11,xc,3,4,"div",10),r.Vb(12,"div",11),r.yc(13,kc,2,1,"div",12),r.yc(14,Ic,5,2,"div",13),r.Ub(),r.Ub()),2&t&&(r.Eb(3),r.lc("ngIf","outline"==e.appearance),r.Eb(1),r.lc("ngIf",e._prefixChildren.length),r.Eb(5),r.lc("ngIf",e._hasFloatingLabel()),r.Eb(1),r.lc("ngIf",e._suffixChildren.length),r.Eb(1),r.lc("ngIf","outline"!=e.appearance),r.Eb(1),r.lc("ngSwitch",e._getDisplayedMessages()),r.Eb(1),r.lc("ngSwitchCase","error"),r.Eb(1),r.lc("ngSwitchCase","hint"))},directives:[D,L,F,En],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Pc.transitionMessages]},changeDetection:0}),t})(),Zc=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[H,no,On],no]}),t})();function Wc(t){return new Rt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(At.a)(n):Object(tn.b)()).subscribe(e)})}const $c=["trigger"],Gc=["panel"];function Qc(t,e){if(1&t&&(r.Vb(0,"span",8),r.zc(1),r.Ub()),2&t){const t=r.gc();r.Eb(1),r.Ac(t.placeholder)}}function Yc(t,e){if(1&t&&(r.Vb(0,"span",12),r.zc(1),r.Ub()),2&t){const t=r.gc(2);r.Eb(1),r.Ac(t.triggerValue)}}function Xc(t,e){1&t&&r.jc(0,0,["*ngSwitchCase","true"])}function Jc(t,e){if(1&t&&(r.Vb(0,"span",9),r.yc(1,Yc,2,1,"span",10),r.yc(2,Xc,1,0,"ng-content",11),r.Ub()),2&t){const t=r.gc();r.lc("ngSwitch",!!t.customTrigger),r.Eb(2),r.lc("ngSwitchCase",!0)}}function tl(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",13),r.Vb(1,"div",14,15),r.cc("@transformPanel.done",function(e){return r.sc(t),r.gc()._panelDoneAnimatingStream.next(e.toState)})("keydown",function(e){return r.sc(t),r.gc()._handleKeydown(e)}),r.jc(3,1),r.Ub(),r.Ub()}if(2&t){const t=r.gc();r.lc("@transformPanelWrap",void 0),r.Eb(1),r.Gb("mat-select-panel ",t._getPanelTheme(),""),r.vc("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),r.lc("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),r.Fb("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const el=[[["mat-select-trigger"]],"*"],nl=["mat-select-trigger","*"],rl={transformPanelWrap:hr("transformPanelWrap",[yr("* => void",_r("@transformPanel",[br()],{optional:!0}))]),transformPanel:hr("transformPanel",[mr("void",pr({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),mr("showing",pr({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),mr("showing-multiple",pr({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),yr("void => *",dr("120ms cubic-bezier(0, 0, 0.2, 1)")),yr("* => void",dr("100ms 25ms linear",pr({opacity:0})))])};let il=0;const sl=256,ol=new r.s("mat-select-scroll-strategy"),al=new r.s("MAT_SELECT_CONFIG"),cl={provide:ol,deps:[cc],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class ll{constructor(t,e){this.source=t,this.value=e}}class ul{constructor(t,e,n,r,i){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=r,this.ngControl=i}}const hl=so(oo(ro(ao(ul)))),dl=new r.s("MatSelectTrigger");let fl=(()=>{class t extends hl{constructor(t,e,n,i,s,o,a,c,l,u,h,d,f,p){var m,g,y;super(s,i,a,c,u),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=o,this._parentFormField=l,this.ngControl=u,this._liveAnnouncer=f,this._defaultOptions=p,this._panelOpen=!1,this._compareWith=(t,e)=>t===e,this._uid="mat-select-"+il++,this._triggerAriaLabelledBy=null,this._destroy=new Ve.a,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+il++,this._panelDoneAnimatingStream=new Ve.a,this._overlayPanelClass=(null===(m=this._defaultOptions)||void 0===m?void 0:m.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._required=!1,this._multiple=!1,this._disableOptionCentering=null!==(y=null===(g=this._defaultOptions)||void 0===g?void 0:g.disableOptionCentering)&&void 0!==y&&y,this.ariaLabel="",this.optionSelectionChanges=Wc(()=>{const t=this.options;return t?t.changes.pipe(cr(t),sa(()=>Object(Ra.a)(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.pipe(en(1),sa(()=>this.optionSelectionChanges))}),this.openedChange=new r.o,this._openedStream=this.openedChange.pipe(Qe(t=>t),Object(Pt.a)(()=>{})),this._closedStream=this.openedChange.pipe(Qe(t=>!t),Object(Pt.a)(()=>{})),this.selectionChange=new r.o,this.valueChange=new r.o,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==p?void 0:p.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=p.typeaheadDebounceInterval),this._scrollStrategyFactory=d,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(h)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=sn(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=sn(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=sn(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=on(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new ya(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Ho(),Jo(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Jo(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(cr(null),Jo(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const e=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?e.setAttribute("aria-labelledby",t):e.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,r=13===e||32===e,i=this._keyManager;if(!i.isTyping()&&r&&!ze(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const e=this.selected;i.onKeydown(t);const n=this.selected;n&&e!==n&&this._liveAnnouncer.announce(n.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,r=40===n||38===n,i=e.isTyping();if(r&&t.altKey)t.preventDefault(),this.close();else if(i||13!==n&&32!==n||!e.activeItem||ze(t))if(!i&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&r&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(en(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(t=>t.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(t=>this._selectValue(t)),this._sortValues();else{const e=this._selectValue(t);e?this._keyManager.updateActiveItem(e):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{if(this._selectionModel.isSelected(e))return!1;try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new Nn(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Jo(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Jo(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=Object(Ra.a)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Jo(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),Object(Ra.a)(...this.options.map(t=>t._stateChanges)).pipe(Jo(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(this._getChangeEvent(e)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const e=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let n=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(n+=" "+this.ariaLabelledby),n}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(va),r.Pb(r.h),r.Pb(r.B),r.Pb(lo),r.Pb(r.l),r.Pb(nr,8),r.Pb(Te,8),r.Pb(Ne,8),r.Pb(Hc,8),r.Pb(ne,10),r.ac("tabindex"),r.Pb(ol),r.Pb(qn),r.Pb(al,8))},t.\u0275dir=r.Kb({type:t,viewQuery:function(t,e){if(1&t&&(r.Cc($c,1),r.Cc(Gc,1),r.Cc(dc,1)),2&t){let t;r.pc(t=r.dc())&&(e.trigger=t.first),r.pc(t=r.dc())&&(e.panel=t.first),r.pc(t=r.dc())&&(e.overlayDir=t.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],id:"id",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",typeaheadDebounceInterval:"typeaheadDebounceInterval",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[r.Bb,r.Cb]}),t})(),pl=(()=>{class t extends fl{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,e,n){const r=this._getItemHeight();return Math.min(Math.max(0,r*t-e+r/2),n)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Jo(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(en(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const e=Do(t,this.options,this.optionGroups),n=this._getItemHeight();var r,i,s;this.panel.nativeElement.scrollTop=(i=n,(r=(t+e)*n)<(s=this.panel.nativeElement.scrollTop)?r:r+i>s+256?Math.max(0,r-256+i):s)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new ll(this,t)}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),r=this.multiple?56:32;let i;if(this.multiple)i=40;else if(this.disableOptionCentering)i=16;else{let t=this._selectionModel.selected[0]||this.options.first;i=t&&t.group?32:16}n||(i*=-1);const s=0-(t.left+i-(n?r:0)),o=t.right+i-e.width+(n?0:r);s>0?i+=s+8:o>0&&(i-=o+8),this.overlayDir.offsetX=Math.round(i),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const r=this._getItemHeight(),i=(r-this._triggerRect.height)/2,s=Math.floor(sl/r);let o;return this.disableOptionCentering?0:(o=0===this._scrollTop?t*r:this._scrollTop===n?(t-(this._getItemCount()-s))*r+(r-(this._getItemCount()*r-sl)%r):e-r/2,Math.round(-1*o-i))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),r=this._triggerRect.top-8,i=n.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*e,sl)-s-this._triggerRect.height;o>i?this._adjustPanelUp(o,i):s>r?this._adjustPanelDown(s,r,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const r=Math.round(t-e);if(this._scrollTop+=r,this._offsetY+=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,sl),r=e*t-n;let i;i=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),i+=Do(i,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(i,s,r),this._offsetY=this._calculateOverlayOffsetY(i,s,r),this._checkOverlayWithinViewport(r)}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return t.\u0275fac=function(e){return ml(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){if(1&t&&(r.Ib(n,dl,1),r.Ib(n,Ro,1),r.Ib(n,ko,1)),2&t){let t;r.pc(t=r.dc())&&(e.customTrigger=t.first),r.pc(t=r.dc())&&(e.options=t),r.pc(t=r.dc())&&(e.optionGroups=t)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,e){1&t&&r.cc("keydown",function(t){return e._handleKeydown(t)})("focus",function(){return e._onFocus()})("blur",function(){return e._onBlur()}),2&t&&(r.Fb("id",e.id)("tabindex",e.tabIndex)("aria-controls",e.panelOpen?e.id+"-panel":null)("aria-expanded",e.panelOpen)("aria-label",e.ariaLabel||null)("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),r.Hb("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty)("mat-select-multiple",e.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[r.Db([{provide:jc,useExisting:t},{provide:Co,useExisting:t}]),r.Bb],ngContentSelectors:nl,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(r.kc(el),r.Vb(0,"div",0,1),r.cc("click",function(){return e.toggle()}),r.Vb(3,"div",2),r.yc(4,Qc,2,1,"span",3),r.yc(5,Jc,3,2,"span",4),r.Ub(),r.Vb(6,"div",5),r.Qb(7,"div",6),r.Ub(),r.Ub(),r.yc(8,tl,4,14,"ng-template",7),r.cc("backdropClick",function(){return e.close()})("attach",function(){return e._onAttached()})("detach",function(){return e.close()})),2&t){const t=r.qc(1);r.Fb("aria-owns",e.panelOpen?e.id+"-panel":null),r.Eb(3),r.lc("ngSwitch",e.empty),r.Fb("id",e._valueId),r.Eb(1),r.lc("ngSwitchCase",!0),r.Eb(1),r.lc("ngSwitchCase",!1),r.Eb(3),r.lc("cdkConnectedOverlayPanelClass",e._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[hc,L,F,dc,M,T],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px}\n'],encapsulation:2,data:{animation:[rl.transformPanelWrap,rl.transformPanel]},changeDetection:0}),t})();const ml=r.Xb(pl);let gl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[cl],imports:[[H,pc,Po,no],wa,Zc,Po,no]}),t})();class yl extends He.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class bl extends He.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var _l=n("SeVD");function vl(t,e,n,r,i=new bl(t,n,r)){if(!i.closed)return e instanceof Rt.a?e.subscribe(i):Object(_l.a)(e)(i)}var wl=n("yCtX");const Cl={};function Sl(...t){let e,n;return Object(ar.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(Dt.a)(t[0])&&(t=t[0]),Object(wl.a)(t,n).lift(new El(e))}class El{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ol(t,this.resultSelector))}}class Ol extends yl{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Cl),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(vl(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Cl?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class xl{constructor(t){this.total=t}call(t,e){return e.subscribe(new kl(t,this.total))}}class kl extends He.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}const Tl=new Set;let Il,Al=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Rl}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!Tl.has(t))try{Il||(Il=document.createElement("style"),Il.setAttribute("type","text/css"),document.head.appendChild(Il)),Il.sheet&&(Il.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),Tl.add(t))}catch(gI){console.error(gI)}}(t),this._matchMedia(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(fn))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(fn))},token:t,providedIn:"root"}),t})();function Rl(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let Dl=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new Ve.a}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Pl(cn(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=Sl(Pl(cn(t)).map(t=>this._registerQuery(t).observable));return e=or(e.pipe(en(1)),e.pipe(t=>t.lift(new xl(1)),Ze(0))),e.pipe(Object(Pt.a)(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(({matches:t,query:n})=>{e.matches=e.matches||t,e.breakpoints[n]=t}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new Rt.a(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(cr(e),Object(Pt.a)(({matches:e})=>({query:t,matches:e})),Jo(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(Al),r.Zb(r.B))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(Al),Object(r.Zb)(r.B))},token:t,providedIn:"root"}),t})();function Pl(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const jl={tooltipState:hr("state",[mr("initial, void, hidden",pr({opacity:0,transform:"scale(0)"})),mr("visible",pr({transform:"scale(1)"})),yr("* => visible",dr("200ms cubic-bezier(0, 0, 0.2, 1)",gr([pr({opacity:0,transform:"scale(0)",offset:0}),pr({opacity:.5,transform:"scale(0.99)",offset:.5}),pr({opacity:1,transform:"scale(1)",offset:1})]))),yr("* => hidden",dr("100ms cubic-bezier(0, 0, 0.2, 1)",pr({opacity:0})))])},Nl=vn({passive:!0}),Ll=new r.s("mat-tooltip-scroll-strategy"),Fl={provide:Ll,deps:[cc],useFactory:function(t){return()=>t.scrollStrategies.reposition({scrollThrottle:20})}},Ml=new r.s("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let Vl=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c,l,u,h){this._overlay=t,this._elementRef=e,this._scrollDispatcher=n,this._viewContainerRef=r,this._ngZone=i,this._platform=s,this._ariaDescriber=o,this._focusMonitor=a,this._dir=l,this._defaultOptions=u,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Ve.a,this._handleKeydown=t=>{this._isTooltipVisible()&&27===t.keyCode&&!ze(t)&&(t.preventDefault(),t.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=c,u&&(u.position&&(this.position=u.position),u.touchGestures&&(this.touchGestures=u.touchGestures)),i.runOutsideAngular(()=>{e.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=sn(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Jo(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),t.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([e,n])=>{t.removeEventListener(e,n,Nl)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const e=this._createOverlay();this._detach(),this._portal=this._portal||new Ea(Ul,this._viewContainerRef),this._tooltipInstance=e.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Jo(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),e=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(t);return e.positionChanges.pipe(Jo(this._destroyed)).subscribe(t=>{this._tooltipInstance&&t.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:e,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Jo(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const t=this._overlayRef.getConfig().positionStrategy,e=this._getOrigin(),n=this._getOverlayPosition();t.withPositions([Object.assign(Object.assign({},e.main),n.main),Object.assign(Object.assign({},e.fallback),n.fallback)])}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e||"below"==e?n={originX:"center",originY:"above"==e?"top":"bottom"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={originX:"start",originY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={originX:"end",originY:"center"});const{x:r,y:i}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:r,originY:i}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,e=this.position;let n;"above"==e?n={overlayX:"center",overlayY:"bottom"}:"below"==e?n={overlayX:"center",overlayY:"top"}:"before"==e||"left"==e&&t||"right"==e&&!t?n={overlayX:"end",overlayY:"center"}:("after"==e||"right"==e&&t||"left"==e&&!t)&&(n={overlayX:"start",overlayY:"center"});const{x:r,y:i}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:r,overlayY:i}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(en(1),Jo(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,e){return"above"===this.position||"below"===this.position?"top"===e?e="bottom":"bottom"===e&&(e="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:e}}_setupPointerEnterEventsIfNeeded(){!this._disabled&&this.message&&this._viewInitialized&&!this._passiveListeners.length&&(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",()=>this.hide()],["wheel",t=>this._wheelListener(t)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const e=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",e],["touchcancel",e])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([t,e])=>{this._elementRef.nativeElement.addEventListener(t,e,Nl)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const e=(this._document||document).elementFromPoint(t.clientX,t.clientY),n=this._elementRef.nativeElement;e===n||n.contains(e)||this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const e=this._elementRef.nativeElement,n=e.style;("on"===t||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),"on"!==t&&e.draggable||(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(cc),r.Pb(r.l),r.Pb(_a),r.Pb(r.S),r.Pb(r.B),r.Pb(fn),r.Pb(Dn),r.Pb($n),r.Pb(Ll),r.Pb(nr,8),r.Pb(Ml,8),r.Pb(o))},t.\u0275dir=r.Kb({type:t,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),t})(),Ul=(()=>{class t{constructor(t,e){this._changeDetectorRef=t,this._breakpointObserver=e,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new Ve.a,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)")}show(t){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},t)}hide(t){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},t)}afterHidden(){return this._onHide}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(t){const e=t.toState;"hidden"!==e||this.isVisible()||this._onHide.next(),"visible"!==e&&"hidden"!==e||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.h),r.Pb(Dl))},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,e){1&t&&r.cc("click",function(){return e._handleBodyInteraction()},!1,r.rc)("auxclick",function(){return e._handleBodyInteraction()},!1,r.rc),2&t&&r.vc("zoom","visible"===e._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(t,e){if(1&t&&(r.Vb(0,"div",0),r.cc("@state.start",function(){return e._animationStart()})("@state.done",function(t){return e._animationDone(t)}),r.hc(1,"async"),r.zc(2),r.Ub()),2&t){let t=null;r.Hb("mat-tooltip-handset",null==(t=r.ic(1,5,e._isHandset))?null:t.matches),r.lc("ngClass",e.tooltipClass)("@state",e._visibility),r.Eb(2),r.Ac(e.message)}},directives:[T],pipes:[q],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[jl.tooltipState]},changeDetection:0}),t})(),Bl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[Fl],imports:[[tr,H,pc,no],no,wa]}),t})();function zl(t,e){if(1&t&&(r.Vb(0,"mat-option",19),r.zc(1),r.Ub()),2&t){const t=e.$implicit;r.lc("value",t),r.Eb(1),r.Bc(" ",t," ")}}function ql(t,e){if(1&t){const t=r.Wb();r.Vb(0,"mat-form-field",16),r.Vb(1,"mat-select",17),r.cc("selectionChange",function(e){return r.sc(t),r.gc(2)._changePageSize(e.value)}),r.yc(2,zl,2,2,"mat-option",18),r.Ub(),r.Ub()}if(2&t){const t=r.gc(2);r.lc("appearance",t._formFieldAppearance)("color",t.color),r.Eb(1),r.lc("value",t.pageSize)("disabled",t.disabled)("aria-label",t._intl.itemsPerPageLabel),r.Eb(1),r.lc("ngForOf",t._displayedPageSizeOptions)}}function Hl(t,e){if(1&t&&(r.Vb(0,"div",20),r.zc(1),r.Ub()),2&t){const t=r.gc(2);r.Eb(1),r.Ac(t.pageSize)}}function Kl(t,e){if(1&t&&(r.Vb(0,"div",12),r.Vb(1,"div",13),r.zc(2),r.Ub(),r.yc(3,ql,3,6,"mat-form-field",14),r.yc(4,Hl,2,1,"div",15),r.Ub()),2&t){const t=r.gc();r.Eb(2),r.Bc(" ",t._intl.itemsPerPageLabel," "),r.Eb(1),r.lc("ngIf",t._displayedPageSizeOptions.length>1),r.Eb(1),r.lc("ngIf",t._displayedPageSizeOptions.length<=1)}}function Zl(t,e){if(1&t){const t=r.Wb();r.Vb(0,"button",21),r.cc("click",function(){return r.sc(t),r.gc().firstPage()}),r.fc(),r.Vb(1,"svg",7),r.Qb(2,"path",22),r.Ub(),r.Ub()}if(2&t){const t=r.gc();r.lc("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("matTooltipPosition","above")("disabled",t._previousButtonsDisabled()),r.Fb("aria-label",t._intl.firstPageLabel)}}function Wl(t,e){if(1&t){const t=r.Wb();r.fc(),r.ec(),r.Vb(0,"button",23),r.cc("click",function(){return r.sc(t),r.gc().lastPage()}),r.fc(),r.Vb(1,"svg",7),r.Qb(2,"path",24),r.Ub(),r.Ub()}if(2&t){const t=r.gc();r.lc("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("matTooltipPosition","above")("disabled",t._nextButtonsDisabled()),r.Fb("aria-label",t._intl.lastPageLabel)}}let $l=(()=>{class t{constructor(){this.changes=new Ve.a,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,e,n)=>{if(0==n||0==e)return`0 of ${n}`;const r=t*e;return`${r+1} \u2013 ${r<(n=Math.max(n,0))?Math.min(r+e,n):r+e} of ${n}`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Lb)({factory:function(){return new t},token:t,providedIn:"root"}),t})();const Gl={provide:$l,deps:[[new r.C,new r.L,$l]],useFactory:function(t){return t||new $l}},Ql=new r.s("MAT_PAGINATOR_DEFAULT_OPTIONS");class Yl{}const Xl=ro(co(Yl));let Jl=(()=>{class t extends Xl{constructor(t,e,n){if(super(),this._intl=t,this._changeDetectorRef=e,this._pageIndex=0,this._length=0,this._pageSizeOptions=[],this._hidePageSize=!1,this._showFirstLastButtons=!1,this.page=new r.o,this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),n){const{pageSize:t,pageSizeOptions:e,hidePageSize:r,showFirstLastButtons:i}=n;null!=t&&(this._pageSize=t),null!=e&&(this._pageSizeOptions=e),null!=r&&(this._hidePageSize=r),null!=i&&(this._showFirstLastButtons=i)}}get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(on(t),0),this._changeDetectorRef.markForCheck()}get length(){return this._length}set length(t){this._length=on(t),this._changeDetectorRef.markForCheck()}get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(on(t),0),this._updateDisplayedPageSizeOptions()}get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(t=>on(t)),this._updateDisplayedPageSizeOptions()}get hidePageSize(){return this._hidePageSize}set hidePageSize(t){this._hidePageSize=sn(t)}get showFirstLastButtons(){return this._showFirstLastButtons}set showFirstLastButtons(t){this._showFirstLastButtons=sn(t)}ngOnInit(){this._initialized=!0,this._updateDisplayedPageSizeOptions(),this._markInitialized()}ngOnDestroy(){this._intlChanges.unsubscribe()}nextPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex++,this._emitPageEvent(t)}previousPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex--,this._emitPageEvent(t)}firstPage(){if(!this.hasPreviousPage())return;const t=this.pageIndex;this.pageIndex=0,this._emitPageEvent(t)}lastPage(){if(!this.hasNextPage())return;const t=this.pageIndex;this.pageIndex=this.getNumberOfPages()-1,this._emitPageEvent(t)}hasPreviousPage(){return this.pageIndex>=1&&0!=this.pageSize}hasNextPage(){const t=this.getNumberOfPages()-1;return this.pageIndex<t&&0!=this.pageSize}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){const e=this.pageIndex;this.pageIndex=Math.floor(this.pageIndex*this.pageSize/t)||0,this.pageSize=t,this._emitPageEvent(e)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._initialized&&(this.pageSize||(this._pageSize=0!=this.pageSizeOptions.length?this.pageSizeOptions[0]:50),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),-1===this._displayedPageSizeOptions.indexOf(this.pageSize)&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,e)=>t-e),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb($l),r.Pb(r.h),r.Pb(void 0))},t.\u0275dir=r.Kb({type:t,inputs:{pageIndex:"pageIndex",length:"length",pageSize:"pageSize",pageSizeOptions:"pageSizeOptions",hidePageSize:"hidePageSize",showFirstLastButtons:"showFirstLastButtons",color:"color"},outputs:{page:"page"},features:[r.Bb]}),t})(),tu=(()=>{class t extends Jl{constructor(t,e,n){super(t,e,n),n&&null!=n.formFieldAppearance&&(this._formFieldAppearance=n.formFieldAppearance)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb($l),r.Pb(r.h),r.Pb(Ql,8))},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-paginator"],inputs:{disabled:"disabled"},exportAs:["matPaginator"],features:[r.Bb],decls:14,vars:14,consts:[[1,"mat-paginator-outer-container"],[1,"mat-paginator-container"],["class","mat-paginator-page-size",4,"ngIf"],[1,"mat-paginator-range-actions"],[1,"mat-paginator-range-label"],["mat-icon-button","","type","button","class","mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-previous",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["viewBox","0 0 24 24","focusable","false",1,"mat-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-next",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["mat-icon-button","","type","button","class","mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click",4,"ngIf"],[1,"mat-paginator-page-size"],[1,"mat-paginator-page-size-label"],["class","mat-paginator-page-size-select",3,"appearance","color",4,"ngIf"],["class","mat-paginator-page-size-value",4,"ngIf"],[1,"mat-paginator-page-size-select",3,"appearance","color"],[3,"value","disabled","aria-label","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"mat-paginator-page-size-value"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["mat-icon-button","","type","button",1,"mat-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","matTooltipPosition","disabled","click"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Vb(1,"div",1),r.yc(2,Kl,5,3,"div",2),r.Vb(3,"div",3),r.Vb(4,"div",4),r.zc(5),r.Ub(),r.yc(6,Zl,3,5,"button",5),r.Vb(7,"button",6),r.cc("click",function(){return e.previousPage()}),r.fc(),r.Vb(8,"svg",7),r.Qb(9,"path",8),r.Ub(),r.Ub(),r.ec(),r.Vb(10,"button",9),r.cc("click",function(){return e.nextPage()}),r.fc(),r.Vb(11,"svg",7),r.Qb(12,"path",10),r.Ub(),r.Ub(),r.yc(13,Wl,3,5,"button",11),r.Ub(),r.Ub(),r.Ub()),2&t&&(r.Eb(2),r.lc("ngIf",!e.hidePageSize),r.Eb(3),r.Bc(" ",e._intl.getRangeLabel(e.pageIndex,e.pageSize,e.length)," "),r.Eb(1),r.lc("ngIf",e.showFirstLastButtons),r.Eb(1),r.lc("matTooltip",e._intl.previousPageLabel)("matTooltipDisabled",e._previousButtonsDisabled())("matTooltipPosition","above")("disabled",e._previousButtonsDisabled()),r.Fb("aria-label",e._intl.previousPageLabel),r.Eb(3),r.lc("matTooltip",e._intl.nextPageLabel)("matTooltipDisabled",e._nextButtonsDisabled())("matTooltipPosition","above")("disabled",e._nextButtonsDisabled()),r.Fb("aria-label",e._intl.nextPageLabel),r.Eb(3),r.lc("ngIf",e.showFirstLastButtons))},directives:[D,Vo,Vl,Kc,pl,A,Ro],styles:[".mat-paginator{display:block}.mat-paginator-outer-container{display:flex}.mat-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap-reverse;width:100%}.mat-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-paginator-page-size{margin-right:0;margin-left:8px}.mat-paginator-page-size-label{margin:0 4px}.mat-paginator-page-size-select{margin:6px 4px 0 4px;width:56px}.mat-paginator-page-size-select.mat-form-field-appearance-outline{width:64px}.mat-paginator-page-size-select.mat-form-field-appearance-fill{width:64px}.mat-paginator-range-label{margin:0 32px 0 24px}.mat-paginator-range-actions{display:flex;align-items:center}.mat-paginator-icon{width:28px;fill:currentColor}[dir=rtl] .mat-paginator-icon{transform:rotate(180deg)}\n"],encapsulation:2,changeDetection:0}),t})(),eu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[Gl],imports:[[H,Uo,gl,Bl,no]]}),t})();class nu extends Ve.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ua.a;return this._value}next(t){super.next(this._value=t)}}const ru=[[["caption"]],[["colgroup"],["col"]]],iu=["caption","colgroup, col"];function su(t){return class extends t{constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=sn(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}}}const ou=new r.s("CDK_TABLE");let au=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.N))},t.\u0275dir=r.Kb({type:t,selectors:[["","cdkCellDef",""]]}),t})(),cu=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.N))},t.\u0275dir=r.Kb({type:t,selectors:[["","cdkHeaderCellDef",""]]}),t})(),lu=(()=>{class t{constructor(t){this.template=t}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.N))},t.\u0275dir=r.Kb({type:t,selectors:[["","cdkFooterCellDef",""]]}),t})();class uu{}const hu=su(uu);let du=(()=>{class t extends hu{constructor(t){super(),this._table=t,this._stickyEnd=!1}get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const e=this._stickyEnd;this._stickyEnd=sn(t),this._hasStickyChanged=e!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(ou,8))},t.\u0275dir=r.Kb({type:t,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,e,n){if(1&t&&(r.Ib(n,au,1),r.Ib(n,cu,1),r.Ib(n,lu,1)),2&t){let t;r.pc(t=r.dc())&&(e.cell=t.first),r.pc(t=r.dc())&&(e.headerCell=t.first),r.pc(t=r.dc())&&(e.footerCell=t.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[r.Db([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),r.Bb]}),t})();class fu{constructor(t,e){const n=e.nativeElement.classList;for(const r of t._columnCssClassName)n.add(r)}}let pu=(()=>{class t extends fu{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(du),r.Pb(r.l))},t.\u0275dir=r.Kb({type:t,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[r.Bb]}),t})(),mu=(()=>{class t extends fu{constructor(t,e){super(t,e)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(du),r.Pb(r.l))},t.\u0275dir=r.Kb({type:t,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[r.Bb]}),t})();class gu{constructor(){this.tasks=[],this.endTasks=[]}}const yu=new r.s("_COALESCED_STYLE_SCHEDULER");let bu=(()=>{class t{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new Ve.a}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new gu,this._getScheduleObservable().pipe(Jo(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new gu;for(const e of t.tasks)e();for(const e of t.endTasks)e()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?Object(At.a)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(en(1))}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(r.B))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),_u=(()=>{class t{constructor(t,e){this.template=t,this._differs=e}ngOnChanges(t){if(!this._columnsDiffer){const e=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(e).create(),this._columnsDiffer.diff(e)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof Cu?t.headerCell.template:this instanceof Ou?t.footerCell.template:t.cell.template}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.N),r.Pb(r.u))},t.\u0275dir=r.Kb({type:t,features:[r.Cb]}),t})();class vu extends _u{}const wu=su(vu);let Cu=(()=>{class t extends wu{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.N),r.Pb(r.u),r.Pb(ou,8))},t.\u0275dir=r.Kb({type:t,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[r.Bb,r.Cb]}),t})();class Su extends _u{}const Eu=su(Su);let Ou=(()=>{class t extends Eu{constructor(t,e,n){super(t,e),this._table=n}ngOnChanges(t){super.ngOnChanges(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.N),r.Pb(r.u),r.Pb(ou,8))},t.\u0275dir=r.Kb({type:t,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[r.Bb,r.Cb]}),t})(),xu=(()=>{class t extends _u{constructor(t,e,n){super(t,e),this._table=n}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.N),r.Pb(r.u),r.Pb(ou,8))},t.\u0275dir=r.Kb({type:t,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[r.Bb]}),t})(),ku=(()=>{class t{constructor(e){this._viewContainer=e,t.mostRecentCellOutlet=this}ngOnDestroy(){t.mostRecentCellOutlet===this&&(t.mostRecentCellOutlet=null)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.S))},t.\u0275dir=r.Kb({type:t,selectors:[["","cdkCellOutlet",""]]}),t.mostRecentCellOutlet=null,t})(),Tu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Rb(0,0)},directives:[ku],encapsulation:2}),t})(),Iu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Rb(0,0)},directives:[ku],encapsulation:2}),t})(),Au=(()=>{class t{constructor(t){this.templateRef=t}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.N))},t.\u0275dir=r.Kb({type:t,selectors:[["ng-template","cdkNoDataRow",""]]}),t})();const Ru=["top","bottom","left","right"];class Du{constructor(t,e,n,r,i=!0,s=!0,o){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=n,this._coalescedStyleScheduler=r,this._isBrowser=i,this._needsPositionStickyOnElement=s,this._positionListener=o,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const n=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){n.push(r);for(let t=0;t<r.children.length;t++)n.push(r.children[t])}this._scheduleStyleChanges(()=>{for(const t of n)this._removeStickyStyle(t,e)})}updateStickyColumns(t,e,n,r=!0){if(!t.length||!this._isBrowser||!e.some(t=>t)&&!n.some(t=>t))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const i=t[0],s=i.children.length,o=this._getCellWidths(i,r),a=this._getStickyStartColumnPositions(o,e),c=this._getStickyEndColumnPositions(o,n),l=e.lastIndexOf(!0),u=n.indexOf(!0);this._scheduleStyleChanges(()=>{const r="rtl"===this.direction,i=r?"right":"left",h=r?"left":"right";for(const o of t)for(let t=0;t<s;t++){const r=o.children[t];e[t]&&this._addStickyStyle(r,i,a[t],t===l),n[t]&&this._addStickyStyle(r,h,c[t],t===u)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===l?[]:o.slice(0,l+1).map((t,n)=>e[n]?t:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===u?[]:o.slice(u).map((t,e)=>n[e+u]?t:null).reverse()}))})}stickRows(t,e,n){if(!this._isBrowser)return;const r="bottom"===n?t.slice().reverse():t,i="bottom"===n?e.slice().reverse():e,s=[],o=[],a=[];for(let l=0,u=0;l<r.length;l++){if(s[l]=u,!i[l])continue;const t=r[l];a[l]=this._isNativeHtmlTable?Array.from(t.children):[t];const e=t.getBoundingClientRect().height;u+=e,o[l]=e}const c=i.lastIndexOf(!0);this._scheduleStyleChanges(()=>{var t,e;for(let o=0;o<r.length;o++){if(!i[o])continue;const t=s[o],e=o===c;for(const r of a[o])this._addStickyStyle(r,n,t,e)}"top"===n?null===(t=this._positionListener)||void 0===t||t.stickyHeaderRowsUpdated({sizes:o,elements:a}):null===(e=this._positionListener)||void 0===e||e.stickyFooterRowsUpdated({sizes:o,elements:a})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const n=t.querySelector("tfoot");this._scheduleStyleChanges(()=>{e.some(t=>!t)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const n of e)t.style[n]="",t.classList.remove(this._borderCellCss[n]);Ru.some(n=>-1===e.indexOf(n)&&t.style[n])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,n,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${n}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let n=0;for(const r of Ru)t.style[r]&&(n+=e[r]);return n?`${n}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const n=[],r=t.children;for(let i=0;i<r.length;i++)n.push(r[i].getBoundingClientRect().width);return this._cachedCellWidths=n,n}_getStickyStartColumnPositions(t,e){const n=[];let r=0;for(let i=0;i<t.length;i++)e[i]&&(n[i]=r,r+=t[i]);return n}_getStickyEndColumnPositions(t,e){const n=[];let r=0;for(let i=t.length;i>0;i--)e[i]&&(n[i]=r,r+=t[i]);return n}_scheduleStyleChanges(t){this._coalescedStyleScheduler?this._coalescedStyleScheduler.schedule(t):t()}}const Pu=new r.s("CDK_SPL");let ju=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.S),r.Pb(r.l))},t.\u0275dir=r.Kb({type:t,selectors:[["","rowOutlet",""]]}),t})(),Nu=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.S),r.Pb(r.l))},t.\u0275dir=r.Kb({type:t,selectors:[["","headerRowOutlet",""]]}),t})(),Lu=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.S),r.Pb(r.l))},t.\u0275dir=r.Kb({type:t,selectors:[["","footerRowOutlet",""]]}),t})(),Fu=(()=>{class t{constructor(t,e){this.viewContainer=t,this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.S),r.Pb(r.l))},t.\u0275dir=r.Kb({type:t,selectors:[["","noDataRowOutlet",""]]}),t})(),Mu=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c,l,u){this._differs=t,this._changeDetectorRef=e,this._elementRef=n,this._dir=i,this._platform=o,this._viewRepeater=a,this._coalescedStyleScheduler=c,this._stickyPositioningListener=l,this._viewportRuler=u,this._onDestroy=new Ve.a,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.viewChange=new nu({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=s,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=sn(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=sn(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,e)=>this.trackBy?this.trackBy(e.dataIndex,e.data):e),this._viewportRuler&&this._viewportRuler.change().pipe(Jo(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const t=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||t,this._forceRecalculateCellWidths=t,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),ma(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return void this._updateNoDataRow();const e=this._rowOutlet.viewContainer;this._viewRepeater?this._viewRepeater.applyChanges(t,e,(t,e,n)=>this._getEmbeddedViewArgs(t.item,n),t=>t.item.data,t=>{1===t.operation&&t.context&&this._renderCellTemplateForItem(t.record.item.rowDef,t.context)}):t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const e=t.item;this._renderRow(this._rowOutlet,e.rowDef,r,{$implicit:e.data})}else if(null==r)e.remove(n);else{const t=e.get(n);e.move(t,r)}}),this._updateRowIndexContext(),t.forEachIdentityChange(t=>{e.get(t.currentIndex).context.$implicit=t.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._elementRef.nativeElement.querySelector("thead");e&&(e.style.display=t.length?"":"none");const n=this._headerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,n,"top"),this._headerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),e=this._elementRef.nativeElement.querySelector("tfoot");e&&(e.style.display=t.length?"":"none");const n=this._footerRowDefs.map(t=>t.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(t=>t.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),e=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...e,...n],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((t,e)=>{this._addStickyColumnStyles([t],this._headerRowDefs[e])}),this._rowDefs.forEach(t=>{const n=[];for(let r=0;r<e.length;r++)this._renderRows[r].rowDef===t&&n.push(e[r]);this._addStickyColumnStyles(n,t)}),n.forEach((t,e)=>{this._addStickyColumnStyles([t],this._footerRowDefs[e])}),Array.from(this._columnDefsByName.values()).forEach(t=>t.resetStickyChanged())}_getAllRenderRows(){const t=[],e=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let r=this._data[n];const i=this._getRenderRowsForData(r,n,e.get(r));this._cachedRenderRowsMap.has(r)||this._cachedRenderRowsMap.set(r,new WeakMap);for(let e=0;e<i.length;e++){let n=i[e];const r=this._cachedRenderRowsMap.get(n.data);r.has(n.rowDef)?r.get(n.rowDef).push(n):r.set(n.rowDef,[n]),t.push(n)}}return t}_getRenderRowsForData(t,e,n){return this._getRowDefs(t,e).map(r=>{const i=n&&n.has(r)?n.get(r):[];if(i.length){const t=i.shift();return t.dataIndex=e,t}return{data:t,rowDef:r,dataIndex:e}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Vu(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(t=>{this._columnDefsByName.has(t.name),this._columnDefsByName.set(t.name,t)})}_cacheRowDefs(){this._headerRowDefs=Vu(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Vu(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Vu(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(t=>!t.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(t,e)=>t||!!e.getColumnsDiff(),e=this._rowDefs.reduce(t,!1);e&&this._forceRenderDataRows();const n=this._headerRowDefs.reduce(t,!1);n&&this._forceRenderHeaderRows();const r=this._footerRowDefs.reduce(t,!1);return r&&this._forceRenderFooterRows(),e||n||r}_switchDataSource(t){this._data=[],ma(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;var e;ma(this.dataSource)?t=this.dataSource.connect(this):(e=this.dataSource)&&(e instanceof Rt.a||"function"==typeof e.lift&&"function"==typeof e.subscribe)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Object(Be.a)(this.dataSource)),this._renderChangeSubscription=t.pipe(Jo(this._onDestroy)).subscribe(t=>{this._data=t||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,e)=>this._renderRow(this._headerRowOutlet,t,e)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,e)=>this._renderRow(this._footerRowOutlet,t,e)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,e){const n=Array.from(e.columns||[]).map(t=>this._columnDefsByName.get(t)),r=n.map(t=>t.sticky),i=n.map(t=>t.stickyEnd);this._stickyStyler.updateStickyColumns(t,r,i,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const e=[];for(let n=0;n<t.viewContainer.length;n++){const r=t.viewContainer.get(n);e.push(r.rootNodes[0])}return e}_getRowDefs(t,e){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(e,t));else{let r=this._rowDefs.find(n=>n.when&&n.when(e,t))||this._defaultRowDef;r&&n.push(r)}return n}_getEmbeddedViewArgs(t,e){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:e}}_renderRow(t,e,n,r={}){const i=t.viewContainer.createEmbeddedView(e.template,r,n);return this._renderCellTemplateForItem(e,r),i}_renderCellTemplateForItem(t,e){for(let n of this._getCellTemplates(t))ku.mostRecentCellOutlet&&ku.mostRecentCellOutlet._viewContainer.createEmbeddedView(n,e);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let e=0,n=t.length;e<n;e++){const r=t.get(e).context;r.count=n,r.first=0===e,r.last=e===n-1,r.even=e%2==0,r.odd=!r.even,this.multiTemplateDataRows?(r.dataIndex=this._renderRows[e].dataIndex,r.renderIndex=e):r.index=this._renderRows[e].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,e=>{const n=this._columnDefsByName.get(e);return t.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),e=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const n of e){const e=this._document.createElement(n.tag);e.setAttribute("role","rowgroup");for(const t of n.outlets)e.appendChild(t.elementRef.nativeElement);t.appendChild(e)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(t,e)=>t||e.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Du(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Object(Be.a)()).pipe(Jo(this._onDestroy)).subscribe(t=>{this._stickyStyler.direction=t,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(t=>!t._table||t._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(t){const e=0===this._rowOutlet.viewContainer.length;if(e!==this._isShowingNoDataRow){const n=this._noDataRowOutlet.viewContainer;e?n.createEmbeddedView(t.templateRef):n.clear(),this._isShowingNoDataRow=e}}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u),r.Pb(r.h),r.Pb(r.l),r.ac("role"),r.Pb(nr,8),r.Pb(o),r.Pb(fn),r.Pb(ba,8),r.Pb(yu,8),r.Pb(Pu,12),r.Pb(va,8))},t.\u0275cmp=r.Jb({type:t,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,e,n){if(1&t&&(r.Ib(n,Au,1),r.Ib(n,du,1),r.Ib(n,xu,1),r.Ib(n,Cu,1),r.Ib(n,Ou,1)),2&t){let t;r.pc(t=r.dc())&&(e._noDataRow=t.first),r.pc(t=r.dc())&&(e._contentColumnDefs=t),r.pc(t=r.dc())&&(e._contentRowDefs=t),r.pc(t=r.dc())&&(e._contentHeaderRowDefs=t),r.pc(t=r.dc())&&(e._contentFooterRowDefs=t)}},viewQuery:function(t,e){if(1&t&&(r.Cc(ju,3),r.Cc(Nu,3),r.Cc(Lu,3),r.Cc(Fu,3)),2&t){let t;r.pc(t=r.dc())&&(e._rowOutlet=t.first),r.pc(t=r.dc())&&(e._headerRowOutlet=t.first),r.pc(t=r.dc())&&(e._footerRowOutlet=t.first),r.pc(t=r.dc())&&(e._noDataRowOutlet=t.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,e){2&t&&r.Hb("cdk-table-fixed-layout",e.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},exportAs:["cdkTable"],features:[r.Db([{provide:ou,useExisting:t},{provide:ba,useClass:ga},{provide:yu,useClass:bu},{provide:Pu,useValue:null}])],ngContentSelectors:iu,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(r.kc(ru),r.jc(0),r.jc(1,1),r.Rb(2,0),r.Rb(3,1),r.Rb(4,2),r.Rb(5,3))},directives:[Nu,ju,Fu,Lu],styles:[".cdk-table-fixed-layout{table-layout:fixed}\n"],encapsulation:2}),t})();function Vu(t,e){return t.concat(Array.from(e))}let Uu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Ca]]}),t})();const Bu=[[["caption"]],[["colgroup"],["col"]]],zu=["caption","colgroup, col"];let qu=(()=>{class t extends Mu{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return t.\u0275fac=function(e){return Hu(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],hostVars:2,hostBindings:function(t,e){2&t&&r.Hb("mat-table-fixed-layout",e.fixedLayout)},exportAs:["matTable"],features:[r.Db([{provide:ba,useClass:ga},{provide:Mu,useExisting:t},{provide:ou,useExisting:t},{provide:yu,useClass:bu}]),r.Bb],ngContentSelectors:zu,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,e){1&t&&(r.kc(Bu),r.jc(0),r.jc(1,1),r.Rb(2,0),r.Rb(3,1),r.Rb(4,2),r.Rb(5,3))},directives:[Nu,ju,Fu,Lu],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:first-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-cell:last-of-type:not(:only-of-type),[dir=rtl] td.mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky !important;position:sticky !important}.mat-table-fixed-layout{table-layout:fixed}\n'],encapsulation:2}),t})();const Hu=r.Xb(qu);let Ku=(()=>{class t extends au{}return t.\u0275fac=function(e){return Zu(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["","matCellDef",""]],features:[r.Db([{provide:au,useExisting:t}]),r.Bb]}),t})();const Zu=r.Xb(Ku);let Wu=(()=>{class t extends cu{}return t.\u0275fac=function(e){return $u(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["","matHeaderCellDef",""]],features:[r.Db([{provide:cu,useExisting:t}]),r.Bb]}),t})();const $u=r.Xb(Wu);let Gu=(()=>{class t extends du{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return t.\u0275fac=function(e){return Qu(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[r.Db([{provide:du,useExisting:t},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:t}]),r.Bb]}),t})();const Qu=r.Xb(Gu);let Yu=(()=>{class t extends pu{}return t.\u0275fac=function(e){return Xu(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[r.Bb]}),t})();const Xu=r.Xb(Yu);let Ju=(()=>{class t extends mu{}return t.\u0275fac=function(e){return th(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[r.Bb]}),t})();const th=r.Xb(Ju);let eh=(()=>{class t extends Cu{}return t.\u0275fac=function(e){return nh(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[r.Db([{provide:Cu,useExisting:t}]),r.Bb]}),t})();const nh=r.Xb(eh);let rh=(()=>{class t extends xu{}return t.\u0275fac=function(e){return ih(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[r.Db([{provide:xu,useExisting:t}]),r.Bb]}),t})();const ih=r.Xb(rh);let sh=(()=>{class t extends Tu{}return t.\u0275fac=function(e){return oh(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[r.Db([{provide:Tu,useExisting:t}]),r.Bb],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Rb(0,0)},directives:[ku],encapsulation:2}),t})();const oh=r.Xb(sh);let ah=(()=>{class t extends Iu{}return t.\u0275fac=function(e){return ch(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[r.Db([{provide:Iu,useExisting:t}]),r.Bb],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,e){1&t&&r.Rb(0,0)},directives:[ku],encapsulation:2}),t})();const ch=r.Xb(ah);let lh=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[Uu,no],no]}),t})();class uh extends class extends class{}{constructor(t=[]){super(),this._renderData=new nu([]),this._filter=new nu(""),this._internalPageChanges=new Ve.a,this._renderChangesSubscription=null,this.sortingDataAccessor=(t,e)=>{const n=t[e];if(an(n)){const t=Number(n);return t<9007199254740991?t:n}return n},this.sortData=(t,e)=>{const n=e.active,r=e.direction;return n&&""!=r?t.sort((t,e)=>{let i=this.sortingDataAccessor(t,n),s=this.sortingDataAccessor(e,n);const o=typeof i,a=typeof s;o!==a&&("number"===o&&(i+=""),"number"===a&&(s+=""));let c=0;return null!=i&&null!=s?i>s?c=1:i<s&&(c=-1):null!=i?c=1:null!=s&&(c=-1),c*("asc"==r?1:-1)}):t},this.filterPredicate=(t,e)=>{const n=Object.keys(t).reduce((e,n)=>e+t[n]+"\u25ec","").toLowerCase(),r=e.trim().toLowerCase();return-1!=n.indexOf(r)},this._data=new nu(t),this._updateChangeSubscription()}get data(){return this._data.value}set data(t){this._data.next(t),this._renderChangesSubscription||this._filterData(t)}get filter(){return this._filter.value}set filter(t){this._filter.next(t),this._renderChangesSubscription||this._filterData(this.data)}get sort(){return this._sort}set sort(t){this._sort=t,this._updateChangeSubscription()}get paginator(){return this._paginator}set paginator(t){this._paginator=t,this._updateChangeSubscription()}_updateChangeSubscription(){var t;const e=this._sort?Object(Ra.a)(this._sort.sortChange,this._sort.initialized):Object(Be.a)(null),n=this._paginator?Object(Ra.a)(this._paginator.page,this._internalPageChanges,this._paginator.initialized):Object(Be.a)(null),r=Sl([this._data,this._filter]).pipe(Object(Pt.a)(([t])=>this._filterData(t))),i=Sl([r,e]).pipe(Object(Pt.a)(([t])=>this._orderData(t))),s=Sl([i,n]).pipe(Object(Pt.a)(([t])=>this._pageData(t)));null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=s.subscribe(t=>this._renderData.next(t))}_filterData(t){return this.filteredData=null==this.filter||""===this.filter?t:t.filter(t=>this.filterPredicate(t,this.filter)),this.paginator&&this._updatePaginator(this.filteredData.length),this.filteredData}_orderData(t){return this.sort?this.sortData(t.slice(),this.sort):t}_pageData(t){if(!this.paginator)return t;const e=this.paginator.pageIndex*this.paginator.pageSize;return t.slice(e,e+this.paginator.pageSize)}_updatePaginator(t){Promise.resolve().then(()=>{const e=this.paginator;if(e&&(e.length=t,e.pageIndex>0)){const t=Math.ceil(e.length/e.pageSize)-1||0,n=Math.min(e.pageIndex,t);n!==e.pageIndex&&(e.pageIndex=n,this._internalPageChanges.next())}})}connect(){return this._renderChangesSubscription||this._updateChangeSubscription(),this._renderData}disconnect(){var t;null===(t=this._renderChangesSubscription)||void 0===t||t.unsubscribe(),this._renderChangesSubscription=null}}{}var hh=n("spgP"),dh=n("mrSG");class fh{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new ph(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class ph extends He.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(s){this.error(s)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new Ve.a,n.set(e,i);const t=new gh(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new gh(e,i))}catch(s){return void this.error(s)}this.add(t.subscribe(new mh(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class mh extends He.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class gh extends Rt.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new Ue.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new yh(n)),e.add(r.subscribe(t)),e}}class yh extends Ue.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}var bh=n("5+tZ");const _h=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var vh=n("EQ5u");function wh(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ch(t,e,n))}}class Ch{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Sh(t,this.accumulator,this.seed,this.hasSeed))}}class Sh extends He.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Eh(t){return function(e){const n=new Oh(t),r=e.lift(n);return n.caught=r}}class Oh{constructor(t){this.selector=t}call(t,e){return e.subscribe(new xh(t,this.selector,this.caught))}}class xh extends Wo.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Wo.a(this);this.add(r);const i=Object(Wo.c)(n,r);i!==r&&this.add(i)}}}function kh(t,e){return Object(bh.a)(t,e,1)}function Th(t){return function(e){return 0===t?Object(tn.b)():e.lift(new Ih(t))}}class Ih{constructor(t){if(this.total=t,this.total<0)throw new Je}call(t,e){return e.subscribe(new Ah(t,this.total))}}class Ah extends He.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Rh(t=jh){return e=>e.lift(new Dh(t))}class Dh{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Ph(t,this.errorFactory))}}class Ph extends He.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(gI){t=gI}this.destination.error(t)}}}function jh(){return new _h}function Nh(t=null){return e=>e.lift(new Lh(t))}class Lh{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Fh(t,this.defaultValue))}}class Fh extends He.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Mh=n("SpAZ");function Vh(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qe((e,n)=>t(e,n,r)):Mh.a,en(1),n?Nh(e):Rh(()=>new _h))}var Uh=n("x+ZX");function Bh(t){return e=>e.lift(new zh(t))}class zh{constructor(t){this.callback=t}call(t,e){return e.subscribe(new qh(t,this.callback))}}class qh extends He.a{constructor(t,e){super(t),this.add(new Ue.a(e))}}class Hh{constructor(t,e){this.id=t,this.url=e}}class Kh extends Hh{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Zh extends Hh{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wh extends Hh{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $h extends Hh{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Gh extends Hh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qh extends Hh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yh extends Hh{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xh extends Hh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jh extends Hh{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class td{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ed{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class nd{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rd{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class id{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sd{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class od{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ad="primary";class cd{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ld(t){return new cd(t)}function ud(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function hd(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function dd(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!fd(t[i],e[i]))return!1;return!0}function fd(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function pd(t){return Array.prototype.concat.apply([],t)}function md(t){return t.length>0?t[t.length-1]:null}function gd(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function yd(t){return Object(r.ub)(t)?t:Object(r.vb)(t)?Object(At.a)(Promise.resolve(t)):Object(Be.a)(t)}function bd(t,e,n){return n?function(t,e){return dd(t,e)}(t.queryParams,e.queryParams)&&_d(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>fd(t[n],e[n]))}(t.queryParams,e.queryParams)&&vd(t.root,e.root)}function _d(t,e){if(!Od(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!_d(t.children[n],e.children[n]))return!1}return!0}function vd(t,e){return wd(t,e,e.segments)}function wd(t,e,n){if(t.segments.length>n.length)return!!Od(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!Od(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!vd(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!Od(t.segments,r)&&!!t.children.primary&&wd(t.children.primary,e,i)}}class Cd{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ld(this.queryParams)),this._queryParamMap}toString(){return Td.serialize(this)}}class Sd{constructor(t,e){this.segments=t,this.children=e,this.parent=null,gd(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Id(this)}}class Ed{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ld(this.parameters)),this._parameterMap}toString(){return Ld(this)}}function Od(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class xd{}class kd{parse(t){const e=new Bd(t);return new Cd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${Ad(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Dd(e)}=${Dd(t)}`).join("&"):`${Dd(e)}=${Dd(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Td=new kd;function Id(t){return t.segments.map(t=>Ld(t)).join("/")}function Ad(t,e){if(!t.hasChildren())return Id(t);if(e){const e=t.children.primary?Ad(t.children.primary,!1):"",n=[];return gd(t.children,(t,e)=>{e!==ad&&n.push(`${e}:${Ad(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return gd(t.children,(t,r)=>{r===ad&&(n=n.concat(e(t,r)))}),gd(t.children,(t,r)=>{r!==ad&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===ad?[Ad(t.children.primary,!1)]:[`${n}:${Ad(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${Id(t)}/${e[0]}`:`${Id(t)}/(${e.join("//")})`}}function Rd(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dd(t){return Rd(t).replace(/%3B/gi,";")}function Pd(t){return Rd(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function jd(t){return decodeURIComponent(t)}function Nd(t){return jd(t.replace(/\+/g,"%20"))}function Ld(t){return`${Pd(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Pd(t)}=${Pd(e[t])}`).join("")}`;var e}const Fd=/^[^\/()?;=#]+/;function Md(t){const e=t.match(Fd);return e?e[0]:""}const Vd=/^[^=?&#]+/,Ud=/^[^?&#]+/;class Bd{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Sd([],{}):new Sd([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Sd(t,e)),n}parseSegment(){const t=Md(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ed(jd(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Md(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Md(this.remaining);t&&(n=t,this.capture(n))}t[jd(e)]=jd(n)}parseQueryParam(t){const e=function(t){const e=t.match(Vd);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Ud);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Nd(e),i=Nd(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Md(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=ad);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Sd([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class zd{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=qd(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=qd(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Hd(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Hd(t,this._root).map(t=>t.value)}}function qd(t,e){if(t===e.value)return e;for(const n of e.children){const e=qd(t,n);if(e)return e}return null}function Hd(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Hd(t,n);if(r.length)return r.unshift(e),r}return[]}class Kd{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Zd(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Wd extends zd{constructor(t,e){super(t),this.snapshot=e,Jd(this,t)}toString(){return this.snapshot.toString()}}function $d(t,e){const n=function(t,e){const n=new Yd([],{},{},"",{},ad,e,null,t.root,-1,{});return new Xd("",new Kd(n,[]))}(t,e),r=new nu([new Ed("",{})]),i=new nu({}),s=new nu({}),o=new nu({}),a=new nu(""),c=new Gd(r,i,o,a,s,ad,e,n.root);return c.snapshot=n.root,new Wd(new Kd(c,[]),n)}class Gd{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Pt.a)(t=>ld(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Pt.a)(t=>ld(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qd(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Yd{constructor(t,e,n,r,i,s,o,a,c,l,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ld(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ld(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Xd extends zd{constructor(t,e){super(e),this.url=t,Jd(this,e)}toString(){return tf(this._root)}}function Jd(t,e){e.value._routerState=t,e.children.forEach(e=>Jd(t,e))}function tf(t){const e=t.children.length>0?` { ${t.children.map(tf).join(", ")} } `:"";return`${t.value}${e}`}function ef(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,dd(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),dd(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!dd(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),dd(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function nf(t,e){return dd(t.params,e.params)&&function(t,e){return Od(t,e)&&t.every((t,n)=>dd(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||nf(t.parent,e.parent))}function rf(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return rf(t,e,r);return rf(t,e)})}(t,e,n);return new Kd(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return sf(e,t),t}}const n=new Gd(new nu((r=e.value).url),new nu(r.params),new nu(r.queryParams),new nu(r.fragment),new nu(r.data),r.outlet,r.component,r),i=e.children.map(e=>rf(t,e));return new Kd(n,i)}var r}function sf(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)sf(t.children[n],e.children[n])}function of(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function af(t){return"object"==typeof t&&null!=t&&t.outlets}function cf(t,e,n,r,i){let s={};return r&&gd(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Cd(n.root===t?e:lf(n.root,t,e),s,i)}function lf(t,e,n){const r={};return gd(t.children,(t,i)=>{r[i]=t===e?n:lf(t,e,n)}),new Sd(t.segments,r)}class uf{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&of(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(af);if(r&&r!==md(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hf{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function df(t,e,n){if(t||(t=new Sd([],{})),0===t.segments.length&&t.hasChildren())return ff(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(af(o))break;const a=`${o}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!yf(a,c,e))return s;r+=2}else{if(!yf(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Sd(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Sd(t.segments.slice(r.pathIndex),t.children),ff(e,0,i)}return r.match&&0===i.length?new Sd(t.segments,{}):r.match&&!t.hasChildren()?pf(t,e,n):r.match?ff(t,0,i):pf(t,e,n)}function ff(t,e,n){if(0===n.length)return new Sd(t.segments,{});{const r=function(t){return af(t[0])?t[0].outlets:{[ad]:t}}(n),i={};return gd(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=df(t.children[r],e,n))}),gd(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Sd(t.segments,i)}}function pf(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(af(s)){const t=mf(s.outlets);return new Sd(r,t)}if(0===i&&of(n[0])){r.push(new Ed(t.segments[e].path,gf(n[0]))),i++;continue}const o=af(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&of(a)?(r.push(new Ed(o,gf(a))),i+=2):(r.push(new Ed(o,{})),i++)}return new Sd(r,{})}function mf(t){const e={};return gd(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=pf(new Sd([],{}),0,t))}),e}function gf(t){const e={};return gd(t,(t,n)=>e[n]=`${t}`),e}function yf(t,e,n){return t==n.path&&dd(e,n.parameters)}class bf{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ef(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Zd(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),gd(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Zd(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Zd(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new sd(t.value.snapshot))}),t.children.length&&this.forwardEvent(new rd(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(ef(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),_f(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function _f(t){ef(t.value),t.children.forEach(_f)}class vf{constructor(t,e){this.routes=t,this.module=e}}function wf(t){return"function"==typeof t}function Cf(t){return t instanceof Cd}const Sf=Symbol("INITIAL_VALUE");function Ef(){return sa(t=>Sl(t.map(t=>t.pipe(en(1),cr(Sf)))).pipe(wh((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Sf)return t;if(r===Sf&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Cf(r))return r}return t},t)},Sf),Qe(t=>t!==Sf),Object(Pt.a)(t=>Cf(t)?t:!0===t),en(1)))}let Of=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Qb(0,"router-outlet")},directives:function(){return[_p]},encapsulation:2}),t})();function xf(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];kf(r,Tf(e,r))}}function kf(t,e){t.children&&xf(t.children,e)}function Tf(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function If(t){const e=t.children&&t.children.map(If),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ad&&(n.component=Of),n}function Af(t){return t.outlet||ad}function Rf(t,e){const n=t.filter(t=>Af(t)===e);return n.push(...t.filter(t=>Af(t)!==e)),n}const Df={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Pf(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},Df):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||hd)(n,t,e);if(!i)return Object.assign({},Df);const s={};gd(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function jf(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>Nf(t,e,n)&&Af(n)!==ad)}(t,n,r)){const i=new Sd(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&Af(s)!==ad){const n=new Sd([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Af(s)]=n}return i}(t,e,r,new Sd(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Nf(t,e,n))}(t,n,r)){const s=new Sd(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(Nf(t,n,a)&&!i[Af(a)]){const n=new Sd([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[Af(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Sd(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function Nf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function Lf(t,e,n,r){return!!(Af(t)===r||r!==ad&&Nf(e,n,t))&&("**"===t.path||Pf(e,t,n).matched)}function Ff(t,e,n){return 0===e.length&&!t.children[n]}class Mf{constructor(t){this.segmentGroup=t||null}}class Vf{constructor(t){this.urlTree=t}}function Uf(t){return new Rt.a(e=>e.error(new Mf(t)))}function Bf(t){return new Rt.a(e=>e.error(new Vf(t)))}function zf(t){return new Rt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class qf{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.z)}apply(){const t=jf(this.urlTree.root,[],[],this.config).segmentGroup,e=new Sd(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ad).pipe(Object(Pt.a)(t=>this.createUrlTree(Hf(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Eh(t=>{if(t instanceof Vf)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Mf)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ad).pipe(Object(Pt.a)(e=>this.createUrlTree(Hf(e),t.queryParams,t.fragment))).pipe(Eh(t=>{if(t instanceof Mf)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Sd([],{[ad]:t}):t;return new Cd(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Pt.a)(t=>new Sd([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(At.a)(r).pipe(kh(r=>{const i=n.children[r],s=Rf(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(Pt.a)(t=>({segment:t,outlet:r})))}),wh((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Qe((e,n)=>t(e,n,r)):Mh.a,Th(1),n?Nh(e):Rh(()=>new _h))}())}expandSegment(t,e,n,r,i,s){return Object(At.a)(n).pipe(kh(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(Eh(t=>{if(t instanceof Mf)return Object(Be.a)(null);throw t}))),Vh(t=>!!t),Eh((t,n)=>{if(t instanceof _h||"EmptyError"===t.name){if(Ff(e,r,i))return Object(Be.a)(new Sd([],{}));throw new Mf(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Lf(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Uf(e):Uf(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Bf(i):this.lineralizeSegments(n,i).pipe(Object(bh.a)(n=>{const i=new Sd(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:c,positionalParamSegments:l}=Pf(e,r,i);if(!o)return Uf(e);const u=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?Bf(u):this.lineralizeSegments(r,u).pipe(Object(bh.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(c)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?Object(Be.a)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe(Object(Pt.a)(t=>(n._loadedConfig=t,new Sd(r,{})))):Object(Be.a)(new Sd(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=Pf(e,n,r);if(!s)return Uf(e);const c=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(bh.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:l}=jf(e,o,c,s),u=new Sd(a.segments,a.children);if(0===l.length&&u.hasChildren())return this.expandChildren(r,s,u).pipe(Object(Pt.a)(t=>new Sd(o,t)));if(0===s.length&&0===l.length)return Object(Be.a)(new Sd(o,{}));const h=Af(n)===i;return this.expandSegment(r,u,s,l,h?ad:i,!0).pipe(Object(Pt.a)(t=>new Sd(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Be.a)(new vf(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Be.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(bh.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Pt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Rt.a(e=>e.error(ud(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Be.a)(new vf([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Be.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&wf(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!wf(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return yd(s)});return Object(Be.a)(i).pipe(Ef(),Object(qe.a)(t=>{if(!Cf(t))return;const e=ud(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Pt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Be.a)(n);if(r.numberOfChildren>1||!r.children.primary)return zf(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Cd(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return gd(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return gd(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Sd(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Hf(t){const e={};for(const n of Object.keys(t.children)){const r=Hf(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Sd(t.segments.concat(e.segments),e.children)}return t}(new Sd(t.segments,e))}class Kf{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Zf{constructor(t,e){this.component=t,this.route=e}}function Wf(t,e,n){const r=t._root;return Gf(r,e?e._root:null,n,[r.value])}function $f(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Gf(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Zd(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Od(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Od(t.url,e.url)||!dd(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nf(t,e)||!dd(t.queryParams,e.queryParams);case"paramsChange":default:return!nf(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Kf(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Gf(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Zf(a.outlet.component,o))}else o&&Qf(e,a,i),i.canActivateChecks.push(new Kf(r)),Gf(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),gd(s,(t,e)=>Qf(t,n.getContext(e),i)),i}function Qf(t,e,n){const r=Zd(t),i=t.value;gd(r,(t,r)=>{Qf(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Zf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Yf{}function Xf(t){return new Rt.a(e=>e.error(t))}class Jf{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=jf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ad);if(null===e)return null;const n=new Yd([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ad,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Kd(n,e),i=new Xd(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Qd(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=Rf(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=ep(n);return r.sort((t,e)=>t.value.outlet===ad?-1:e.value.outlet===ad?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return Ff(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!Lf(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?md(n).parameters:{};i=new Yd(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ip(t),Af(t),t.component,t,np(e),rp(e)+n.length,sp(t))}else{const r=Pf(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Yd(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ip(t),Af(t),t.component,t,np(e),rp(e)+s.length,sp(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:c,slicedSegments:l}=jf(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const t=this.processChildren(a,c);return null===t?null:[new Kd(i,t)]}if(0===a.length&&0===l.length)return[new Kd(i,[])];const u=Af(t)===r,h=this.processSegment(a,c,l,u?ad:r);return null===h?null:[new Kd(i,h)]}}function tp(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ep(t){const e=[],n=new Set;for(const r of t){if(!tp(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=ep(r.children);e.push(new Kd(r.value,t))}return e.filter(t=>!n.has(t))}function np(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function rp(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function ip(t){return t.data||{}}function sp(t){return t.resolve||{}}function op(t){return sa(e=>{const n=t(e);return n?Object(At.a)(n).pipe(Object(Pt.a)(()=>e)):Object(Be.a)(e)})}class ap extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const cp=new r.s("ROUTES");class lp{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe(Object(Pt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new vf(pd(i.injector.get(cp,void 0,r.r.Self|r.r.Optional)).map(If),i)}),Eh(t=>{throw e._loader$=void 0,t}));return e._loader$=new vh.a(n,()=>new Ve.a).pipe(Object(Uh.a)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?Object(At.a)(this.loader.load(t)):yd(t()).pipe(Object(bh.a)(t=>t instanceof r.x?Object(Be.a)(t):Object(At.a)(this.compiler.compileModuleAsync(t))))}}class up{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new hp,this.attachRef=null}}class hp{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new up,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class dp{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function fp(t){throw t}function pp(t,e,n){return e.parse("/")}function mp(t,e){return Object(Be.a)(null)}let gp=(()=>{class t{constructor(t,e,n,i,s,o,a,c){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Ve.a,this.errorHandler=fp,this.malformedUriErrorHandler=pp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:mp,afterPreactivation:mp},this.urlHandlingStrategy=new dp,this.routeReuseStrategy=new ap,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.z),this.console=s.get(r.bb);const l=s.get(r.B);this.isNgZoneEnabled=l instanceof r.B&&r.B.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Cd(new Sd([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new lp(o,a,t=>this.triggerEvent(new td(t)),t=>this.triggerEvent(new ed(t))),this.routerState=$d(this.currentUrlTree,this.rootComponentType),this.transitions=new nu({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Qe(t=>0!==t.id),Object(Pt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),sa(t=>{let n=!1,r=!1;return Object(Be.a)(t).pipe(Object(qe.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),sa(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Be.a)(t).pipe(sa(t=>{const n=this.transitions.getValue();return e.next(new Kh(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?tn.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,sa(t=>function(t,e,n,r,i){return new qf(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(Pt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(qe.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(bh.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new Jf(t,e,n,r,i,s).recognize();return null===o?Xf(new Yf):Object(Be.a)(o)}catch(gI){return Xf(gI)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(Pt.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(qe.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Gh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Kh(n,this.serializeUrl(r),i,s);e.next(a);const c=$d(r,this.rootComponentType).snapshot;return Object(Be.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),tn.a}),op(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(qe.a)(t=>{const e=new Qh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Pt.a)(t=>Object.assign(Object.assign({},t),{guards:Wf(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(bh.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Be.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(At.a)(t).pipe(Object(bh.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Be.a)(!0);const o=s.map(s=>{const o=$f(s,e,i);let a;if(function(t){return t&&wf(t.canDeactivate)}(o))a=yd(o.canDeactivate(t,e,n,r));else{if(!wf(o))throw new Error("Invalid CanDeactivate guard");a=yd(o(t,e,n,r))}return a.pipe(Vh())});return Object(Be.a)(o).pipe(Ef())}(t.component,t.route,n,e,r)),Vh(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(bh.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(At.a)(e).pipe(kh(e=>or(function(t,e){return null!==t&&e&&e(new nd(t)),Object(Be.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new id(t)),Object(Be.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Wc(()=>{const i=e.guards.map(i=>{const s=$f(i,e.node,n);let o;if(function(t){return t&&wf(t.canActivateChild)}(s))o=yd(s.canActivateChild(r,t));else{if(!wf(s))throw new Error("Invalid CanActivateChild guard");o=yd(s(r,t))}return o.pipe(Vh())});return Object(Be.a)(i).pipe(Ef())}));return Object(Be.a)(i).pipe(Ef())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Be.a)(!0);const i=r.map(r=>Wc(()=>{const i=$f(r,e,n);let s;if(function(t){return t&&wf(t.canActivate)}(i))s=yd(i.canActivate(e,t));else{if(!wf(i))throw new Error("Invalid CanActivate guard");s=yd(i(e,t))}return s.pipe(Vh())}));return Object(Be.a)(i).pipe(Ef())}(t,e.route,n))),Vh(t=>!0!==t,!0))}(r,s,t,e):Object(Be.a)(n)),Object(Pt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(qe.a)(t=>{if(Cf(t.guardsResult)){const e=ud(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Yh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Qe(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Wh(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),op(t=>{if(t.guards.canActivateChecks.length)return Object(Be.a)(t).pipe(Object(qe.a)(t=>{const e=new Xh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),sa(t=>{let n=!1;return Object(Be.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(bh.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Be.a)(t);let s=0;return Object(At.a)(n).pipe(kh(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Be.a)({});const s={};return Object(At.a)(i).pipe(Object(bh.a)(i=>function(t,e,n,r){const i=$f(t,e,r);return yd(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(qe.a)(t=>{s[i]=t}))),Th(1),Object(bh.a)(()=>Object.keys(s).length===i.length?Object(Be.a)(s):tn.a))}(t._resolve,t,e,r).pipe(Object(Pt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Qd(t,n).resolve),null)))}(t.route,e,r,i)),Object(qe.a)(()=>s++),Th(1),Object(bh.a)(e=>s===n.length?Object(Be.a)(t):tn.a))})),Object(qe.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Wh(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(qe.a)(t=>{const e=new Jh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),op(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Pt.a)(t=>{const e=function(t,e,n){const r=rf(t,e._root,n?n._root:void 0);return new Wd(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(qe.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(i=this.rootContexts,s=this.routeReuseStrategy,o=t=>this.triggerEvent(t),Object(Pt.a)(t=>(new bf(s,t.targetRouterState,t.currentRouterState,o).activate(i),t))),Object(qe.a)({next(){n=!0},complete(){n=!0}}),Bh(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Wh(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),Eh(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Cf(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Wh(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new $h(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(qv){t.reject(qv)}}var i;return tn.a}));var i,s,o}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){xf(t),this.config=t.map(If),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,c=o?this.currentUrlTree.fragment:i;let l=null;switch(s){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(t,e,n,r,i){if(0===n.length)return cf(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new uf(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return gd(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new uf(n,e,r)}(n);if(s.toRoot())return cf(e.root,new Sd([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new hf(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new hf(t,t===e.root,0)}const r=of(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new hf(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?ff(o.segmentGroup,o.index,s.commands):df(o.segmentGroup,o.index,s.commands);return cf(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,l,c)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Cf(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(gI){e=this.malformedUriErrorHandler(gI,this.urlSerializer,t)}return e}isActive(t,e){if(Cf(t))return bd(this.currentUrlTree,t,e);const n=this.parseUrl(t);return bd(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Zh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let c,l,u;i?(c=i.resolve,l=i.reject,u=i.promise):u=new Promise((t,e)=>{c=t,l=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(r.P),r.Zb(xd),r.Zb(hp),r.Zb(w),r.Zb(r.t),r.Zb(r.y),r.Zb(r.i),r.Zb(void 0))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),yp=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Ve.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:bp(this.skipLocationChange),replaceUrl:bp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:bp(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(gp),r.Pb(Gd),r.ac("tabindex"),r.Pb(r.G),r.Pb(r.l))},t.\u0275dir=r.Kb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.cc("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Cb]}),t})();function bp(t){return""===t||!!t}let _p=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.o,this.deactivateEvents=new r.o,this.name=i||ad,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new vp(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(hp),r.Pb(r.S),r.Pb(r.j),r.ac("name"),r.Pb(r.h))},t.\u0275dir=r.Kb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class vp{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Gd?this.route:t===hp?this.childContexts:this.parent.get(t,e)}}class wp{}class Cp{preload(t,e){return Object(Be.a)(null)}}let Sp=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new lp(e,n,e=>t.triggerEvent(new td(e)),e=>t.triggerEvent(new ed(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Qe(t=>t instanceof Zh),kh(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.z);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(At.a)(n).pipe(Object(sr.a)(),Object(Pt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?Object(Be.a)(e._loadedConfig):this.loader.load(t.injector,e)).pipe(Object(bh.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(gp),r.Zb(r.y),r.Zb(r.i),r.Zb(r.t),r.Zb(wp))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),Ep=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Kh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Zh&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof od&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new od(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(gp),r.Zb(W),r.Zb(void 0))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();const Op=new r.s("ROUTER_CONFIGURATION"),xp=new r.s("ROUTER_FORROOT_GUARD"),kp=[w,{provide:xd,useClass:kd},{provide:gp,useFactory:function(t,e,n,r,i,o,a,c={},l,u){const h=new gp(null,t,e,n,r,i,o,pd(a));if(l&&(h.urlHandlingStrategy=l),u&&(h.routeReuseStrategy=u),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(c,h),c.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[xd,hp,w,r.t,r.y,r.i,cp,Op,[class{},new r.C],[class{},new r.C]]},hp,{provide:Gd,useFactory:function(t){return t.routerState.root},deps:[gp]},{provide:r.y,useClass:r.M},Sp,Cp,class{preload(t,e){return e().pipe(Eh(()=>Object(Be.a)(null)))}},{provide:Op,useValue:{enableTracing:!1}}];function Tp(){return new r.A("Router",gp)}let Ip=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[kp,Pp(e),{provide:xp,useFactory:Dp,deps:[[gp,new r.C,new r.L]]},{provide:Op,useValue:n||{}},{provide:g,useFactory:Rp,deps:[a,[new r.q(b),new r.C],Op]},{provide:Ep,useFactory:Ap,deps:[gp,W,Op]},{provide:wp,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Cp},{provide:r.A,multi:!0,useFactory:Tp},[jp,{provide:r.d,multi:!0,useFactory:Np,deps:[jp]},{provide:Fp,useFactory:Lp,deps:[jp]},{provide:r.b,multi:!0,useExisting:Fp}]]}}static forChild(e){return{ngModule:t,providers:[Pp(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(xp,8),r.Zb(gp,8))},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({}),t})();function Ap(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ep(t,e,n)}function Rp(t,e,n={}){return n.useHash?new v(t,e):new _(t,e)}function Dp(t){return"guarded"}function Pp(t){return[{provide:r.a,multi:!0,useValue:t},{provide:cp,multi:!0,useValue:t}]}let jp=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Ve.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(gp),r=this.injector.get(Op);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Be.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(Op),n=this.injector.get(Sp),i=this.injector.get(Ep),s=this.injector.get(gp),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(r.t))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();function Np(t){return t.appInitializer.bind(t)}function Lp(t){return t.bootstrapListener.bind(t)}const Fp=new r.s("Router Initializer");function Mp(t,e){return e?sa(()=>t,e):sa(()=>t)}var Vp=n("tf+s");const Up=new r.s("angularfire2.auth.use-emulator"),Bp=new r.s("angularfire2.auth.settings"),zp=new r.s("angularfire2.auth.tenant-id"),qp=new r.s("angularfire2.auth.langugage-code"),Hp=new r.s("angularfire2.auth.use-device-language"),Kp=new r.s("angularfire.auth.persistence");let Zp=(()=>{class t{constructor(t,e,r,i,s,o,a,c,l,u){const h=new hh.e(i),d=Object(hh.i)(h),f=new Ve.a,p=Object(Be.a)(void 0).pipe(Object(la.b)(h.outsideAngular),sa(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object(Pt.a)(()=>Object(hh.h)(t,i,e)),Object(Pt.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(hh.g)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=c,l&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return u&&r.setPersistence(u),r},[e,a,c,l,n,u])})),pa({bufferSize:1,refCount:!1}));if(Z(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Be.a)(null);else{p.pipe(Vh()).subscribe();const t=p.pipe(sa(t=>t.getRedirectResult().then(t=>t,()=>null)),d,pa({bufferSize:1,refCount:!1})),e=t=>new Rt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(sa(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(sa(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Mp(n),Object(Vp.a)(h.outsideAngular),Object(la.b)(h.insideAngular)),this.user=t.pipe(Mp(r),Object(Vp.a)(h.outsideAngular),Object(la.b)(h.insideAngular)),this.idToken=this.user.pipe(sa(t=>t?Object(At.a)(t.getIdToken()):Object(Be.a)(null))),this.idTokenResult=this.user.pipe(sa(t=>t?Object(At.a)(t.getIdTokenResult()):Object(Be.a)(null))),this.credential=Object(Ra.a)(t,f,this.authState.pipe(Qe(t=>!t))).pipe(Object(Pt.a)(t=>(null==t?void 0:t.user)?t:null),Object(Vp.a)(h.outsideAngular),Object(la.b)(h.insideAngular))}return Object(hh.j)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(hh.c),r.Zb(hh.b,8),r.Zb(r.D),r.Zb(r.B),r.Zb(Up,8),r.Zb(Bp,8),r.Zb(zp,8),r.Zb(qp,8),r.Zb(Hp,8),r.Zb(Kp,8))},t.\u0275prov=r.Lb({factory:function(){return new t(r.Zb(hh.c),r.Zb(hh.b,8),r.Zb(r.D),r.Zb(r.B),r.Zb(Up,8),r.Zb(Bp,8),r.Zb(zp,8),r.Zb(qp,8),r.Zb(Hp,8),r.Zb(Kp,8))},token:t,providedIn:"any"}),t})();Object(hh.f)(Zp,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);const Wp=new r.s("angularfire2.analytics.analyticsCollectionEnabled"),$p=new r.s("angularfire2.analytics.appVersion"),Gp=new r.s("angularfire2.analytics.appName"),Qp=new r.s("angularfire2.analytics.debugMode"),Yp=new r.s("angularfire2.analytics.config");let Xp=(()=>{class t{constructor(t,e,r,i,s,o,a,c){if(this.analyticsInitialized=new Promise(()=>{}),K(a)){window.dataLayer=window.dataLayer||[];const t=(...t)=>"config"===t[0]&&"firebase"===t[2].origin&&(this.measurementId=t[1],!0),e=t=>{window.gtag=(...e)=>{t&&t(...e),"event"===e[0]&&e[2].send_to===this.measurementId&&(i&&(e[2].app_name=i),r&&(e[2].app_version=r)),s&&"undefined"!=typeof console&&console.info(...e),function(...t){window.dataLayer.push(arguments)}(...e)}};window.dataLayer.some(t)?(this.analyticsInitialized=Promise.resolve(),e()):this.analyticsInitialized=new Promise(n=>{e((...e)=>{t(...e)&&n()})}),o&&this.updateConfig(o),s&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const l=Object(Be.a)(void 0).pipe(Object(la.b)(new hh.e(c).outsideAngular),sa(()=>K(a)?c.runOutsideAngular(()=>n.e(4).then(n.bind(null,"AAub"))):tn.a),Object(Pt.a)(()=>Object(hh.g)("analytics","AngularFireAnalytics",t,()=>{const n=t.analytics();return!1===e&&n.setAnalyticsCollectionEnabled(!1),n},[t,e,o,s])),pa({bufferSize:1,refCount:!1}));return Object(hh.j)(this,l,c)}updateConfig(t){return Object(dh.b)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(hh.d),r.Zb(Wp,8),r.Zb($p,8),r.Zb(Gp,8),r.Zb(Qp,8),r.Zb(Yp,8),r.Zb(r.D),r.Zb(r.B))},t.\u0275prov=r.Lb({factory:function(){return new t(r.Zb(hh.d),r.Zb(Wp,8),r.Zb($p,8),r.Zb(Gp,8),r.Zb(Qp,8),r.Zb(Yp,8),r.Zb(r.D),r.Zb(r.B))},token:t,providedIn:"any"}),t})();Object(hh.f)(Xp,[{app:null,logEvent:null,setCurrentScreen:null,setUserId:null,setUserProperties:null,setAnalyticsCollectionEnabled:null}]);let Jp=(()=>{class t{constructor(t,e,n,r){if(this.disposables=[],Z(e))this.initialized=Promise.resolve();else{let e;this.initialized=r.runOutsideAngular(()=>new Promise(t=>e=t)),this.disposables=[n.authState.subscribe(n=>{t.setUserId(null==n?void 0:n.uid),e()}),n.credential.subscribe(e=>{if(e){const n=e.user.isAnonymous?"anonymous":e.additionalUserInfo.providerId;e.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:n}),t.logEvent("login",{method:n})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(Xp),r.Zb(r.D),r.Zb(Zp),r.Zb(r.B))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();const tm="screen_class";let em=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const nm={},rm=t=>{const e=[t.screen_class,t.outlet].join("#");if(nm.hasOwnProperty(e))return nm[e];{const t=em++;return nm[e]=t,t}};let im=(()=>{class t{constructor(t,e,n,r,i,s,o){if(!e||!K(i))return this;s.runOutsideAngular(()=>{const i=e.events.pipe(Qe(t=>t instanceof sd));var s;this.disposable=i.pipe(sa(t=>{var i;const s=(null===(i=e.parseUrl(e.url.replace(/(?:\().+(?:\))/g,t=>t.replace("://",":///"))).root.children[t.snapshot.outlet])||void 0===i?void 0:i.toString())||"",o=e.routerState.root.children.map(t=>t).find(e=>e.outlet===t.snapshot.outlet);if(!o)return Object(Be.a)(null);let a=o;for(;a.firstChild;)a=a.firstChild;const c=a.pathFromRoot.map(t=>{var e;return null===(e=t.routeConfig)||void 0===e?void 0:e.path}).filter(t=>t).join("/")||"/",l={screen_name:c,page_path:`/${s}`,firebase_event_origin:"auto",firebase_screen:c,outlet:t.snapshot.outlet};n&&(l.page_title=n.getTitle());let u=o.component;if(u){if(u===Of){let e=t.snapshot;for(;e.firstChild;)e=e.firstChild;u=e.component}}else u=t.snapshot.component;if("string"==typeof u)return Object(Be.a)(Object.assign(Object.assign({},l),{[tm]:u}));if(u){const t=r.resolveComponentFactory(u);return Object(Be.a)(Object.assign(Object.assign({},l),{[tm]:t.selector}))}return Object(Be.a)(null)}),Qe(t=>t),Object(Pt.a)(t=>Object.assign({firebase_screen_class:t.screen_class,firebase_screen_id:rm(t)},t)),(s=t=>t.outlet,t=>t.lift(new fh(s,void 0,void 0,void 0))),Object(bh.a)(e=>e.pipe(Ho((t,e)=>JSON.stringify(t)===JSON.stringify(e)),cr(void 0),na(),Object(Pt.a)(([t,e])=>t?Object.assign({firebase_previous_class:t.screen_class,firebase_previous_screen:t.screen_name,firebase_previous_id:t.firebase_screen_id},e):e),sa(e=>Object(dh.b)(this,void 0,void 0,function*(){return o&&(yield o.initialized),yield t.logEvent("screen_view",e)}))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(Xp),r.Zb(gp,8),r.Zb(It,8),r.Zb(r.j),r.Zb(r.D),r.Zb(r.B),r.Zb(Jp,8))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),sm=(()=>{class t{constructor(t,e,n){t.app.then(()=>{})}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(Xp),r.Zb(im,8),r.Zb(Jp,8))},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[Xp]}),t})();var om=n("Jgta"),am=n("zIRd"),cm=n("qOnz"),lm=n("q/0M"),um=function(t,e){return(um=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function hm(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var dm,fm="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},pm=pm||{},mm=fm||self;function gm(){}function ym(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function bm(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var _m="closure_uid_"+(1e9*Math.random()>>>0),vm=0;function wm(t,e,n){return t.call.apply(t.bind,arguments)}function Cm(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Sm(t,e,n){return(Sm=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wm:Cm).apply(null,arguments)}function Em(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Om(){return Date.now()}function xm(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function km(){this.j=this.j,this.i=this.i}km.prototype.j=!1,km.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,_m)&&t[_m]||(t[_m]=++vm)}(this)},km.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Tm=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Im=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Am(t){return Array.prototype.concat.apply([],arguments)}function Rm(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Dm(t){return/^[\s\xa0]*$/.test(t)}var Pm,jm=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Nm(t,e){return-1!=t.indexOf(e)}function Lm(t,e){return t<e?-1:t>e?1:0}t:{var Fm=mm.navigator;if(Fm){var Mm=Fm.userAgent;if(Mm){Pm=Mm;break t}}Pm=""}function Vm(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Um(t){var e={};for(var n in t)e[n]=t[n];return e}var Bm="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zm(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Bm.length;s++)n=Bm[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function qm(t){return qm[" "](t),t}qm[" "]=gm;var Hm,Km,Zm=Nm(Pm,"Opera"),Wm=Nm(Pm,"Trident")||Nm(Pm,"MSIE"),$m=Nm(Pm,"Edge"),Gm=$m||Wm,Qm=Nm(Pm,"Gecko")&&!(Nm(Pm.toLowerCase(),"webkit")&&!Nm(Pm,"Edge"))&&!(Nm(Pm,"Trident")||Nm(Pm,"MSIE"))&&!Nm(Pm,"Edge"),Ym=Nm(Pm.toLowerCase(),"webkit")&&!Nm(Pm,"Edge");function Xm(){var t=mm.document;return t?t.documentMode:void 0}t:{var Jm="",tg=(Km=Pm,Qm?/rv:([^\);]+)(\)|;)/.exec(Km):$m?/Edge\/([\d\.]+)/.exec(Km):Wm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Km):Ym?/WebKit\/(\S+)/.exec(Km):Zm?/(?:Version)[ \/]?(\S+)/.exec(Km):void 0);if(tg&&(Jm=tg?tg[1]:""),Wm){var eg=Xm();if(null!=eg&&eg>parseFloat(Jm)){Hm=String(eg);break t}}Hm=Jm}var ng={};function rg(t){return function(t,e){var n=ng;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=jm(String(Hm)).split("."),r=jm(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=Lm(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||Lm(0==o[2].length,0==a[2].length)||Lm(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var ig=mm.document&&Wm&&(Xm()||parseInt(Hm,10))||void 0,sg=!Wm||9<=Number(ig),og=Wm&&!rg("9"),ag=function(){if(!mm.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{mm.addEventListener("test",gm,e),mm.removeEventListener("test",gm,e)}catch(n){}return t}();function cg(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function lg(t,e){if(cg.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Qm){t:{try{qm(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:ug[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}cg.prototype.b=function(){this.defaultPrevented=!0},xm(lg,cg);var ug={2:"touch",3:"pen",4:"mouse"};lg.prototype.b=function(){lg.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,og)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var hg="closure_listenable_"+(1e6*Math.random()|0),dg=0;function fg(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++dg,this.Y=this.Z=!1}function pg(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function mg(t){this.src=t,this.a={},this.b=0}function gg(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Tm(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(pg(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function yg(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}mg.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=yg(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new fg(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var bg="closure_lm_"+(1e6*Math.random()|0),_g={};function vg(t,e,n,r,i){if(r&&r.once)return Cg(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)vg(t,e[s],n,r,i);return null}return n=Ag(n),t&&t[hg]?t.va(e,n,bm(r)?!!r.capture:!!r,i):wg(t,e,n,!1,r,i)}function wg(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=bm(i)?!!i.capture:!!i;if(o&&!sg)return null;var a=Tg(t);if(a||(t[bg]=a=new mg(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=kg,e=sg?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ag||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Og(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Cg(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Cg(t,e[s],n,r,i);return null}return n=Ag(n),t&&t[hg]?t.wa(e,n,bm(r)?!!r.capture:!!r,i):wg(t,e,n,!0,r,i)}function Sg(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Sg(t,e[s],n,r,i);else r=bm(r)?!!r.capture:!!r,n=Ag(n),t&&t[hg]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=yg(s=t.a[e],n,r,i))&&(pg(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Tg(t))&&(e=t.a[e.toString()],t=-1,e&&(t=yg(e,n,r,i)),(n=-1<t?e[t]:null)&&Eg(n))}function Eg(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[hg])gg(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Og(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Tg(e))?(gg(n,t),0==n.b&&(n.src=null,e[bg]=null)):pg(t)}}}function Og(t){return t in _g?_g[t]:_g[t]="on"+t}function xg(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Eg(t),n.call(r,e)}function kg(t,e){if(t.Y)return!0;if(!sg){if(!e)t:{e=["window","event"];for(var n=mm,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return xg(t,e=new lg(e,this))}return xg(t,new lg(e,this))}function Tg(t){return(t=t[bg])instanceof mg?t:null}var Ig="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ag(t){return"function"==typeof t?t:(t[Ig]||(t[Ig]=function(e){return t.handleEvent(e)}),t[Ig])}function Rg(){km.call(this),this.c=new mg(this),this.J=this,this.C=null}function Dg(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new cg(e,t);else if(e instanceof cg)e.target=e.target||t;else{var i=e;zm(e=new cg(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=Pg(o,r,!0,e)&&i}if(i=Pg(o=e.a=t,r,!0,e)&&i,i=Pg(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Pg(o=e.a=n[s],r,!1,e)&&i}function Pg(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,c=o.ca||o.src;o.Z&&gg(t.c,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}xm(Rg,km),Rg.prototype[hg]=!0,(dm=Rg.prototype).addEventListener=function(t,e,n,r){vg(this,t,e,n,r)},dm.removeEventListener=function(t,e,n,r){Sg(this,t,e,n,r)},dm.G=function(){if(Rg.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)pg(n[r]);delete e.a[t],e.b--}}this.C=null},dm.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},dm.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var jg=mm.JSON.stringify;function Ng(){this.b=this.a=null}var Lg,Fg=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Vg},function(t){t.reset()});function Mg(){var t=qg,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Vg(){this.next=this.b=this.a=null}function Ug(t){mm.setTimeout(function(){throw t},0)}function Bg(t,e){Lg||function(){var t=mm.Promise.resolve(void 0);Lg=function(){t.then(Hg)}}(),zg||(Lg(),zg=!0),qg.add(t,e)}Ng.prototype.add=function(t,e){var n=Fg.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Vg.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Vg.prototype.reset=function(){this.next=this.b=this.a=null};var zg=!1,qg=new Ng;function Hg(){for(var t;t=Mg();){try{t.a.call(t.b)}catch(n){Ug(n)}var e=Fg;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}zg=!1}function Kg(t,e){Rg.call(this),this.b=t||1,this.a=e||mm,this.f=Sm(this.Za,this),this.g=Om()}function Zg(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Wg(t,e,n){if("function"==typeof t)n&&(t=Sm(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Sm(t.handleEvent,t)}return 2147483647<Number(e)?-1:mm.setTimeout(t,e||0)}function $g(t){t.a=Wg(function(){t.a=null,t.c&&(t.c=!1,$g(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}xm(Kg,Rg),(dm=Kg.prototype).aa=!1,dm.M=null,dm.Za=function(){if(this.aa){var t=Om()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Dg(this,"tick"),this.aa&&(Zg(this),this.start()))}},dm.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Om())},dm.G=function(){Kg.X.G.call(this),Zg(this),delete this.a};var Gg=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}um(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:$g(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(mm.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(km);function Qg(t){km.call(this),this.b=t,this.a={}}xm(Qg,km);var Yg=[];function Xg(t,e,n,r){Array.isArray(n)||(n&&(Yg[0]=n.toString()),n=Yg);for(var i=0;i<n.length;i++){var s=vg(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Jg(t){Vm(t.a,function(t,e){this.a.hasOwnProperty(e)&&Eg(t)},t),t.a={}}function ty(){this.a=!0}function ey(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return jg(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Qg.prototype.G=function(){Qg.X.G.call(this),Jg(this)},Qg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ty.prototype.info=function(){};var ny={},ry=null;function iy(){return ry=ry||new Rg}function sy(t){cg.call(this,ny.Fa,t)}function oy(t){var e=iy();Dg(e,new sy(e,t))}function ay(t,e){cg.call(this,ny.STAT_EVENT,t),this.stat=e}function cy(t){var e=iy();Dg(e,new ay(e,t))}function ly(t){cg.call(this,ny.Ga,t)}function uy(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return mm.setTimeout(function(){t()},e)}ny.Fa="serverreachability",xm(sy,cg),ny.STAT_EVENT="statevent",xm(ay,cg),ny.Ga="timingevent",xm(ly,cg);var hy={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},dy={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function fy(){}function py(){}fy.prototype.a=null;var my,gy={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function yy(){cg.call(this,"d")}function by(){cg.call(this,"c")}function _y(){}function vy(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Qg(this),this.P=wy,this.R=new Kg(t=Gm?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}xm(yy,cg),xm(by,cg),xm(_y,fy),my=new _y;var wy=45e3,Cy={},Sy={};function Ey(t,e,n){t.H=1,t.i=Zy(Uy(e)),t.j=n,t.I=!0,Oy(t,null)}function Oy(t,e){t.u=Om(),Ty(t),t.l=Uy(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),sb(n.b,"t",r),t.D=0,t.a=Jb(t.g,t.g.C?e:null),0<t.O&&(t.F=new Gg(Sm(t.Ca,t,t.a),t.O)),Xg(t.J,t.a,"readystatechange",t.Xa),e=t.B?Um(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),oy(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function xy(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=ky(t,n);if(i==Sy){4==e&&(t.h=4,cy(14),r=!1),ey(t.c,t.f,null,"[Incomplete Response]");break}if(i==Cy){t.h=4,cy(15),ey(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ey(t.c,t.f,i,null),Py(t,i)}4==e&&0==n.length&&(t.h=1,cy(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Kb(e),e.F=!0,cy(11))):(ey(t.c,t.f,n,"[Invalid Chunked Response]"),Dy(t),Ry(t))}function ky(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Sy:(n=Number(e.substring(n,r)),isNaN(n)?Cy:(r+=1)+n>e.length?Sy:(e=e.substr(r,n),t.D=r+n,e))}function Ty(t){t.T=Om()+t.P,Iy(t,t.P)}function Iy(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=uy(Sm(t.Va,t),e)}function Ay(t){t.o&&(mm.clearTimeout(t.o),t.o=null)}function Ry(t){0==t.g.v||t.A||$b(t.g,t)}function Dy(t){Ay(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Zg(t.R),Jg(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Py(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||db(n.b,t)))if(n.I=t.N,!t.C&&db(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(PT){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Wb(n),Lb(n)}Hb(n),cy(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=uy(Sm(n.Sa,n),6e3));if(1>=hb(n.b)&&n.ea){try{n.ea()}catch(PT){}n.ea=void 0}}else Qb(n,11)}else if((t.C||n.a==t)&&Wb(n),!Dm(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var c=1.5*a;n.D=c,n.c.info("backChannelRequestTimeoutMs_="+c)}c=n;var l=t.a;if(l){var u=l.a?l.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(u){var h=c.b;!h.a&&(Nm(u,"spdy")||Nm(u,"quic")||Nm(u,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(fb(h,h.b),h.b=null))}if(c.A){var d=l.a?l.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(c.na=d,Ky(c.B,c.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Om()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((c=n).la=Xb(c,c.C?c.ga:null,c.fa),f.C){pb(c.b,f);var p=f,m=c.D;m&&p.setTimeout(m),p.o&&(Ay(p),Ty(p)),c.a=f}else qb(c);0<n.g.length&&Vb(n)}else"stop"!=i[0]&&"close"!=i[0]||Qb(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Qb(n,7):Nb(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);oy(4)}catch(PT){}}function jy(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ym(t)||"string"==typeof t)Im(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ym(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ym(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function Ny(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ny)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ly(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Fy(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Fy(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Fy(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(dm=vy.prototype).setTimeout=function(t){this.P=t},dm.Xa=function(t){t=t.target;var e=this.F;e&&3==Rb(t)?e.f():this.Ca(t)},dm.Ca=function(t){try{if(t==this.a)t:{var e=Rb(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Gm&&!this.a.$())){this.A||4!=e||7==n||oy(8==n||0>=r?3:2),Ay(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dm(o)){var c=o;break e}}c=null}if(!c){this.b=!1,this.h=3,cy(12),Dy(this),Ry(this);break t}ey(this.c,this.f,c,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Py(this,c)}this.I?(xy(this,e,s),Gm&&this.b&&3==e&&(Xg(this.J,this.R,"tick",this.Wa),this.R.start())):(ey(this.c,this.f,s,null),Py(this,s)),4==e&&Dy(this),this.b&&!this.A&&(4==e?$b(this.g,this):(this.b=!1,Ty(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,cy(12)):(this.h=0,cy(13)),Dy(this),Ry(this)}}}catch(l){}},dm.Wa=function(){if(this.a){var t=Rb(this.a),e=this.a.$();this.D<e.length&&(Ay(this),xy(this,t,e),this.b&&4!=t&&Ty(this))}},dm.cancel=function(){this.A=!0,Dy(this)},dm.Va=function(){this.o=null;var t=Om();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(oy(3),cy(17)),Dy(this),this.h=2,Ry(this)):Iy(this,this.T-t)},(dm=Ny.prototype).K=function(){Ly(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},dm.L=function(){return Ly(this),this.a.concat()},dm.get=function(t,e){return Fy(this.b,t)?this.b[t]:e},dm.set=function(t,e){Fy(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},dm.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var My=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Vy(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Vy){this.a=void 0!==e?e:t.a,By(this,t.f),this.j=t.j,zy(this,t.c),qy(this,t.h),this.g=t.g,e=t.b;var n=new eb;n.c=e.c,e.a&&(n.a=new Ny(e.a),n.b=e.b),Hy(this,n),this.i=t.i}else t&&(n=String(t).match(My))?(this.a=!!e,By(this,n[1]||"",!0),this.j=Wy(n[2]||""),zy(this,n[3]||"",!0),qy(this,n[4]),this.g=Wy(n[5]||"",!0),Hy(this,n[6]||"",!0),this.i=Wy(n[7]||"")):(this.a=!!e,this.b=new eb(null,this.a))}function Uy(t){return new Vy(t)}function By(t,e,n){t.f=n?Wy(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function zy(t,e,n){t.c=n?Wy(e,!0):e}function qy(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Hy(t,e,n){e instanceof eb?(t.b=e,function(t,e){e&&!t.f&&(nb(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(rb(this,e),sb(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=$y(e,Jy)),t.b=new eb(e,t.a))}function Ky(t,e,n){t.b.set(e,n)}function Zy(t){return Ky(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Om()).toString(36)),t}function Wy(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function $y(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Gy),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Gy(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Vy.prototype.toString=function(){var t=[],e=this.f;e&&t.push($y(e,Qy,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push($y(e,Qy,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push($y(n,"/"==n.charAt(0)?Xy:Yy,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",$y(n,tb)),t.join("")};var Qy=/[#\/\?@]/g,Yy=/[#\?:]/g,Xy=/[#\?]/g,Jy=/[#\?@]/g,tb=/#/g;function eb(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function nb(t){t.a||(t.a=new Ny,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function rb(t,e){nb(t),e=ob(t,e),Fy(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Fy((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ly(t)))}function ib(t,e){return nb(t),e=ob(t,e),Fy(t.a.b,e)}function sb(t,e,n){rb(t,e),0<n.length&&(t.c=null,t.a.set(ob(t,e),Rm(n)),t.b+=n.length)}function ob(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(dm=eb.prototype).add=function(t,e){nb(this),this.c=null,t=ob(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},dm.forEach=function(t,e){nb(this),this.a.forEach(function(n,r){Im(n,function(n){t.call(e,n,r,this)},this)},this)},dm.L=function(){nb(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},dm.K=function(t){nb(this);var e=[];if("string"==typeof t)ib(this,t)&&(e=Am(e,this.a.get(ob(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Am(e,t[n])}return e},dm.set=function(t,e){return nb(this),this.c=null,ib(this,t=ob(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},dm.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},dm.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var ab=function(){return function(t,e){this.b=t,this.a=e}}();function cb(t){this.g=t||lb,t=mm.PerformanceNavigationTiming?0<(t=mm.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(mm.ia&&mm.ia.ya&&mm.ia.ya()&&mm.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var lb=10;function ub(t){return!!t.b||!!t.a&&t.a.size>=t.f}function hb(t){return t.b?1:t.a?t.a.size:0}function db(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function fb(t,e){t.a?t.a.add(e):t.b=e}function pb(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function mb(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=hm(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Rm(t.c)}function gb(){}function yb(){this.a=new gb}function bb(t,e,n){var r=n||"";try{jy(t,function(t,n){var i=t;bm(t)&&(i=jg(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(gI){throw e.push(r+"type="+encodeURIComponent("_badmap")),gI}}function _b(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}cb.prototype.cancel=function(){var t,e;if(this.c=mb(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=hm(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},gb.prototype.stringify=function(t){return mm.JSON.stringify(t,void 0)},gb.prototype.parse=function(t){return mm.JSON.parse(t,void 0)};var vb=mm.JSON.parse;function wb(t){Rg.call(this),this.headers=new Ny,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Cb,this.D=this.F=!1}xm(wb,Rg);var Cb="",Sb=/^https?$/i,Eb=["POST","PUT"];function Ob(t){return"content-type"==t.toLowerCase()}function xb(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,kb(t),Ib(t)}function kb(t){t.u||(t.u=!0,Dg(t,"complete"),Dg(t,"error"))}function Tb(t){if(t.b&&void 0!==pm&&(!t.s[1]||4!=Rb(t)||2!=t.W()))if(t.l&&4==Rb(t))Wg(t.za,0,t);else if(Dg(t,"readystatechange"),4==Rb(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(My)[1]||null;if(!s&&mm.self&&mm.self.location){var o=mm.self.location.protocol;s=o.substr(0,o.length-1)}i=!Sb.test(s?s.toLowerCase():"")}e=i}if(e)Dg(t,"complete"),Dg(t,"success");else{t.h=6;try{var a=2<Rb(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",kb(t)}}finally{Ib(t)}}}function Ib(t,e){if(t.a){Ab(t);var n=t.a,r=t.s[0]?gm:null;t.a=null,t.s=null,e||Dg(t,"ready");try{n.onreadystatechange=r}catch(gI){}}}function Ab(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(mm.clearTimeout(t.m),t.m=null)}function Rb(t){return t.a?t.a.readyState:0}function Db(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Vm(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Ky(t,e,n))}function Pb(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function jb(t){this.pa=0,this.g=[],this.c=new ty,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Pb("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Pb("baseRetryDelayMs",5e3,t),this.Ra=Pb("retryDelaySeedMs",1e4,t),this.Ma=Pb("forwardChannelMaxRetries",2,t),this.ma=Pb("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new cb(t&&t.concurrentRequestLimit),this.ka=new yb,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Nb(t){if(Fb(t),3==t.v){var e=t.R++,n=Uy(t.B);Ky(n,"SID",t.J),Ky(n,"RID",e),Ky(n,"TYPE","terminate"),Bb(t,n),(e=new vy(t,t.c,e,void 0)).H=2,e.i=Zy(Uy(n)),n=!1,mm.navigator&&mm.navigator.sendBeacon&&(n=mm.navigator.sendBeacon(e.i.toString(),"")),!n&&mm.Image&&((new Image).src=e.i,n=!0),n||(e.a=Jb(e.g,null),e.a.ba(e.i)),e.u=Om(),Ty(e)}Yb(t)}function Lb(t){t.a&&(Kb(t),t.a.cancel(),t.a=null)}function Fb(t){Lb(t),t.j&&(mm.clearTimeout(t.j),t.j=null),Wb(t),t.b.cancel(),t.h&&("number"==typeof t.h&&mm.clearTimeout(t.h),t.h=null)}function Mb(t,e){t.g.push(new ab(t.Oa++,e)),3==t.v&&Vb(t)}function Vb(t){ub(t.b)||t.h||(t.h=!0,Bg(t.Ba,t),t.u=0)}function Ub(t,e){var n;n=e?e.f:t.R++;var r=Uy(t.B);Ky(r,"SID",t.J),Ky(r,"RID",n),Ky(r,"AID",t.P),Bb(t,r),t.i&&t.l&&Db(r,t.i,t.l),n=new vy(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=zb(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),fb(t.b,n),Ey(n,r,e)}function Bb(t,e){t.f&&jy({},function(t,n){Ky(e,n,t)})}function zb(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Sm(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,c=0;c<n;c++){var l=i[c].b,u=i[c].a;if(0>(l-=s))s=Math.max(0,i[c].b-100),a=!1;else try{bb(u,o,"req"+l+"_")}catch(h){r&&r(u)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function qb(t){t.a||t.j||(t.T=1,Bg(t.Aa,t),t.o=0)}function Hb(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=uy(Sm(t.Aa,t),Gb(t,t.o)),t.o++,0))}function Kb(t){null!=t.s&&(mm.clearTimeout(t.s),t.s=null)}function Zb(t){t.a=new vy(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Uy(t.la);Ky(e,"RID","rpc"),Ky(e,"SID",t.J),Ky(e,"CI",t.H?"0":"1"),Ky(e,"AID",t.P),Bb(t,e),Ky(e,"TYPE","xmlhttp"),t.i&&t.l&&Db(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Zy(Uy(e)),n.j=null,n.I=!0,Oy(n,t)}function Wb(t){null!=t.m&&(mm.clearTimeout(t.m),t.m=null)}function $b(t,e){var n=null;if(t.a==e){Wb(t),Kb(t),t.a=null;var r=2}else{if(!db(t.b,e))return;n=e.s,pb(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Om()-e.u;var i=t.u;Dg(r=iy(),new ly(r,n,e,i)),Vb(t)}else qb(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(hb(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=uy(Sm(t.Ba,t,e),Gb(t,t.u)),t.u++,0)))}(t,e)||2==r&&Hb(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Qb(t,5);break;case 4:Qb(t,10);break;case 3:Qb(t,6);break;default:Qb(t,2)}}function Gb(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Qb(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Sm(t.Ya,t);n||(n=new Vy("//www.google.com/images/cleardot.gif"),mm.location&&"http"==mm.location.protocol||By(n,"https"),Zy(n)),function(t,e){var n=new ty;if(mm.Image){var r=new Image;r.onload=Em(_b,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Em(_b,n,r,"TestLoadImage: error",!1,e),r.onabort=Em(_b,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Em(_b,n,r,"TestLoadImage: timeout",!1,e),mm.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else cy(2);t.v=0,t.f&&t.f.ra(e),Yb(t),Fb(t)}function Yb(t){t.v=0,t.I=-1,t.f&&(0==mb(t.b).length&&0==t.g.length||(t.b.c.length=0,Rm(t.g),t.g.length=0),t.f.qa())}function Xb(t,e,n){var r=function(t){return t instanceof Vy?Uy(t):new Vy(t,void 0)}(n);if(""!=r.c)e&&zy(r,e+"."+r.c),qy(r,r.h);else{var i=mm.location;r=function(t,e,n,r){var i=new Vy(null,void 0);return t&&By(i,t),e&&zy(i,e),n&&qy(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Vm(t.V,function(t,e){Ky(r,e,t)}),n=t.na,(e=t.A)&&n&&Ky(r,e,n),Ky(r,"VER",t.ha),Bb(t,r),r}function Jb(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wb(t.Na)).F=t.C,e}function t_(){}function e_(){if(Wm&&!(10<=Number(ig)))throw Error("Environmental error: no available transport.")}function n_(t,e){Rg.call(this),this.a=new jb(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Dm(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Dm(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new s_(this)}function r_(t){yy.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function i_(){by.call(this),this.status=1}function s_(t){this.a=t}(dm=wb.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:my),this.a.onreadystatechange=Sm(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void xb(this,s)}t=n||"";var i=new Ny(this.headers);r&&jy(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Ob,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=mm.FormData&&t instanceof mm.FormData,!(0<=Tm(Eb,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Ab(this),0<this.o&&((this.D=function(t){return Wm&&rg(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Sm(this.xa,this)):this.m=Wg(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){xb(this,s)}},dm.xa=function(){void 0!==pm&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Dg(this,"timeout"),this.abort(8))},dm.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Dg(this,"complete"),Dg(this,"abort"),Ib(this))},dm.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ib(this,!0)),wb.X.G.call(this)},dm.za=function(){this.j||(this.A||this.l||this.g?Tb(this):this.Ua())},dm.Ua=function(){Tb(this)},dm.W=function(){try{return 2<Rb(this)?this.a.status:-1}catch(Km){return-1}},dm.$=function(){try{return this.a?this.a.responseText:""}catch(Km){return""}},dm.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),vb(e)}},dm.ua=function(){return this.h},dm.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(dm=jb.prototype).ha=8,dm.v=1,dm.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new vy(this,this.c,t,void 0),r=this.l;if(this.O&&(r?zm(r=Um(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=zb(this,n,e),Ky(i=Uy(this.B),"RID",t),Ky(i,"CVER",22),this.A&&Ky(i,"X-HTTP-Session-Id",this.A),Bb(this,i),this.i&&r&&Db(i,this.i,r),fb(this.b,n),this.Ia&&Ky(i,"TYPE","init"),this.da?(Ky(i,"$req",e),Ky(i,"SID","null"),n.U=!0,Ey(n,i,null)):Ey(n,i,e),this.v=2}}else 3==this.v&&(t?Ub(this,t):0==this.g.length||ub(this.b)||Ub(this))},dm.Aa=function(){if(this.j=null,Zb(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=uy(Sm(this.Ta,this),t)}},dm.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,cy(10),Lb(this),Zb(this))},dm.Sa=function(){null!=this.m&&(this.m=null,Lb(this),Hb(this),cy(19))},dm.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),cy(2)):(this.c.info("Failed to ping google.com"),cy(1))},(dm=t_.prototype).ta=function(){},dm.sa=function(){},dm.ra=function(){},dm.qa=function(){},dm.Ja=function(){},e_.prototype.a=function(t,e){return new n_(t,e)},xm(n_,Rg),n_.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;cy(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Xb(t,null,t.fa),Vb(t)},n_.prototype.close=function(){Nb(this.a)},n_.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Mb(this.a,e)}else this.l?((e={}).__data__=jg(t),Mb(this.a,e)):Mb(this.a,t)},n_.prototype.G=function(){this.a.f=null,delete this.f,Nb(this.a),delete this.a,n_.X.G.call(this)},xm(r_,yy),xm(i_,by),xm(s_,t_),s_.prototype.ta=function(){Dg(this.a,"a")},s_.prototype.sa=function(t){Dg(this.a,new r_(t))},s_.prototype.ra=function(t){Dg(this.a,new i_(t))},s_.prototype.qa=function(){Dg(this.a,"b")},e_.prototype.createWebChannel=e_.prototype.a,n_.prototype.send=n_.prototype.h,n_.prototype.open=n_.prototype.g,n_.prototype.close=n_.prototype.close,hy.NO_ERROR=0,hy.TIMEOUT=8,hy.HTTP_ERROR=6,dy.COMPLETE="complete",py.EventType=gy,gy.OPEN="a",gy.CLOSE="b",gy.ERROR="c",gy.MESSAGE="d",Rg.prototype.listen=Rg.prototype.va,wb.prototype.listenOnce=wb.prototype.wa,wb.prototype.getLastError=wb.prototype.Qa,wb.prototype.getLastErrorCode=wb.prototype.ua,wb.prototype.getStatus=wb.prototype.W,wb.prototype.getResponseJson=wb.prototype.Pa,wb.prototype.getResponseText=wb.prototype.$,wb.prototype.send=wb.prototype.ba;var o_=hy,a_=dy,c_=ny,l_=py,u_=wb,h_=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();h_.o=-1;var d_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},f_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(dh.c)(e,t),e}(Error),p_=new lm.b("@firebase/firestore");function m_(){return p_.logLevel}function g_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(p_.logLevel<=lm.a.DEBUG){var r=e.map(__);p_.debug.apply(p_,Object(dh.f)(["Firestore (8.5.0): "+t],r))}}function y_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(p_.logLevel<=lm.a.ERROR){var r=e.map(__);p_.error.apply(p_,Object(dh.f)(["Firestore (8.5.0): "+t],r))}}function b_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(p_.logLevel<=lm.a.WARN){var r=e.map(__);p_.warn.apply(p_,Object(dh.f)(["Firestore (8.5.0): "+t],r))}}function __(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(gI){return t}}function v_(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+t;throw y_(e),new Error(e)}function w_(t,e){t||v_()}function C_(t,e){return t}function S_(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var E_=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=S_(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function O_(t,e){return t<e?-1:t>e?1:0}function x_(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function k_(t){return t+"\0"}var T_=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new f_(d_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new f_(d_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new f_(d_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new f_(d_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?O_(this.nanoseconds,t.nanoseconds):O_(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),I_=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new T_(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function A_(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function R_(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function D_(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var P_=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&v_(),void 0===n?n=t.length-e:n>t.length-e&&v_(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),j_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dh.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new f_(d_.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(P_),N_=/^[_a-zA-Z][_a-zA-Z0-9]*$/,L_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dh.c)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return N_.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new f_(d_.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new f_(d_.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var c=t[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new f_(d_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new f_(d_.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(P_),F_=function(){function t(t){this.fields=t,t.sort(L_.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return x_(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),M_=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return O_(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();M_.EMPTY_BYTE_STRING=new M_("");var V_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function U_(t){if(w_(!!t),"string"==typeof t){var e=0,n=V_.exec(t);if(w_(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:B_(t.seconds),nanos:B_(t.nanos)}}function B_(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function z_(t){return"string"==typeof t?M_.fromBase64String(t):M_.fromUint8Array(t)}function q_(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function H_(t){var e=t.mapValue.fields.__previous_value__;return q_(e)?H_(e):e}function K_(t){var e=U_(t.mapValue.fields.__local_write_time__.timestampValue);return new T_(e.seconds,e.nanos)}function Z_(t){return null==t}function W_(t){return 0===t&&1/t==-1/0}function $_(t){return"number"==typeof t&&Number.isInteger(t)&&!W_(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var G_=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(j_.fromString(e))},t.fromName=function(e){return new t(j_.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===j_.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return j_.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new j_(e.slice()))},t}();function Q_(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?q_(t)?4:10:v_()}function Y_(t,e){var n=Q_(t);if(n!==Q_(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return K_(t).isEqual(K_(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=U_(t.timestampValue),r=U_(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return z_(t.bytesValue).isEqual(z_(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return B_(t.geoPointValue.latitude)===B_(e.geoPointValue.latitude)&&B_(t.geoPointValue.longitude)===B_(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return B_(t.integerValue)===B_(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=B_(t.doubleValue),r=B_(e.doubleValue);return n===r?W_(n)===W_(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return x_(t.arrayValue.values||[],e.arrayValue.values||[],Y_);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(A_(n)!==A_(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Y_(n[i],r[i])))return!1;return!0}(t,e);default:return v_()}}function X_(t,e){return void 0!==(t.values||[]).find(function(t){return Y_(t,e)})}function J_(t,e){var n=Q_(t),r=Q_(e);if(n!==r)return O_(n,r);switch(n){case 0:return 0;case 1:return O_(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=B_(t.integerValue||t.doubleValue),r=B_(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return tv(t.timestampValue,e.timestampValue);case 4:return tv(K_(t),K_(e));case 5:return O_(t.stringValue,e.stringValue);case 6:return function(t,e){var n=z_(t),r=z_(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=O_(n[i],r[i]);if(0!==s)return s}return O_(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=O_(B_(t.latitude),B_(e.latitude));return 0!==n?n:O_(B_(t.longitude),B_(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=J_(n[i],r[i]);if(s)return s}return O_(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=O_(r[o],s[o]);if(0!==a)return a;var c=J_(n[r[o]],i[s[o]]);if(0!==c)return c}return O_(r.length,s.length)}(t.mapValue,e.mapValue);default:throw v_()}}function tv(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return O_(t,e);var n=U_(t),r=U_(e),i=O_(n.seconds,r.seconds);return 0!==i?i:O_(n.nanos,r.nanos)}function ev(t){return nv(t)}function nv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=U_(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?z_(t.bytesValue).toBase64():"referenceValue"in t?G_.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=nv(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+nv(t.fields[s])}return e+"}"}(t.mapValue):v_();var e}function rv(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function iv(t){return!!t&&"integerValue"in t}function sv(t){return!!t&&"arrayValue"in t}function ov(t){return!!t&&"nullValue"in t}function av(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cv(t){return!!t&&"mapValue"in t}var lv=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(L_.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return Y_(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===Q_(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,s=t.extractNestedValue(this.partialValue,e),o=cv(s)?Object.assign({},s.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var s=r.applyOverlay(e.child(n),t);null!=s&&(o[n]=s,i=!0)}else null!==t?(o[n]=t,i=!0):o.hasOwnProperty(n)&&(delete o[n],i=!0)}),i?{mapValue:{fields:o}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(L_.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!cv(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function uv(t){var e=[];return R_(t.fields||{},function(t,n){var r=new L_([t]);if(cv(n)){var i=uv(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new F_(e)}var hv=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,I_.min(),lv.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,lv.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,lv.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=lv.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=lv.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),dv=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.h=null};function fv(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new dv(t,e,n,r,i,s,o)}function pv(t){var e=C_(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+ev(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),Z_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=kv(e.startAt)),e.endAt&&(n+="|ub:",n+=kv(e.endAt)),e.h=n}return e.h}function mv(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Iv(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!Y_(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Rv(t.startAt,e.startAt)&&Rv(t.endAt,e.endAt)}function gv(t){return G_.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var yv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(dh.c)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new bv(t,n,r):"array-contains"===n?new Cv(t,r):"in"===n?new Sv(t,r):"not-in"===n?new Ev(t,r):"array-contains-any"===n?new Ov(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new _v(t,n):new vv(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(J_(e,this.value)):null!==e&&Q_(this.value)===Q_(e)&&this.m(J_(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return v_()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),bv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=G_.fromName(r.referenceValue),i}return Object(dh.c)(e,t),e.prototype.matches=function(t){var e=G_.comparator(t.key,this.key);return this.m(e)},e}(yv),_v=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=wv(0,n),r}return Object(dh.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(yv),vv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=wv(0,n),r}return Object(dh.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(yv);function wv(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return G_.fromName(t.referenceValue)})}var Cv=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(dh.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return sv(e)&&X_(e.arrayValue,this.value)},e}(yv),Sv=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(dh.c)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&X_(this.value.arrayValue,e)},e}(yv),Ev=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(dh.c)(e,t),e.prototype.matches=function(t){if(X_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!X_(this.value.arrayValue,e)},e}(yv),Ov=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(dh.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!sv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return X_(e.value.arrayValue,t)})},e}(yv),xv=function(t,e){this.position=t,this.before=e};function kv(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return ev(t)}).join(",")}var Tv=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Iv(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Av(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.isKeyField()?G_.comparator(G_.fromName(o.referenceValue),n.key):J_(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Rv(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Y_(t.position[n],e.position[n]))return!1;return!0}var Dv=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.p=null,this.T=null};function Pv(t,e,n,r,i,s,o,a){return new Dv(t,e,n,r,i,s,o,a)}function jv(t){return new Dv(t)}function Nv(t){return!Z_(t.limit)&&"F"===t.limitType}function Lv(t){return!Z_(t.limit)&&"L"===t.limitType}function Fv(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Mv(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Vv(t){return null!==t.collectionGroup}function Uv(t){var e=C_(t);if(null===e.p){e.p=[];var n=Mv(e),r=Fv(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Tv(n)),e.p.push(new Tv(L_.keyField(),"asc"));else{for(var i=!1,s=0,o=e.explicitOrderBy;s<o.length;s++){var a=o[s];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var c=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Tv(L_.keyField(),c))}}}return e.p}function Bv(t){var e=C_(t);if(!e.T)if("F"===e.limitType)e.T=fv(e.path,e.collectionGroup,Uv(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Uv(e);r<i.length;r++){var s=i[r];n.push(new Tv(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new xv(e.endAt.position,!e.endAt.before):null,a=e.startAt?new xv(e.startAt.position,!e.startAt.before):null;e.T=fv(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.T}function zv(t,e,n){return new Dv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qv(t,e){return mv(Bv(t),Bv(e))&&t.limitType===e.limitType}function Hv(t){return pv(Bv(t))+"|lt:"+t.limitType}function Kv(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+ev(e.value);var e}).join(", ")+"]"),Z_(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+kv(t.startAt)),t.endAt&&(e+=", endAt: "+kv(t.endAt)),"Target("+e+")"}(Bv(t))+"; limitType="+t.limitType+")"}function Zv(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):G_.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Av(t.startAt,Uv(t),e)||t.endAt&&Av(t.endAt,Uv(t),e))}(t,e)}function Wv(t){return function(e,n){for(var r=!1,i=0,s=Uv(t);i<s.length;i++){var o=s[i],a=$v(o,e,n);if(0!==a)return a;r=r||o.field.isKeyField()}return 0}}function $v(t,e,n){var r=t.field.isKeyField()?G_.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?J_(r,i):v_()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return v_()}}function Gv(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:W_(e)?"-0":e}}function Qv(t){return{integerValue:""+t}}function Yv(t,e){return $_(e)?Qv(e):Gv(t,e)}var Xv=function(){this._=void 0};function Jv(t,e,n){return t instanceof nw?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof rw?iw(t,e):t instanceof sw?ow(t,e):function(t,e){var n=ew(t,e),r=cw(n)+cw(t.A);return iv(n)&&iv(t.A)?Qv(r):Gv(t.R,r)}(t,e)}function tw(t,e,n){return t instanceof rw?iw(t,e):t instanceof sw?ow(t,e):n}function ew(t,e){return t instanceof aw?iv(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var nw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dh.c)(e,t),e}(Xv),rw=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(dh.c)(e,t),e}(Xv);function iw(t,e){for(var n=lw(e),r=function(t){n.some(function(e){return Y_(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var sw=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(dh.c)(e,t),e}(Xv);function ow(t,e){for(var n=lw(e),r=function(t){n=n.filter(function(e){return!Y_(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var aw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return Object(dh.c)(e,t),e}(Xv);function cw(t){return B_(t.integerValue||t.doubleValue)}function lw(t){return sv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var uw=function(t,e){this.field=t,this.transform=e},hw=function(t,e){this.version=t,this.transformResults=e},dw=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function fw(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var pw=function(){};function mw(t,e,n){t instanceof vw?function(t,e,n){var r=t.value.clone(),i=Sw(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof ww?function(t,e,n){if(fw(t.precondition,e)){var r=Sw(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Cw(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function gw(t,e,n){t instanceof vw?function(t,e,n){if(fw(t.precondition,e)){var r=t.value.clone(),i=Ew(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(_w(e),r).setHasLocalMutations()}}(t,e,n):t instanceof ww?function(t,e,n){if(fw(t.precondition,e)){var r=Ew(t.fieldTransforms,n,e),i=e.data;i.setAll(Cw(t)),i.setAll(r),e.convertToFoundDocument(_w(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){fw(t.precondition,e)&&e.convertToNoDocument(I_.min())}(t,e)}function yw(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e.data.field(s.field),a=ew(s.transform,o||null);null!=a&&(null==n&&(n=lv.empty()),n.set(s.field,a))}return n||null}function bw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&x_(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof rw&&e instanceof rw||t instanceof sw&&e instanceof sw?x_(t.elements,e.elements,Y_):t instanceof aw&&e instanceof aw?Y_(t.A,e.A):t instanceof nw&&e instanceof nw}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function _w(t){return t.isFoundDocument()?t.version:I_.min()}var vw=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.precondition=r,s.fieldTransforms=i,s.type=0,s}return Object(dh.c)(e,t),e}(pw),ww=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.fieldTransforms=s,o.type=1,o}return Object(dh.c)(e,t),e}(pw);function Cw(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function Sw(t,e,n){var r=new Map;w_(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,tw(o,a,n[i]))}return r}function Ew(t,e,n){for(var r=new Map,i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,c=n.data.field(o.field);r.set(o.field,Jv(a,c,e))}return r}var Ow,xw,kw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return Object(dh.c)(e,t),e}(pw),Tw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return Object(dh.c)(e,t),e}(pw),Iw=function(t){this.count=t};function Aw(t){switch(t){case d_.OK:return v_();case d_.CANCELLED:case d_.UNKNOWN:case d_.DEADLINE_EXCEEDED:case d_.RESOURCE_EXHAUSTED:case d_.INTERNAL:case d_.UNAVAILABLE:case d_.UNAUTHENTICATED:return!1;case d_.INVALID_ARGUMENT:case d_.NOT_FOUND:case d_.ALREADY_EXISTS:case d_.PERMISSION_DENIED:case d_.FAILED_PRECONDITION:case d_.ABORTED:case d_.OUT_OF_RANGE:case d_.UNIMPLEMENTED:case d_.DATA_LOSS:return!0;default:return v_()}}function Rw(t){if(void 0===t)return y_("GRPC error has no .code"),d_.UNKNOWN;switch(t){case Ow.OK:return d_.OK;case Ow.CANCELLED:return d_.CANCELLED;case Ow.UNKNOWN:return d_.UNKNOWN;case Ow.DEADLINE_EXCEEDED:return d_.DEADLINE_EXCEEDED;case Ow.RESOURCE_EXHAUSTED:return d_.RESOURCE_EXHAUSTED;case Ow.INTERNAL:return d_.INTERNAL;case Ow.UNAVAILABLE:return d_.UNAVAILABLE;case Ow.UNAUTHENTICATED:return d_.UNAUTHENTICATED;case Ow.INVALID_ARGUMENT:return d_.INVALID_ARGUMENT;case Ow.NOT_FOUND:return d_.NOT_FOUND;case Ow.ALREADY_EXISTS:return d_.ALREADY_EXISTS;case Ow.PERMISSION_DENIED:return d_.PERMISSION_DENIED;case Ow.FAILED_PRECONDITION:return d_.FAILED_PRECONDITION;case Ow.ABORTED:return d_.ABORTED;case Ow.OUT_OF_RANGE:return d_.OUT_OF_RANGE;case Ow.UNIMPLEMENTED:return d_.UNIMPLEMENTED;case Ow.DATA_LOSS:return d_.DATA_LOSS;default:return v_()}}(xw=Ow||(Ow={}))[xw.OK=0]="OK",xw[xw.CANCELLED=1]="CANCELLED",xw[xw.UNKNOWN=2]="UNKNOWN",xw[xw.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xw[xw.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xw[xw.NOT_FOUND=5]="NOT_FOUND",xw[xw.ALREADY_EXISTS=6]="ALREADY_EXISTS",xw[xw.PERMISSION_DENIED=7]="PERMISSION_DENIED",xw[xw.UNAUTHENTICATED=16]="UNAUTHENTICATED",xw[xw.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xw[xw.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xw[xw.ABORTED=10]="ABORTED",xw[xw.OUT_OF_RANGE=11]="OUT_OF_RANGE",xw[xw.UNIMPLEMENTED=12]="UNIMPLEMENTED",xw[xw.INTERNAL=13]="INTERNAL",xw[xw.UNAVAILABLE=14]="UNAVAILABLE",xw[xw.DATA_LOSS=15]="DATA_LOSS";var Dw=function(){function t(t,e){this.comparator=t,this.root=e||jw.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,jw.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jw.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Pw(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Pw(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Pw(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Pw(this.root,t,this.comparator,!0)},t}(),Pw=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),jw=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw v_();if(this.right.isRed())throw v_();var t=this.left.check();if(t!==this.right.check())throw v_();return t+(this.isRed()?0:1)},t}();jw.EMPTY=null,jw.RED=!0,jw.BLACK=!1,jw.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw v_()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw v_()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw v_()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw v_()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw v_()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new jw(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Nw=function(){function t(t){this.comparator=t,this.data=new Dw(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Lw(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Lw(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Lw=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Fw=new Dw(G_.comparator);function Mw(){return Fw}var Vw=new Dw(G_.comparator);function Uw(){return Vw}var Bw=new Dw(G_.comparator);function zw(){return Bw}var qw=new Nw(G_.comparator);function Hw(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=qw,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var Kw=new Nw(O_);function Zw(){return Kw}var Ww=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,$w.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(I_.min(),r,Zw(),Mw(),Hw())},t}(),$w=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(M_.EMPTY_BYTE_STRING,n,Hw(),Hw(),Hw())},t}(),Gw=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},Qw=function(t,e){this.targetId=t,this.V=e},Yw=function(t,e,n,r){void 0===n&&(n=M_.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Xw=function(){function t(){this.S=0,this.D=eC(),this.C=M_.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=Hw(),e=Hw(),n=Hw();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:v_()}}),new $w(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=eC()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),Jw=function(){function t(t){this.W=t,this.G=new Map,this.H=Mw(),this.J=tC(),this.Y=new Nw(O_)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.tt(r=s[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:v_()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(gv(i))if(0===n){var s=new G_(i.path);this.tt(e,s,hv.newNoDocument(s,I_.min()))}else w_(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var s=e.ot(i);if(s){if(r.current&&gv(s.target)){var o=new G_(s.target.path);null!==e.H.get(o)||e.at(i,o)||e.tt(i,o,hv.newNoDocument(o,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=Hw();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Ww(t,n,this.Y,this.H,r);return this.H=Mw(),this.J=tC(),this.Y=new Nw(O_),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new Xw,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Nw(O_),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||g_("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new Xw),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function tC(){return new Dw(G_.comparator)}function eC(){return new Dw(G_.comparator)}var nC={asc:"ASCENDING",desc:"DESCENDING"},rC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},iC=function(t,e){this.databaseId=t,this.I=e};function sC(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function oC(t,e){return t.I?e.toBase64():e.toUint8Array()}function aC(t,e){return sC(t,e.toTimestamp())}function cC(t){return w_(!!t),I_.fromTimestamp(function(t){var e=U_(t);return new T_(e.seconds,e.nanos)}(t))}function lC(t,e){return function(t){return new j_(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function uC(t){var e=j_.fromString(t);return w_(jC(e)),e}function hC(t,e){return lC(t.databaseId,e.path)}function dC(t,e){var n=uC(e);if(n.get(1)!==t.databaseId.projectId)throw new f_(d_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new f_(d_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G_(gC(n))}function fC(t,e){return lC(t.databaseId,e)}function pC(t){var e=uC(t);return 4===e.length?j_.emptyPath():gC(e)}function mC(t){return new j_(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gC(t){return w_(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function yC(t,e,n){return{name:hC(t,e),fields:n.toProto().mapValue.fields}}function bC(t,e,n){var r=dC(t,e.name),i=cC(e.updateTime),s=new lv({mapValue:{fields:e.fields}}),o=hv.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function _C(t,e){var n;if(e instanceof vw)n={update:yC(t,e.key,e.value)};else if(e instanceof kw)n={delete:hC(t,e.key)};else if(e instanceof ww)n={update:yC(t,e.key,e.data),updateMask:PC(e.fieldMask)};else{if(!(e instanceof Tw))return v_();n={verify:hC(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof nw)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof rw)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof sw)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof aw)return{fieldPath:e.field.canonicalString(),increment:n.A};throw v_()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:aC(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:v_()}(t,e.precondition)),n}function vC(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?dw.updateTime(cC(t.updateTime)):void 0!==t.exists?dw.exists(t.exists):dw.none()}(e.currentDocument):dw.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(w_("REQUEST_TIME"===e.setToServerValue),n=new nw):"appendMissingElements"in e?n=new rw(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new sw(e.removeAllFromArray.values||[]):"increment"in e?n=new aw(t,e.increment):v_();var r=L_.fromServerFormat(e.fieldPath);return new uw(r,n)}(t,e)}):[];if(e.update){var i=dC(t,e.update.name),s=new lv({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new F_((t.fieldPaths||[]).map(function(t){return L_.fromServerFormat(t)}))}(e.updateMask);return new ww(i,s,o,n,r)}return new vw(i,s,n,r)}if(e.delete){var a=dC(t,e.delete);return new kw(a,n)}if(e.verify){var c=dC(t,e.verify);return new Tw(c,n)}return v_()}function wC(t,e){return{documents:[fC(t,e.path)]}}function CC(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=fC(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=fC(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(av(t.value))return{unaryFilter:{field:IC(t.field),op:"IS_NAN"}};if(ov(t.value))return{unaryFilter:{field:IC(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(av(t.value))return{unaryFilter:{field:IC(t.field),op:"IS_NOT_NAN"}};if(ov(t.value))return{unaryFilter:{field:IC(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:IC(t.field),op:TC(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:IC(t.field),direction:kC(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.I||Z_(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=OC(e.startAt)),e.endAt&&(n.structuredQuery.endAt=OC(e.endAt)),n}function SC(t){var e=pC(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){w_(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=EC(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Tv(AC(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var c=null;n.limit&&(c=function(t){var e;return Z_(e="object"==typeof t?t.value:t)?null:e}(n.limit));var l=null;n.startAt&&(l=xC(n.startAt));var u=null;return n.endAt&&(u=xC(n.endAt)),Pv(e,i,a,o,c,"F",l,u)}function EC(t){return t?void 0!==t.unaryFilter?[DC(t)]:void 0!==t.fieldFilter?[RC(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return EC(t)}).reduce(function(t,e){return t.concat(e)}):v_():[]}function OC(t){return{before:t.before,values:t.position}}function xC(t){return new xv(t.values||[],!!t.before)}function kC(t){return nC[t]}function TC(t){return rC[t]}function IC(t){return{fieldPath:t.canonicalString()}}function AC(t){return L_.fromServerFormat(t.fieldPath)}function RC(t){return yv.create(AC(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return v_()}}(t.fieldFilter.op),t.fieldFilter.value)}function DC(t){switch(t.unaryFilter.op){case"IS_NAN":var e=AC(t.unaryFilter.field);return yv.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=AC(t.unaryFilter.field);return yv.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=AC(t.unaryFilter.field);return yv.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=AC(t.unaryFilter.field);return yv.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return v_()}}function PC(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function jC(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function NC(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=FC(e)),e=LC(t.get(n),e);return FC(e)}function LC(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function FC(t){return t+"\x01\x01"}function MC(t){var e=t.length;if(w_(e>=2),2===e)return w_("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),j_.emptyPath();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&v_(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),c=void 0;0===i.length?c=a:(c=i+=a,i=""),r.push(c);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:v_()}s=o+2}return new j_(r)}var VC=function(t,e){this.seconds=t,this.nanoseconds=e},UC=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};UC.store="owner",UC.key="owner";var BC=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};BC.store="mutationQueues",BC.keyPath="userId";var zC=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};zC.store="mutations",zC.keyPath="batchId",zC.userMutationsIndex="userMutationsIndex",zC.userMutationsKeyPath=["userId","batchId"];var qC=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,NC(e)]},t.key=function(t,e,n){return[t,NC(e),n]},t}();qC.store="documentMutations",qC.PLACEHOLDER=new qC;var HC=function(t,e){this.path=t,this.readTime=e},KC=function(t,e){this.path=t,this.version=e},ZC=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};ZC.store="remoteDocuments",ZC.readTimeIndex="readTimeIndex",ZC.readTimeIndexPath="readTime",ZC.collectionReadTimeIndex="collectionReadTimeIndex",ZC.collectionReadTimeIndexPath=["parentPath","readTime"];var WC=function(t){this.byteSize=t};WC.store="remoteDocumentGlobal",WC.key="remoteDocumentGlobalKey";var $C=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};$C.store="targets",$C.keyPath="targetId",$C.queryTargetsIndexName="queryTargetsIndex",$C.queryTargetsKeyPath=["canonicalId","targetId"];var GC=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};GC.store="targetDocuments",GC.keyPath=["targetId","path"],GC.documentTargetsIndex="documentTargetsIndex",GC.documentTargetsKeyPath=["path","targetId"];var QC=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};QC.key="targetGlobalKey",QC.store="targetGlobal";var YC=function(t,e){this.collectionId=t,this.parent=e};YC.store="collectionParents",YC.keyPath=["collectionId","parent"];var XC=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};XC.store="clientMetadata",XC.keyPath="clientId";var JC=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};JC.store="bundles",JC.keyPath="bundleId";var tS=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};tS.store="namedQueries",tS.keyPath="name";var eS=Object(dh.f)(Object(dh.f)([],Object(dh.f)(Object(dh.f)([],Object(dh.f)(Object(dh.f)([],Object(dh.f)(Object(dh.f)([],[BC.store,zC.store,qC.store,ZC.store,$C.store,UC.store,QC.store,GC.store]),[XC.store])),[WC.store])),[YC.store])),[JC.store,tS.store]),nS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",rS=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),iS=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},sS=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&v_(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),oS=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new iS,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new lS(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=pS(e.target.error);n.ft.reject(new lS(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new lS(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(g_("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new hS(e)},t}(),aS=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t(Object(cm.l)())&&y_("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return g_("SimpleDb","Removing database:",t),dS(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=Object(cm.l)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return Object(dh.b)(this,void 0,void 0,function(){var e,n=this;return Object(dh.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(g_("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new lS(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new f_(d_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new lS(t,n))},i.onupgradeneeded=function(t){g_("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){g_("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(dh.b)(this,void 0,void 0,function(){var i,s,o,a,c;return Object(dh.d)(this,function(l){switch(l.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,c,l,u;return Object(dh.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=oS.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),sS.reject(t)}).toPromise(),c={},o.catch(function(){}),[4,e.dt];case 3:return[2,(c.value=(h.sent(),o),c)];case 4:return g_("SimpleDb","Transaction failed with error:",(l=h.sent()).message,"Retrying:",u="FirebaseError"!==l.name&&s<3),a.close(),u?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}})},a=this,l.label=1;case 1:return[5,o()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),cS=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return dS(this.Pt.delete())},t}(),lS=function(t){function e(e,n){var r=this;return(r=t.call(this,d_.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(dh.c)(e,t),e}(f_);function uS(t){return"IndexedDbTransactionError"===t.name}var hS=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(g_("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(g_("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),dS(n)},t.prototype.add=function(t){return g_("SimpleDb","ADD",this.store.name,t,t),dS(this.store.add(t))},t.prototype.get=function(t){var e=this;return dS(this.store.get(t)).next(function(n){return void 0===n&&(n=null),g_("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return g_("SimpleDb","DELETE",this.store.name,t),dS(this.store.delete(t))},t.prototype.count=function(){return g_("SimpleDb","COUNT",this.store.name),dS(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){g_("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new sS(function(n,r){e.onerror=function(t){var e=pS(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new sS(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new cS(i),o=e(i.primaryKey,i.value,s);if(o instanceof sS){var a=o.catch(function(t){return s.done(),sS.reject(t)});n.push(a)}s.isDone?r():null===s.Dt?i.continue():i.continue(s.Dt)}else r()}}).next(function(){return sS.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function dS(t){return new sS(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=pS(t.target.error);n(e)}})}var fS=!1;function pS(t){var e=aS._t(Object(cm.l)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new f_("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return fS||(fS=!0,setTimeout(function(){throw r},0)),r}}return t}var mS=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return Object(dh.c)(e,t),e}(rS);function gS(t,e){var n=C_(t);return aS.It(n.Mt,e)}var yS=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&mw(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(s=n[e]).key.isEqual(t.key)&&gw(s,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var s;(s=i[r]).key.isEqual(t.key)&&gw(s,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(I_.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Hw())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&x_(this.mutations,t.mutations,function(t,e){return bw(t,e)})&&x_(this.baseMutations,t.baseMutations,function(t,e){return bw(t,e)})},t}(),bS=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){w_(e.mutations.length===r.length);for(var i=zw(),s=e.mutations,o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),_S=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=I_.min()),void 0===s&&(s=I_.min()),void 0===o&&(o=M_.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),vS=function(t){this.Lt=t};function wS(t,e){if(e.document)return bC(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=G_.fromSegments(e.noDocument.path),r=xS(e.noDocument.readTime),i=hv.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var s=G_.fromSegments(e.unknownDocument.path);return r=xS(e.unknownDocument.version),hv.newUnknownDocument(s,r)}return v_()}function CS(t,e,n){var r=SS(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var s=function(t,e){return{name:hC(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:sC(t,e.version.toTimestamp())}}(t.Lt,e),o=e.hasCommittedMutations;return new ZC(null,null,s,o,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),c=OS(e.version);return o=e.hasCommittedMutations,new ZC(null,new HC(a,c),null,o,r,i)}if(e.isUnknownDocument()){var l=e.key.path.toArray(),u=OS(e.version);return new ZC(new KC(l,u),null,null,!0,r,i)}return v_()}function SS(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ES(t){var e=new T_(t[0],t[1]);return I_.fromTimestamp(e)}function OS(t){var e=t.toTimestamp();return new VC(e.seconds,e.nanoseconds)}function xS(t){var e=new T_(t.seconds,t.nanoseconds);return I_.fromTimestamp(e)}function kS(t,e){for(var n=(e.baseMutations||[]).map(function(e){return vC(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return vC(t.Lt,e)}),s=T_.fromMillis(e.localWriteTimeMs);return new yS(e.batchId,s,n,i)}function TS(t){var e,n,r=xS(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?xS(t.lastLimboFreeSnapshotVersion):I_.min();return void 0!==t.query.documents?(w_(1===(n=t.query).documents.length),e=Bv(jv(pC(n.documents[0])))):e=function(t){return Bv(SC(t))}(t.query),new _S(e,t.targetId,0,t.lastListenSequenceNumber,r,i,M_.fromBase64String(t.resumeToken))}function IS(t,e){var n,r=OS(e.snapshotVersion),i=OS(e.lastLimboFreeSnapshotVersion);n=gv(e.target)?wC(t.Lt,e.target):CC(t.Lt,e.target);var s=e.resumeToken.toBase64();return new $C(e.targetId,pv(e.target),r,s,e.sequenceNumber,i,n)}function AS(t){var e=SC({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?zv(e,e.limit,"L"):e}var RS=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return DS(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:xS(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return DS(t).put({bundleId:(n=e).id,createTime:OS(cC(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return PS(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:AS(e.bundledQuery),readTime:xS(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return PS(t).put(function(t){return{name:t.name,readTime:OS(cC(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function DS(t){return gS(t,JC.store)}function PS(t){return gS(t,tS.store)}var jS=function(){function t(){this.Bt=new NS}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),sS.resolve()},t.prototype.getCollectionParents=function(t,e){return sS.resolve(this.Bt.getEntries(e))},t}(),NS=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Nw(j_.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Nw(j_.comparator)).toArray()},t}(),LS=function(){function t(){this.qt=new NS}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var s={collectionId:r,parent:NC(i)};return FS(t).put(s)}return sS.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[k_(e),""],!1,!0);return FS(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(MC(s.parent))}return n})},t}();function FS(t){return gS(t,YC.store)}var MS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},VS=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function US(t,e,n){var r=t.store(zC.store),i=t.store(qC.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,c=r.Ot({range:o},function(t,e,n){return a++,n.delete()});s.push(c.next(function(){w_(1===a)}));for(var l=[],u=0,h=n.mutations;u<h.length;u++){var d=h[u],f=qC.key(e,d.key.path,n.batchId);s.push(i.delete(f)),l.push(d.key)}return sS.waitFor(s).next(function(){return l})}function BS(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v_();e=t.noDocument}return JSON.stringify(e).length}VS.DEFAULT_COLLECTION_PERCENTILE=10,VS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,VS.DEFAULT=new VS(41943040,VS.DEFAULT_COLLECTION_PERCENTILE,VS.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),VS.DISABLED=new VS(-1,0,0);var zS=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return w_(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return HS(t).Ot({index:zC.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,s=KS(t),o=HS(t);return o.add({}).next(function(a){w_("number"==typeof a);for(var c=new yS(a,e,n,r),l=function(t,e,n){var r=n.baseMutations.map(function(e){return _C(t.Lt,e)}),i=n.mutations.map(function(e){return _C(t.Lt,e)});return new zC(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,c),u=[],h=new Nw(function(t,e){return O_(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],m=qC.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),u.push(o.put(l)),u.push(s.put(m,qC.PLACEHOLDER))}return h.forEach(function(e){u.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=c.keys()}),sS.waitFor(u).next(function(){return c})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return HS(t).get(e).next(function(t){return t?(w_(t.userId===n.userId),kS(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?sS.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return HS(t).Ot({index:zC.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(w_(e.batchId>=r),s=kS(n.R,e)),i.done()}).next(function(){return s})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return HS(t).Ot({index:zC.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return HS(t).Nt(zC.userMutationsIndex,n).next(function(t){return t.map(function(t){return kS(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=qC.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return KS(t).Ot({range:i},function(r,i,o){var a=r[0],c=r[2],l=MC(r[1]);if(a===n.userId&&e.path.isEqual(l))return HS(t).get(c).next(function(t){if(!t)throw v_();w_(t.userId===n.userId),s.push(kS(n.R,t))});o.done()}).next(function(){return s})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Nw(O_),i=[];return e.forEach(function(e){var s=qC.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=KS(t).Ot({range:o},function(t,i,s){var o=t[0],a=t[2],c=MC(t[1]);o===n.userId&&e.path.isEqual(c)?r=r.add(a):s.done()});i.push(a)}),sS.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,s=qC.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new Nw(O_);return KS(t).Ot({range:o},function(t,e,s){var o=t[0],c=t[2],l=MC(t[1]);o===n.userId&&r.isPrefixOf(l)?l.length===i&&(a=a.add(c)):s.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(HS(t).get(e).next(function(t){if(null===t)throw v_();w_(t.userId===n.userId),r.push(kS(n.R,t))}))}),sS.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return US(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),sS.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return sS.resolve();var r=IDBKeyRange.lowerBound(qC.prefixForUser(e.userId)),i=[];return KS(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var s=MC(t[1]);i.push(s)}else r.done()}).next(function(){w_(0===i.length)})})},t.prototype.containsKey=function(t,e){return qS(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return ZS(t).get(this.userId).next(function(t){return t||new BC(e.userId,-1,"")})},t}();function qS(t,e,n){var r=qC.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return KS(t).Ot({range:s,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function HS(t){return gS(t,zC.store)}function KS(t){return gS(t,qC.store)}function ZS(t){return gS(t,BC.store)}var WS=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),$S=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new WS(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return I_.fromTimestamp(new T_(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return GS(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return w_(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return GS(t).Ot(function(o,a){var c=TS(a);c.sequenceNumber<=e&&null===n.get(c.targetId)&&(i++,s.push(r.removeTargetData(t,c)))}).next(function(){return sS.waitFor(s)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return GS(t).Ot(function(t,n){var r=TS(n);e(r)})},t.prototype.Xt=function(t){return QS(t).get(QC.key).next(function(t){return w_(null!==t),t})},t.prototype.Zt=function(t,e){return QS(t).put(QC.key,e)},t.prototype.te=function(t,e){return GS(t).put(IS(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=pv(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return GS(t).Ot({range:r,index:$C.queryTargetsIndexName},function(t,n,r){var s=TS(n);mv(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],s=YS(t);return e.forEach(function(e){var o=NC(e.path);i.push(s.put(new GC(n,o))),i.push(r.referenceDelegate.addReference(t,n,e))}),sS.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=YS(t);return sS.forEach(e,function(e){var s=NC(e.path);return sS.waitFor([i.delete([n,s]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=YS(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=YS(t),i=Hw();return r.Ot({range:n,kt:!0},function(t,e,n){var r=MC(t[1]),s=new G_(r);i=i.add(s)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=NC(e.path),r=IDBKeyRange.bound([n],[k_(n)],!1,!0),i=0;return YS(t).Ot({index:GC.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return GS(t).get(e).next(function(t){return t?TS(t):null})},t}();function GS(t){return gS(t,$C.store)}function QS(t){return gS(t,QC.store)}function YS(t){return gS(t,GC.store)}function XS(t){return Object(dh.b)(this,void 0,void 0,function(){return Object(dh.d)(this,function(e){if(t.code!==d_.FAILED_PRECONDITION||t.message!==nS)throw t;return g_("LocalStore","Unexpectedly lost primary lease"),[2]})})}function JS(t,e){var n=t[1],r=e[1],i=O_(t[0],e[0]);return 0===i?O_(n,r):i}var tE=function(){function t(t){this.ne=t,this.buffer=new Nw(JS),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();JS(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),eE=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;g_("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return Object(dh.b)(e,void 0,void 0,function(){var e;return Object(dh.d)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return uS(e=n.sent())?(g_("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,XS(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),nE=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return sS.resolve(h_.o);var r=new tE(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(g_("LruGarbageCollector","Garbage collection skipped; disabled"),sS.resolve(MS)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(g_("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),MS):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,s,o,a,c,l=this,u=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>l.params.maximumSequenceNumbersToCollect?(g_("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),l.nthSequenceNumber(t,r)}).next(function(r){return n=r,o=Date.now(),l.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),l.removeOrphanedDocuments(t,n)}).next(function(t){return c=Date.now(),m_()<=lm.a.DEBUG&&g_("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-u)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(c-a)+"ms\nTotal Duration: "+(c-u)+"ms"),sS.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),rE=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new nE(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return iE(t,n)},t.prototype.removeReference=function(t,e,n){return iE(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return iE(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return ZS(t).$t(function(r){return qS(t,r,e).next(function(t){return t&&(n=!0),sS.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.we(t,function(o,a){if(a<=e){var c=n._e(t,o).next(function(e){if(!e)return s++,r.getEntry(t,o).next(function(){return r.removeEntry(o),YS(t).delete([0,NC(o.path)])})});i.push(c)}}).next(function(){return sS.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return iE(t,e)},t.prototype.we=function(t,e){var n,r=YS(t),i=h_.o;return r.Ot({index:GC.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==h_.o&&e(new G_(MC(n)),i),i=o,n=s):i=h_.o}).next(function(){i!==h_.o&&e(new G_(MC(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function iE(t,e){return YS(t).put(function(t,e){return new GC(0,NC(t.path),e)}(e,t.currentSequenceNumber))}var sE=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.equalsFn(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){R_(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.isEmpty=function(){return D_(this.inner)},t}(),oE=function(){function t(){this.changes=new sE(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:I_.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:hv.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?sS.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),aE=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return uE(t).put(hE(e),n)},t.prototype.removeEntry=function(t,e){var n=uE(t),r=hE(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return uE(t).get(hE(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return uE(t).get(hE(e)).next(function(t){return{document:n.ye(e,t),size:BS(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=Mw();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=Mw(),i=new Dw(G_.comparator);return this.pe(t,e,function(t,e){var s=n.ye(t,e);r=r.insert(t,s),i=i.insert(t,BS(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return sS.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),s=i.getNext();return uE(t).Ot({range:r},function(t,e,r){for(var o=G_.fromSegments(t);s&&G_.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Ct(s.path.toArray()):r.done()}).next(function(){for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Mw(),s=e.path.length+1,o={};if(n.isEqual(I_.min())){var a=e.path.toArray();o.range=IDBKeyRange.lowerBound(a)}else{var c=e.path.toArray(),l=SS(n);o.range=IDBKeyRange.lowerBound([c,l],!0),o.index=ZC.collectionReadTimeIndex}return uE(t).Ot(o,function(t,n,o){if(t.length===s){var a=wS(r.R,n);e.path.isPrefixOf(a.key.path)?Zv(e,a)&&(i=i.insert(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new cE(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return lE(t).get(WC.key).next(function(t){return w_(!!t),t})},t.prototype.me=function(t,e){return lE(t).put(WC.key,e)},t.prototype.ye=function(t,e){if(e){var n=wS(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(I_.min()))return n}return hv.newInvalidDocument(t)},t}(),cE=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new sE(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(dh.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Nw(function(t,e){return O_(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(s,o){var a=e.Ae.get(s);if(o.document.isValidDocument()){var c=CS(e.Ie.R,o.document,e.getReadTime(s));i=i.add(s.path.popLast());var l=BS(c);r+=l-a,n.push(e.Ie.addEntry(t,s,c))}else if(r-=a,e.trackRemovals){var u=CS(e.Ie.R,hv.newNoDocument(s,I_.min()),e.getReadTime(s));n.push(e.Ie.addEntry(t,s,u))}else n.push(e.Ie.removeEntry(t,s))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),sS.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(oE);function lE(t){return gS(t,WC.store)}function uE(t){return gS(t,ZC.store)}function hE(t){return t.path.toArray()}var dE=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;w_(n<r&&n>=0&&r<=11);var s=new oS("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(UC.store)}(t),function(t){t.createObjectStore(BC.store,{keyPath:BC.keyPath}),t.createObjectStore(zC.store,{keyPath:zC.keyPath,autoIncrement:!0}).createIndex(zC.userMutationsIndex,zC.userMutationsKeyPath,{unique:!0}),t.createObjectStore(qC.store)}(t),fE(t),function(t){t.createObjectStore(ZC.store)}(t));var o=sS.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(GC.store),t.deleteObjectStore($C.store),t.deleteObjectStore(QC.store)}(t),fE(t)),o=o.next(function(){return function(t){var e=t.store(QC.store),n=new QC(0,0,I_.min().toTimestamp(),0);return e.put(QC.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(zC.store).Nt().next(function(n){t.deleteObjectStore(zC.store),t.createObjectStore(zC.store,{keyPath:zC.keyPath,autoIncrement:!0}).createIndex(zC.userMutationsIndex,zC.userMutationsKeyPath,{unique:!0});var r=e.store(zC.store),i=n.map(function(t){return r.put(t)});return sS.waitFor(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(XC.store,{keyPath:XC.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.Re(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(WC.store)}(t),i.be(s)})),n<7&&r>=7&&(o=o.next(function(){return i.ve(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Pe(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(ZC.store);e.createIndex(ZC.readTimeIndex,ZC.readTimeIndexPath,{unique:!1}),e.createIndex(ZC.collectionReadTimeIndex,ZC.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Ve(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(JC.store,{keyPath:JC.keyPath})}(t),function(t){t.createObjectStore(tS.store,{keyPath:tS.keyPath})}(t)})),o},t.prototype.be=function(t){var e=0;return t.store(ZC.store).Ot(function(t,n){e+=BS(n)}).next(function(){var n=new WC(e);return t.store(WC.store).put(WC.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(BC.store),r=t.store(zC.store);return n.Nt().next(function(n){return sS.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(zC.userMutationsIndex,i).next(function(r){return sS.forEach(r,function(r){w_(r.userId===n.userId);var i=kS(e.R,r);return US(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(GC.store),n=t.store(ZC.store);return t.store(QC.store).get(QC.key).next(function(t){var r=[];return n.Ot(function(n,i){var s=new j_(n),o=function(t){return[0,NC(t)]}(s);r.push(e.get(o).next(function(n){return n?sS.resolve():function(n){return e.put(new GC(0,NC(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return sS.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(YC.store,{keyPath:YC.keyPath});var n=e.store(YC.store),r=new NS,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:NC(i)})}};return e.store(ZC.store).Ot({kt:!0},function(t,e){var n=new j_(t);return i(n.popLast())}).next(function(){return e.store(qC.store).Ot({kt:!0},function(t,e){var n=MC(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store($C.store);return n.Ot(function(t,r){var i=TS(r),s=IS(e.R,i);return n.put(s)})},t}();function fE(t){t.createObjectStore(GC.store,{keyPath:GC.keyPath}).createIndex(GC.documentTargetsIndex,GC.documentTargetsKeyPath,{unique:!0}),t.createObjectStore($C.store,{keyPath:$C.keyPath}).createIndex($C.queryTargetsIndexName,$C.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(QC.store)}var pE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",mE=function(){function t(e,n,r,i,s,o,a,c,l,u){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=s,this.window=o,this.document=a,this.De=l,this.Ce=u,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new f_(d_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new rE(this,i),this.Le=n+"main",this.R=new vS(c),this.Be=new aS(this.Le,11,new dE(this.R)),this.qe=new $S(this.referenceDelegate,this.R),this.Ut=new LS,this.Ue=function(t,e){return new aE(t,e)}(this.R,this.Ut),this.Qe=new RS,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===u&&y_("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new f_(d_.FAILED_PRECONDITION,pE);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new h_(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return Object(dh.b)(e,void 0,void 0,function(){return Object(dh.d)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return Object(dh.b)(e,void 0,void 0,function(){return Object(dh.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return Object(dh.b)(e,void 0,void 0,function(){return Object(dh.d)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return yE(e).put(new XC(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(uS(e))return g_("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return g_("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return gE(t).get(UC.key).next(function(t){return sS.resolve(e.tn(t))})},t.prototype.en=function(t){return yE(t).delete(this.clientId)},t.prototype.nn=function(){return Object(dh.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(dh.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=gS(t,XC.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return sS.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?sS.resolve(!0):gE(t).get(UC.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new f_(d_.FAILED_PRECONDITION,pE);return!1}}return!(!e.networkEnabled||!e.inForeground)||yE(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&g_("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return Object(dh.b)(this,void 0,void 0,function(){var t=this;return Object(dh.d)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[UC.store,XC.store],function(e){var n=new mS(e,h_.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return yE(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return zS.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return g_("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",eS,function(s){return r=new mS(s,i.Ne?i.Ne.next():h_.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw y_("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new f_(d_.FAILED_PRECONDITION,nS);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return gE(t).get(UC.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new f_(d_.FAILED_PRECONDITION,pE)})},t.prototype.Ze=function(t){var e=new UC(this.clientId,this.allowTabSynchronization,Date.now());return gE(t).put(UC.key,e)},t.yt=function(){return aS.yt()},t.prototype.Xe=function(t){var e=this,n=gE(t);return n.get(UC.key).next(function(t){return e.tn(t)?(g_("IndexedDbPersistence","Releasing primary lease."),n.delete(UC.key)):sS.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(y_("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return g_("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return y_("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){y_("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function gE(t){return gS(t,UC.store)}function yE(t){return gS(t,XC.store)}function bE(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var _E=function(t,e){this.progress=t,this.wn=e},vE=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return G_.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Vv(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new G_(e)).next(function(t){var e=Uw();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,s=Uw();return this.Ut.getCollectionParents(t,i).next(function(o){return sS.forEach(o,function(o){var a=function(t,e){return new Dv(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){s=s.insert(t,e)})})}).next(function(){return s})})},t.prototype.An=function(t,e,n){var r,i,s=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,s._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return s.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var c=a[o],l=c.key,u=r.get(l);null==u&&(u=hv.newInvalidDocument(l),r=r.insert(l,u)),gw(c,u,s.localWriteTime),u.isFoundDocument()||(r=r.remove(l))}})}).next(function(){return r.forEach(function(t,n){Zv(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=Hw(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var c=a[o];c instanceof ww&&null===n.get(c.key)&&(r=r.add(c.key))}var l=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(l=l.insert(t,e))}),l})},t}(),wE=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=Hw(),i=Hw(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),CE=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(I_.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(s){var o=i.Cn(e,s);return(Nv(e)||Lv(e))&&i.Nn(e.limitType,o,r,n)?i.Dn(t,e):(m_()<=lm.a.DEBUG&&g_("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Kv(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return o.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new Nw(Wv(t));return e.forEach(function(e,r){Zv(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return m_()<=lm.a.DEBUG&&g_("QueryEngine","Using full collection scan to execute query:",Kv(e)),this.Sn.getDocumentsMatchingQuery(t,e,I_.min())},t}(),SE=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Dw(O_),this.kn=new sE(function(t){return pv(t)},mv),this.On=I_.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new vE(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function EE(t,e,n,r){return new SE(t,e,n,r)}function OE(t,e){return Object(dh.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(dh.d)(this,function(o){switch(o.label){case 0:return n=C_(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n._n.getAllMutationBatches(t).next(function(o){return s=o,r=n.persistence.getMutationQueue(e),i=new vE(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],o=Hw(),a=0,c=s;a<c.length;a++){var l=c[a];n.push(l.batchId);for(var u=0,h=l.mutations;u<h.length;u++)o=o.add(h[u].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.pn(t,o).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return s=o.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),s)]}})})}function xE(t,e){var n=C_(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=sS.resolve();return s.forEach(function(t){o=o.next(function(){return r.getEntry(e,t)}).next(function(e){var s=n.docVersions.get(t);w_(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function kE(t){var e=C_(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function TE(t,e){var n=C_(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var o=[];e.targetChanges.forEach(function(e,s){var a=i.get(s);if(a){o.push(n.qe.removeMatchingKeys(t,e.removedDocuments,s).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,s)}));var c=e.resumeToken;if(c.approximateByteSize()>0){var l=a.withResumeToken(c,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,l),function(t,e,n){return w_(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,l,e)&&o.push(n.qe.updateTargetData(t,l))}}});var a=Mw();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(IE(t,s,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(I_.min())){var c=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});o.push(c)}return sS.waitFor(o).next(function(){return s.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function IE(t,e,n,r,i){var s=Hw();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=Mw();return n.forEach(function(n,o){var a=t.get(n),c=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(I_.min())?(e.removeEntry(n,c),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,c),s=s.insert(n,o)):g_("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function AE(t,e){var n=C_(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function RE(t,e){var n=C_(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?sS.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new _S(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function DE(t,e,n){return Object(dh.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(dh.d)(this,function(a){switch(a.label){case 0:r=C_(t),i=r.Fn.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!uS(o=a.sent()))throw o;return g_("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function PE(t,e,n){var r=C_(t),i=I_.min(),s=Hw();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=C_(t),i=r.kn.get(n);return void 0!==i?sS.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,Bv(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){s=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:I_.min(),n?s:Hw())}).next(function(t){return{documents:t,Bn:s}})})}function jE(t,e){var n=C_(t),r=C_(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function NE(t){var e=C_(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=C_(t),i=Mw(),s=SS(n),o=uE(e),a=IDBKeyRange.lowerBound(s,!0);return o.Ot({index:ZC.readTimeIndex,range:a},function(t,e){var n=wS(r.R,e);i=i.insert(n.key,n),s=e.readTime}).next(function(){return{wn:i,readTime:ES(s)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function LE(t){return Object(dh.b)(this,void 0,void 0,function(){var e;return Object(dh.d)(this,function(n){return[2,(e=C_(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=uE(t),n=I_.min();return e.Ot({index:ZC.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=ES(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function FE(t,e,n,r){return Object(dh.b)(this,void 0,void 0,function(){var i,s,o,a,c,l,u,h,d,f;return Object(dh.d)(this,function(p){switch(p.label){case 0:for(i=C_(t),s=Hw(),o=Mw(),a=zw(),c=0,l=n;c<l.length;c++)h=e.qn((u=l[c]).metadata.name),u.document&&(s=s.add(h)),o=o.insert(h,e.Un(u)),a=a.insert(h,e.Qn(u.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,RE(i,function(t){return Bv(jv(j_.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return IE(t,d,o,I_.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,s,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function ME(t,e,n){return void 0===n&&(n=Hw()),Object(dh.b)(this,void 0,void 0,function(){var r,i;return Object(dh.d)(this,function(s){switch(s.label){case 0:return[4,RE(t,Bv(AS(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=C_(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=cC(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Qe.saveNamedQuery(t,e);var o=r.withResumeToken(M_.EMPTY_BYTE_STRING,s);return i.Fn=i.Fn.insert(o.targetId,o),i.qe.updateTargetData(t,o).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var VE=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return sS.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:cC(n.createTime)}),sS.resolve()},t.prototype.getNamedQuery=function(t,e){return sS.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:AS(t.bundledQuery),readTime:cC(t.readTime)}}(e)),sS.resolve()},t}(),UE=function(){function t(){this.Wn=new Nw(BE.Gn),this.zn=new Nw(BE.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new BE(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new BE(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new G_(new j_([])),r=new BE(n,t),i=new BE(n,t+1),s=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),s.push(t.key)}),s},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new G_(new j_([])),n=new BE(e,t),r=new BE(e,t+1),i=Hw();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new BE(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),BE=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return G_.comparator(t.key,e.key)||O_(t.ns,e.ns)},t.Hn=function(t,e){return O_(t.ns,e.ns)||G_.comparator(t.key,e.key)},t}(),zE=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Nw(BE.Gn)}return t.prototype.checkEmpty=function(t){return sS.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var s=new yS(i,e,n,r);this._n.push(s);for(var o=0,a=r;o<a.length;o++){var c=a[o];this.rs=this.rs.add(new BE(c.key,i)),this.Ut.addToCollectionParentIndex(t,c.key.path.popLast())}return sS.resolve(s)},t.prototype.lookupMutationBatch=function(t,e){return sS.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return sS.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return sS.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return sS.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new BE(e,0),i=new BE(e,Number.POSITIVE_INFINITY),s=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);s.push(e)}),sS.resolve(s)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Nw(O_);return e.forEach(function(t){var e=new BE(t,0),i=new BE(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),sS.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;G_.isDocumentKey(i)||(i=i.child(""));var s=new BE(new G_(i),0),o=new Nw(O_);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ns)),!0)},s),sS.resolve(this.us(o))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;w_(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return sS.forEach(e.mutations,function(i){var s=new BE(i.key,e.batchId);return r=r.delete(s),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new BE(e,0),r=this.rs.firstAfterOrEqual(n);return sS.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return sS.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),qE=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Dw(G_.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return sS.resolve(n?n.document.clone():hv.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Mw();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():hv.newInvalidDocument(t))}),sS.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Mw(),i=new G_(e.path.child("")),s=this.docs.getIteratorFrom(i);s.hasNext();){var o=s.getNext(),a=o.value,c=a.document,l=a.readTime;if(!e.path.isPrefixOf(o.key.path))break;l.compareTo(n)<=0||Zv(e,c)&&(r=r.insert(c.key,c.clone()))}return sS.resolve(r)},t.prototype.fs=function(t,e){return sS.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new HE(this)},t.prototype.getSize=function(t){return sS.resolve(this.size)},t}(),HE=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return Object(dh.c)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),sS.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(oE),KE=function(){function t(t){this.persistence=t,this.ds=new sE(function(t){return pv(t)},mv),this.lastRemoteSnapshotVersion=I_.min(),this.highestTargetId=0,this.ws=0,this._s=new UE,this.targetCount=0,this.ys=WS.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),sS.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return sS.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return sS.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),sS.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),sS.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new WS(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,sS.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),sS.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,sS.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,s=[];return this.ds.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(o),s.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),sS.waitFor(s).next(function(){return i})},t.prototype.getTargetCount=function(t){return sS.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return sS.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),sS.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),sS.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),sS.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return sS.resolve(n)},t.prototype.containsKey=function(t,e){return sS.resolve(this._s.containsKey(e))},t}(),ZE=function(){function t(t,e){var n=this;this.gs={},this.Ne=new h_(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new KE(this),this.Ut=new jS,this.Ue=function(t,e){return new qE(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new vS(e),this.Qe=new VE(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new zE(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;g_("MemoryPersistence","Starting transaction:",t);var i=new WE(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return sS.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),WE=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return Object(dh.c)(e,t),e}(rS),$E=function(){function t(t){this.persistence=t,this.As=new UE,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw v_()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),sS.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),sS.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),sS.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return sS.forEach(this.vs,function(r){var i=G_.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return sS.or([function(){return sS.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),GE=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function QE(t,e){return"firestore_clients_"+t+"_"+e}function YE(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function XE(t,e){return"firestore_targets_"+t+"_"+e}GE.UNAUTHENTICATED=new GE(null),GE.GOOGLE_CREDENTIALS=new GE("google-credentials-uid"),GE.FIRST_PARTY=new GE("first-party-uid");var JE=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,s=JSON.parse(r),o="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return o&&s.error&&(o="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(i=new f_(s.error.code,s.error.message)),o?new t(e,n,s.state,i):(y_("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),tO=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new f_(i.error.code,i.error.message)),s?new t(e,i.state,r):(y_("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),eO=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=Zw(),o=0;i&&o<r.activeTargetIds.length;++o)i=$_(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(y_("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),nO=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(y_("SharedClientState","Failed to parse online state: "+e),null)},t}(),rO=function(){function t(){this.activeTargetIds=Zw()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),iO=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Dw(O_),this.started=!1,this.Os=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=QE(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new rO),this.Ls=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(dh.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,c,l,u=this;return Object(dh.d)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(QE(this.persistenceKey,r)))&&(s=eO.Vs(r,i))&&(this.ks=this.ks.insert(s.clientId,s));for(this.Ks(),(o=this.storage.getItem(this.Us))&&(a=this.js(o))&&this.Ws(a),c=0,l=this.Os;c<l.length;c++)this.Fs(l[c]);return this.Os=[],this.window.addEventListener("unload",function(){return u.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(XE(this.persistenceKey,t));if(n){var r=tO.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(XE(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return g_("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){g_("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){g_("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(g_("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void y_("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return Object(dh.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(dh.d)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(s=this.js(n.newValue)))return[2,this.Ws(s)]}else if(n.key===this.Ms)(o=function(t){var e=h_.o;if(null!=t)try{var n=JSON.parse(t);w_("number"==typeof n),e=n}catch(t){y_("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==h_.o&&this.sequenceNumberHandler(o);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new JE(this.currentUser,t,e,n),i=YE(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=YE(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=XE(this.persistenceKey,t),i=new tO(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return eO.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return JE.Vs(new GE(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return tO.Vs(r,e)},t.prototype.js=function(t){return nO.Vs(t)},t.prototype.ii=function(t){return Object(dh.b)(this,void 0,void 0,function(){return Object(dh.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(g_("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),s=this.Gs(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this.syncEngine.hi(o,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=Zw();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),sO=function(){function t(){this.li=new rO,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new rO,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),oO=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),aO=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){g_("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){g_("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),cO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},lO=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),uO=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return Object(dh.c)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,s){var o=new u_;o.listenOnce(a_.COMPLETE,function(){try{switch(o.getLastErrorCode()){case o_.NO_ERROR:var e=o.getResponseJson();g_("Connection","XHR received:",JSON.stringify(e)),i(e);break;case o_.TIMEOUT:g_("Connection",'RPC "'+t+'" timed out'),s(new f_(d_.DEADLINE_EXCEEDED,"Request time out"));break;case o_.HTTP_ERROR:var n=o.getStatus();if(g_("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(d_).indexOf(e)>=0?e:d_.UNKNOWN}(r.status);s(new f_(a,r.message))}else s(new f_(d_.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new f_(d_.UNAVAILABLE,"Connection failed."));break;default:v_()}}finally{g_("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new e_,i=iy(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(s.initMessageHeaders,e),Object(cm.r)()||Object(cm.t)()||Object(cm.o)()||Object(cm.p)()||Object(cm.u)()||Object(cm.n)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");g_("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),c=!1,l=!1,u=new lO({Ei:function(t){l?g_("Connection","Not sending because WebChannel is closed:",t):(c||(g_("Connection","Opening WebChannel transport."),a.open(),c=!0),g_("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,l_.EventType.OPEN,function(){l||g_("Connection","WebChannel transport opened.")}),h(a,l_.EventType.CLOSE,function(){l||(l=!0,g_("Connection","WebChannel transport closed"),u.Vi())}),h(a,l_.EventType.ERROR,function(t){l||(l=!0,b_("Connection","WebChannel transport errored:",t),u.Vi(new f_(d_.UNAVAILABLE,"The operation could not be completed")))}),h(a,l_.EventType.MESSAGE,function(t){var e;if(!l){var n=t.data[0];w_(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){g_("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Ow[t];if(void 0!==e)return Rw(e)}(i),o=r.message;void 0===s&&(s=d_.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),l=!0,u.Vi(new f_(s,o)),a.close()}else g_("Connection","WebChannel received:",n),u.Si(n)}}),h(i,c_.STAT_EVENT,function(t){10===t.stat?g_("Connection","Detected buffering proxy"):11===t.stat&&g_("Connection","Detected no buffering proxy")}),setTimeout(function(){u.Pi()},0),u},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);g_("RestConnection","Sending: ",i,n);var s={};return this.Fi(s,r),this.ki(t,i,s,n).then(function(t){return g_("RestConnection","Received: ",t),t},function(e){throw b_("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+cO[t]},t}());function hO(){return"undefined"!=typeof window?window:null}function dO(){return"undefined"!=typeof document?document:null}function fO(t){return new iC(t,!0)}var pO=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&g_("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),mO=function(){function t(t,e,n,r,i,s){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=s,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new pO(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return Object(dh.b)(this,void 0,void 0,function(){return Object(dh.d)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return Object(dh.b)(this,void 0,void 0,function(){return Object(dh.d)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return Object(dh.b)(this,void 0,void 0,function(){return Object(dh.d)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===d_.RESOURCE_EXHAUSTED?(y_(e.toString()),y_("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===d_.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new f_(d_.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return Object(dh.b)(t,void 0,void 0,function(){return Object(dh.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return g_("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(g_("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),gO=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).R=i,o}return Object(dh.c)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:v_()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.I?(w_(void 0===e||"string"==typeof e),M_.fromBase64String(e||"")):(w_(void 0===e||e instanceof Uint8Array),M_.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?d_.UNKNOWN:Rw(t.code);return new f_(e,t.message||"")}(a);n=new Yw(r,i,s,o||null)}else if("documentChange"in e){i=dC(t,(r=e.documentChange).document.name),s=cC(r.document.updateTime);var a=new lv({mapValue:{fields:r.document.fields}}),c=(o=hv.newFoundDocument(i,s,a),r.targetIds||[]);n=new Gw(c,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=dC(t,(r=e.documentDelete).document),s=r.readTime?cC(r.readTime):I_.min(),a=hv.newNoDocument(i,s),n=new Gw([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=dC(t,(r=e.documentRemove).document),n=new Gw([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return v_();var l=e.filter;i=new Iw(r=l.count||0),n=new Qw(s=l.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return I_.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?I_.min():e.readTime?cC(e.readTime):I_.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=mC(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=gv(r)?{documents:wC(t,r)}:{query:CC(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=oC(t,e.resumeToken):e.snapshotVersion.compareTo(I_.min())>0&&(n.readTime=sC(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return v_()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=mC(this.R),e.removeTarget=t,this.cr(e)},e}(mO),yO=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).R=i,o.gr=!1,o}return Object(dh.c)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(w_(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(w_(void 0!==e),t.map(function(t){return function(t,e){var n=cC(t.updateTime?t.updateTime:e);return n.isEqual(I_.min())&&(n=cC(e)),new hw(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=cC(t.commitTime);return this.listener.Tr(n,e)}return w_(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=mC(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return _C(e.R,t)})};this.cr(n)},e}(mO),bO=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return Object(dh.c)(e,t),e.prototype.br=function(){if(this.Rr)throw new f_(d_.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===d_.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new f_(d_.UNKNOWN,t.toString())})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===d_.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new f_(d_.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),_O=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(y_(e),this.Vr=!1):g_("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),vO=function(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return Object(dh.b)(s,void 0,void 0,function(){return Object(dh.d)(this,function(t){switch(t.label){case 0:return IO(this)?(g_("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(dh.b)(this,void 0,void 0,function(){var e;return Object(dh.d)(this,function(n){switch(n.label){case 0:return(e=C_(t)).$r.add(4),[4,CO(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,wO(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new _O(n,r)};function wO(t){return Object(dh.b)(this,void 0,void 0,function(){var e,n;return Object(dh.d)(this,function(r){switch(r.label){case 0:if(!IO(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function CO(t){return Object(dh.b)(this,void 0,void 0,function(){var e,n;return Object(dh.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function SO(t,e){var n=C_(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),TO(n)?kO(n):HO(n).er()&&OO(n,e))}function EO(t,e){var n=C_(t),r=HO(n);n.Or.delete(e),r.er()&&xO(n,e),0===n.Or.size&&(r.er()?r.ir():IO(n)&&n.Br.set("Unknown"))}function OO(t,e){t.qr.U(e.targetId),HO(t).mr(e)}function xO(t,e){t.qr.U(e),HO(t).yr(e)}function kO(t){t.qr=new Jw({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),HO(t).start(),t.Br.Sr()}function TO(t){return IO(t)&&!HO(t).tr()&&t.Or.size>0}function IO(t){return 0===C_(t).$r.size}function AO(t){t.qr=void 0}function RO(t){return Object(dh.b)(this,void 0,void 0,function(){return Object(dh.d)(this,function(e){return t.Or.forEach(function(e,n){OO(t,e)}),[2]})})}function DO(t,e){return Object(dh.b)(this,void 0,void 0,function(){return Object(dh.d)(this,function(n){return AO(t),TO(t)?(t.Br.Nr(e),kO(t)):t.Br.set("Unknown"),[2]})})}function PO(t,e,n){return Object(dh.b)(this,void 0,void 0,function(){var r,i,s;return Object(dh.d)(this,function(o){switch(o.label){case 0:if(t.Br.set("Online"),!(e instanceof Yw&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(dh.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(dh.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.Or.has(s=i[r])?[4,t.remoteSyncer.rejectListen(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.Or.delete(s),t.qr.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),g_("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,jO(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Gw?t.qr.X(e):e instanceof Qw?t.qr.rt(e):t.qr.et(e),n.isEqual(I_.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,kE(t.localStore)];case 8:return i=o.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(M_.EMPTY_BYTE_STRING,n.snapshotVersion)),xO(t,e);var r=new _S(n.target,e,1,n.sequenceNumber);OO(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return g_("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,jO(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function jO(t,e,n){return Object(dh.b)(this,void 0,void 0,function(){var r=this;return Object(dh.d)(this,function(i){switch(i.label){case 0:if(!uS(e))throw e;return t.$r.add(1),[4,CO(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return kE(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return Object(dh.b)(r,void 0,void 0,function(){return Object(dh.d)(this,function(e){switch(e.label){case 0:return g_("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,wO(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function NO(t,e){return e().catch(function(n){return jO(t,n,e)})}function LO(t){return Object(dh.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(dh.d)(this,function(o){switch(o.label){case 0:e=C_(t),n=KO(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return IO(t)&&t.kr.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,AE(e.localStore,r)];case 3:return null===(i=o.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=KO(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,jO(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return FO(e)&&MO(e),[2]}})})}function FO(t){return IO(t)&&!KO(t).tr()&&t.kr.length>0}function MO(t){KO(t).start()}function VO(t){return Object(dh.b)(this,void 0,void 0,function(){return Object(dh.d)(this,function(e){return KO(t).Ar(),[2]})})}function UO(t){return Object(dh.b)(this,void 0,void 0,function(){var e,n,r;return Object(dh.d)(this,function(i){for(e=KO(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function BO(t,e,n){return Object(dh.b)(this,void 0,void 0,function(){var r,i;return Object(dh.d)(this,function(s){switch(s.label){case 0:return r=t.kr.shift(),i=bS.from(r,e,n),[4,NO(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return s.sent(),[4,LO(t)];case 2:return s.sent(),[2]}})})}function zO(t,e){return Object(dh.b)(this,void 0,void 0,function(){return Object(dh.d)(this,function(n){switch(n.label){case 0:return e&&KO(t).pr?[4,function(t,e){return Object(dh.b)(this,void 0,void 0,function(){var n,r;return Object(dh.d)(this,function(i){switch(i.label){case 0:return Aw(r=e.code)&&r!==d_.ABORTED?(n=t.kr.shift(),KO(t).sr(),[4,NO(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,LO(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return FO(t)&&MO(t),[2]}})})}function qO(t,e){return Object(dh.b)(this,void 0,void 0,function(){var n;return Object(dh.d)(this,function(r){switch(r.label){case 0:return n=C_(t),e?(n.$r.delete(2),[4,wO(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,CO(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function HO(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=C_(t);return r.br(),new gO(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:RO.bind(null,t),Ri:DO.bind(null,t),_r:PO.bind(null,t)}),t.Mr.push(function(n){return Object(dh.b)(e,void 0,void 0,function(){return Object(dh.d)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),TO(t)?kO(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),AO(t),e.label=3;case 3:return[2]}})})})),t.Ur}function KO(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=C_(t);return r.br(),new yO(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:VO.bind(null,t),Ri:zO.bind(null,t),Ir:UO.bind(null,t),Tr:BO.bind(null,t)}),t.Mr.push(function(n){return Object(dh.b)(e,void 0,void 0,function(){return Object(dh.d)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,LO(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(g_("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var ZO=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new iS,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new f_(d_.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function WO(t,e){if(y_("AsyncQueue",e+": "+t),uS(t))return new f_(d_.UNAVAILABLE,e+": "+t);throw t}var $O=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||G_.comparator(e.key,n.key)}:function(t,e){return G_.comparator(t.key,e.key)},this.keyedMap=Uw(),this.sortedSet=new Dw(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),GO=function(){function t(){this.Kr=new Dw(G_.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):v_():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),QO=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,$O.emptySet(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qv(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),YO=function(){this.Wr=void 0,this.listeners=[]},XO=function(){this.queries=new sE(function(t){return Hv(t)},qv),this.onlineState="Unknown",this.Gr=new Set};function JO(t,e){return Object(dh.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(dh.d)(this,function(l){switch(l.label){case 0:if(n=C_(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new YO),!i)return[3,4];l.label=1;case 1:return l.trys.push([1,3,,4]),o=s,[4,n.onListen(r)];case 2:return o.Wr=l.sent(),[3,4];case 3:return a=l.sent(),c=WO(a,"Initialization of query '"+Kv(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.zr(n.onlineState),s.Wr&&e.Hr(s.Wr)&&rx(n),[2]}})})}function tx(t,e){return Object(dh.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(dh.d)(this,function(a){return n=C_(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function ex(t,e){for(var n=C_(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var c=0,l=a.listeners;c<l.length;c++)l[c].Hr(o)&&(r=!0);a.Wr=o}}r&&rx(n)}function nx(t,e,n){var r=C_(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function rx(t){t.Gr.forEach(function(t){t.next()})}var ix=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new QO(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var s=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),s=!0):this.eo(t,this.onlineState)&&(this.no(t),s=!0),this.Xr=t,s},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=QO.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),sx=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),ox=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return dC(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?bC(this.R,t.document,!1):hv.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return cC(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new ox(this.R),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.qn(s.metadata.name),a=0,c=s.metadata.queries;a<c.length;a++){var l=c[a],u=(e.get(l)||Hw()).add(o);e.set(l,u)}}return e},t.prototype.complete=function(){return Object(dh.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(dh.d)(this,function(s){switch(s.label){case 0:return[4,FE(this.localStore,new ox(this.R),this.documents,this.ro.id)];case 1:t=s.sent(),e=this.co(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,ME(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new _E(Object.assign({},this.progress),t))]}})})}}();var ax=function(t){this.key=t},cx=function(t){this.key=t},lx=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=Hw(),this.mutatedKeys=Hw(),this.lo=Wv(t),this.fo=new $O(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new GO,i=e?e.fo:this.fo,s=e?e.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=Nv(this.query)&&i.size===this.query.limit?i.last():null,l=Lv(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var u=i.get(t),h=Zv(n.query,e)?e:null,d=!!u&&n.mutatedKeys.has(u.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;u&&h?u.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(u,h)||(r.track({type:2,doc:h}),p=!0,(c&&n.lo(h,c)>0||l&&n.lo(h,l)<0)&&(a=!0)):!u&&h?(r.track({type:0,doc:h}),p=!0):u&&!h&&(r.track({type:1,doc:u}),p=!0,(c||l)&&(a=!0)),p&&(h?(o=o.add(h),s=f?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Nv(this.query)||Lv(this.query))for(;o.size>this.query.limit;){var u=Nv(this.query)?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{fo:o,mo:r,Nn:a,mutatedKeys:s}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var s=t.mo.jr();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return v_()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var o=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,c=a!==this.ao;return this.ao=a,0!==s.length||c?{snapshot:new QO(this.query,t.fo,i,s,t.mutatedKeys,0===a,c,!1),To:o}:{To:o}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new GO,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=Hw(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new cx(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new ax(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=Hw();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return QO.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),ux=function(t,e,n){this.query=t,this.targetId=e,this.view=n},hx=function(t){this.key=t,this.bo=!1},dx=function(){function t(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.vo={},this.Po=new sE(function(t){return Hv(t)},qv),this.Vo=new Map,this.So=new Set,this.Do=new Dw(G_.comparator),this.Co=new Map,this.No=new UE,this.xo={},this.Fo=new Map,this.ko=WS.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function fx(t,e){return Object(dh.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(dh.d)(this,function(a){switch(a.label){case 0:return n=zx(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,RE(n.localStore,Bv(e))];case 2:return s=a.sent(),o=n.sharedClientState.addLocalQueryTarget(s.targetId),[4,px(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.isPrimaryClient&&SO(n.remoteStore,s),a.label=4;case 4:return[2,r]}})})}function px(t,e,n,r){return Object(dh.b)(this,void 0,void 0,function(){var i,s,o,a,c,l;return Object(dh.d)(this,function(u){switch(u.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return Object(dh.b)(this,void 0,void 0,function(){var i,s,o;return Object(dh.d)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,PE(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s),[2,(kx(t,e.targetId,o.To),o.snapshot)]}})})}(t,e,n,r)},[4,PE(t.localStore,e,!0)];case 1:return i=u.sent(),s=new lx(e,i.Bn),o=s._o(i.documents),a=$w.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=s.applyChanges(o,t.isPrimaryClient,a),kx(t,n,c.To),l=new ux(e,n,s),[2,(t.Po.set(e,l),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}})})}function mx(t,e){return Object(dh.b)(this,void 0,void 0,function(){var n,r,i;return Object(dh.d)(this,function(s){switch(s.label){case 0:return n=C_(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!qv(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,DE(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),EO(n.remoteStore,r.targetId),Ox(n,r.targetId)}).catch(XS)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Ox(n,r.targetId),[4,DE(n.localStore,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function gx(t,e,n){return Object(dh.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(dh.d)(this,function(a){switch(a.label){case 0:r=qx(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=C_(t),i=T_.now(),s=e.reduce(function(t,e){return t.add(e.key)},Hw());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,s).next(function(s){n=s;for(var o=[],a=0,c=e;a<c.length;a++){var l=c[a],u=yw(l,n.get(l.key));null!=u&&o.push(new ww(l.key,u,uv(u.toProto().mapValue),dw.exists(!0)))}return r._n.addMutationBatch(t,i,o,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Dw(O_)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Ax(r,i.changes)];case 3:return a.sent(),[4,LO(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=WO(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function yx(t,e){return Object(dh.b)(this,void 0,void 0,function(){var n,r;return Object(dh.d)(this,function(i){switch(i.label){case 0:n=C_(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,TE(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(w_(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?w_(r.bo):t.removedDocuments.size>0&&(w_(r.bo),r.bo=!1))}),[4,Ax(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,XS(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function bx(t,e,n){var r=C_(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=C_(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].zr(e)&&(r=!0)}),r&&rx(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _x(t,e,n){return Object(dh.b)(this,void 0,void 0,function(){var r,i,s,o,a,c;return Object(dh.d)(this,function(l){switch(l.label){case 0:return(r=C_(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(s=i&&i.key)?(o=(o=new Dw(G_.comparator)).insert(s,hv.newNoDocument(s,I_.min())),a=Hw().add(s),c=new Ww(I_.min(),new Map,new Nw(O_),o,a),[4,yx(r,c)]):[3,2];case 1:return l.sent(),r.Do=r.Do.remove(s),r.Co.delete(e),Ix(r),[3,4];case 2:return[4,DE(r.localStore,e,!1).then(function(){return Ox(r,e,n)}).catch(XS)];case 3:l.sent(),l.label=4;case 4:return[2]}})})}function vx(t,e){return Object(dh.b)(this,void 0,void 0,function(){var n,r,i;return Object(dh.d)(this,function(s){switch(s.label){case 0:n=C_(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,xE(n.localStore,e)];case 2:return i=s.sent(),Ex(n,r,null),Sx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Ax(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,XS(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function wx(t,e,n){return Object(dh.b)(this,void 0,void 0,function(){var r,i;return Object(dh.d)(this,function(s){switch(s.label){case 0:r=C_(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=C_(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return w_(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=s.sent(),Ex(r,e,n),Sx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Ax(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,XS(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Cx(t,e){return Object(dh.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(dh.d)(this,function(a){switch(a.label){case 0:IO((n=C_(t)).remoteStore)||g_("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=C_(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return s=a.sent(),o=WO(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function Sx(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Ex(t,e,n){var r=C_(t),i=r.xo[r.currentUser.toKey()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Ox(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var s=i[r];t.Po.delete(s),n&&t.vo.Mo(s,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||xx(t,e)})}function xx(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(EO(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Ix(t))}function kx(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof ax?(t.No.addReference(s.key,e),Tx(t,s)):s instanceof cx?(g_("SyncEngine","Document no longer in limbo: "+s.key),t.No.removeReference(s.key,e),t.No.containsKey(s.key)||xx(t,s.key)):v_()}}function Tx(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(g_("SyncEngine","New document in limbo: "+n),t.So.add(r),Ix(t))}function Ix(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new G_(j_.fromString(e)),r=t.ko.next();t.Co.set(r,new hx(n)),t.Do=t.Do.insert(n,r),SO(t.remoteStore,new _S(Bv(jv(n.path)),r,2,h_.o))}}function Ax(t,e,n){return Object(dh.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(dh.d)(this,function(a){switch(a.label){case 0:return r=C_(t),i=[],s=[],o=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){o.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=wE.Pn(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return Object(dh.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,l;return Object(dh.d)(this,function(u){switch(u.label){case 0:n=C_(t),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return sS.forEach(e,function(e){return sS.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return sS.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return u.sent(),[3,4];case 3:if(!uS(r=u.sent()))throw r;return g_("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(c=n.Fn.get(a),l=c.withLastLimboFreeSnapshotVersion(c.snapshotVersion),n.Fn=n.Fn.insert(a,l));return[2]}})})}(r.localStore,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Rx(t,e){return Object(dh.b)(this,void 0,void 0,function(){var n,r;return Object(dh.d)(this,function(i){switch(i.label){case 0:return(n=C_(t)).currentUser.isEqual(e)?[3,3]:(g_("SyncEngine","User change. New user:",e.toKey()),[4,OE(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new f_(d_.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Ax(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Dx(t,e){var n=C_(t),r=n.Co.get(e);if(r&&r.bo)return Hw().add(r.key);var i=Hw(),s=n.Vo.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var c=n.Po.get(a[o]);i=i.unionWith(c.view.wo)}return i}function Px(t,e){return Object(dh.b)(this,void 0,void 0,function(){var n,r,i;return Object(dh.d)(this,function(s){switch(s.label){case 0:return[4,PE((n=C_(t)).localStore,e.query,!0)];case 1:return r=s.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&kx(n,e.targetId,i.To),i)]}})})}function jx(t){return Object(dh.b)(this,void 0,void 0,function(){var e;return Object(dh.d)(this,function(n){return[2,NE((e=C_(t)).localStore).then(function(t){return Ax(e,t)})]})})}function Nx(t,e,n,r){return Object(dh.b)(this,void 0,void 0,function(){var i,s;return Object(dh.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=C_(t),r=C_(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):sS.resolve(null)})})}((i=C_(t)).localStore,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,LO(i.remoteStore)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ex(i,e,r||null),Sx(i,e),function(t,e){C_(C_(t)._n).Gt(e)}(i.localStore,e)):v_(),o.label=4;case 4:return[4,Ax(i,s)];case 5:return o.sent(),[3,7];case 6:g_("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function Lx(t,e){return Object(dh.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c;return Object(dh.d)(this,function(l){switch(l.label){case 0:return zx(n=C_(t)),qx(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Fx(n,r.toArray())]);case 1:return i=l.sent(),n.Oo=!0,[4,qO(n.remoteStore,!0)];case 2:for(l.sent(),s=0,o=i;s<o.length;s++)SO(n.remoteStore,o[s]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],c=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):c=c.then(function(){return Ox(n,e),DE(n.localStore,e,!0)}),EO(n.remoteStore,e)}),[4,c]);case 4:return l.sent(),[4,Fx(n,a)];case 5:return l.sent(),function(t){var e=C_(t);e.Co.forEach(function(t,n){EO(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Dw(G_.comparator)}(n),n.Oo=!1,[4,qO(n.remoteStore,!1)];case 6:l.sent(),l.label=7;case 7:return[2]}})})}function Fx(t,e,n){return Object(dh.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,c,l,u,h,d,f,p;return Object(dh.d)(this,function(m){switch(m.label){case 0:n=C_(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(c=void 0,(l=n.Vo.get(a=o[s]))&&0!==l.length?[4,RE(n.localStore,Bv(l[0]))]:[3,7]):[3,13];case 2:c=m.sent(),u=0,h=l,m.label=3;case 3:return u<h.length?(d=n.Po.get(h[u]),[4,Px(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return u++,[3,3];case 6:return[3,11];case 7:return[4,jE(n.localStore,a)];case 8:return p=m.sent(),[4,RE(n.localStore,p)];case 9:return c=m.sent(),[4,px(n,Mx(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(c),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function Mx(t){return Pv(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Vx(t){var e=C_(t);return C_(C_(e.localStore).persistence).fn()}function Ux(t,e,n,r){return Object(dh.b)(this,void 0,void 0,function(){var i,s,o;return Object(dh.d)(this,function(a){switch(a.label){case 0:return(i=C_(t)).Oo?(g_("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,NE(i.localStore)];case 3:return s=a.sent(),o=Ww.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Ax(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,DE(i.localStore,e,!0)];case 6:return a.sent(),Ox(i,e,r),[3,8];case 7:v_(),a.label=8;case 8:return[2]}})})}function Bx(t,e,n){return Object(dh.b)(this,void 0,void 0,function(){var r,i,s,o,a,c,l,u,h;return Object(dh.d)(this,function(d){switch(d.label){case 0:if(!(r=zx(t)).Oo)return[3,10];i=0,s=e,d.label=1;case 1:return i<s.length?r.Vo.has(o=s[i])?(g_("SyncEngine","Adding an already active target "+o),[3,5]):[4,jE(r.localStore,o)]:[3,6];case 2:return a=d.sent(),[4,RE(r.localStore,a)];case 3:return c=d.sent(),[4,px(r,Mx(a),c.targetId,!1)];case 4:d.sent(),SO(r.remoteStore,c),d.label=5;case 5:return i++,[3,1];case 6:l=function(t){return Object(dh.d)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,DE(r.localStore,t,!1).then(function(){EO(r.remoteStore,t),Ox(r,t)}).catch(XS)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},u=0,h=n,d.label=7;case 7:return u<h.length?[5,l(h[u])]:[3,10];case 8:d.sent(),d.label=9;case 9:return u++,[3,7];case 10:return[2]}})})}function zx(t){var e=C_(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_x.bind(null,e),e.vo._r=ex.bind(null,e.eventManager),e.vo.Mo=nx.bind(null,e.eventManager),e}function qx(t){var e=C_(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wx.bind(null,e),e}var Hx=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(dh.b)(this,void 0,void 0,function(){return Object(dh.d)(this,function(e){switch(e.label){case 0:return this.R=fO(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return EE(this.persistence,new CE,t.initialUser,this.R)},t.prototype.qo=function(t){return new ZE($E.bs,this.R)},t.prototype.Bo=function(t){return new sO},t.prototype.terminate=function(){return Object(dh.b)(this,void 0,void 0,function(){return Object(dh.d)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),Kx=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(dh.c)(e,t),e.prototype.initialize=function(e){return Object(dh.b)(this,void 0,void 0,function(){return Object(dh.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,LE(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,qx(this.Ko.syncEngine)];case 4:return n.sent(),[4,LO(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return EE(this.persistence,new CE,t.initialUser,this.R)},e.prototype.Uo=function(t){return new eE(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=bE(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?VS.withCacheSize(this.cacheSizeBytes):VS.DEFAULT;return new mE(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,hO(),dO(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new sO},e}(Hx),Zx=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(dh.c)(e,t),e.prototype.initialize=function(e){return Object(dh.b)(this,void 0,void 0,function(){var n,r=this;return Object(dh.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof iO?(this.sharedClientState.syncEngine={ui:Nx.bind(null,n),ai:Ux.bind(null,n),hi:Bx.bind(null,n),fn:Vx.bind(null,n),ci:jx.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return Object(dh.b)(r,void 0,void 0,function(){return Object(dh.d)(this,function(e){switch(e.label){case 0:return[4,Lx(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=hO();if(!iO.yt(e))throw new f_(d_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=bE(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new iO(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(Kx),Wx=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(dh.b)(this,void 0,void 0,function(){var n=this;return Object(dh.d)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return bx(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Rx.bind(null,this.syncEngine),[4,qO(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new XO},t.prototype.createDatastore=function(t){var e=fO(t.databaseInfo.databaseId),n=new uO(t.databaseInfo);return function(t,e,n){return new bO(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,s,o=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return bx(o.syncEngine,t,0)},s=aO.yt()?new aO:new oO,new vO(e,n,r,i,s)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,s,o){var a=new dx(t,e,n,r,i,s);return o&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return Object(dh.b)(this,void 0,void 0,function(){var e;return Object(dh.d)(this,function(n){switch(n.label){case 0:return e=C_(t),g_("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,CO(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),$x=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Gx=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new iS,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return Object(dh.b)(this,void 0,void 0,function(){return Object(dh.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return Object(dh.b)(this,void 0,void 0,function(){return Object(dh.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return Object(dh.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(dh.d)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new sx(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return Object(dh.b)(this,void 0,void 0,function(){var t,e;return Object(dh.d)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return Object(dh.b)(this,void 0,void 0,function(){var e;return Object(dh.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return Object(dh.b)(this,void 0,void 0,function(){var t,e;return Object(dh.d)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return Object(dh.b)(this,void 0,void 0,function(){var e,n=this;return Object(dh.d)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new f_(d_.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(dh.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(dh.d)(this,function(c){switch(c.label){case 0:return n=C_(t),r=mC(n.R)+"/documents",i={documents:e.map(function(t){return hC(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return s=c.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){w_(!!e.found);var n=dC(t,e.found.name),r=cC(e.found.updateTime),i=new lv({mapValue:{fields:e.found.fields}});return hv.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){w_(!!e.missing),w_(!!e.readTime);var n=dC(t,e.missing),r=cC(e.readTime);return hv.newNoDocument(n,r)}(t,e):v_()}(n.R,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());w_(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new kw(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return Object(dh.b)(this,void 0,void 0,function(){var t,e=this;return Object(dh.d)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=G_.fromPath(n);e.mutations.push(new Tw(r,e.precondition(r)))}),[4,function(t,e){return Object(dh.b)(this,void 0,void 0,function(){var n,r,i;return Object(dh.d)(this,function(s){switch(s.label){case 0:return n=C_(t),r=mC(n.R)+"/documents",i={writes:e.map(function(t){return _C(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw v_();e=I_.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new f_(d_.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?dw.updateTime(e):dw.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(I_.min()))throw new f_(d_.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return dw.updateTime(e)}return dw.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),Qx=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new pO(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return Object(dh.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(dh.d)(this,function(r){return t=new Gx(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!Z_(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Aw(e)}return!1},t}(),Yx=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=GE.UNAUTHENTICATED,this.clientId=E_.u(),this.credentialListener=function(){},this.receivedInitialUser=new iS,this.credentials.setChangeListener(function(t){g_("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return Object(dh.b)(this,void 0,void 0,function(){return Object(dh.d)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new f_(d_.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new iS;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return Object(dh.b)(t,void 0,void 0,function(){var t,n;return Object(dh.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=WO(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function Xx(t,e){return Object(dh.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(dh.d)(this,function(s){switch(s.label){case 0:return t.asyncQueue.verifyOperationInProgress(),g_("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return Object(dh.b)(i,void 0,void 0,function(){return Object(dh.d)(this,function(t){switch(t.label){case 0:return[4,OE(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function Jx(t,e){return Object(dh.b)(this,void 0,void 0,function(){var n,r;return Object(dh.d)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,tk(t)];case 1:return n=i.sent(),g_("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return Object(dh.b)(this,void 0,void 0,function(){var n,r;return Object(dh.d)(this,function(i){switch(i.label){case 0:return(n=C_(t)).asyncQueue.verifyOperationInProgress(),g_("RemoteStore","RemoteStore received new credentials"),r=IO(n),n.$r.add(3),[4,CO(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,wO(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function tk(t){return Object(dh.b)(this,void 0,void 0,function(){return Object(dh.d)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(g_("FirestoreClient","Using default OfflineComponentProvider"),[4,Xx(t,new Hx)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function ek(t){return Object(dh.b)(this,void 0,void 0,function(){return Object(dh.d)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(g_("FirestoreClient","Using default OnlineComponentProvider"),[4,Jx(t,new Wx)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function nk(t){return tk(t).then(function(t){return t.persistence})}function rk(t){return tk(t).then(function(t){return t.localStore})}function ik(t){return ek(t).then(function(t){return t.remoteStore})}function sk(t){return ek(t).then(function(t){return t.syncEngine})}function ok(t){return Object(dh.b)(this,void 0,void 0,function(){var e,n;return Object(dh.d)(this,function(r){switch(r.label){case 0:return[4,ek(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=fx.bind(null,e.syncEngine),n.onUnlisten=mx.bind(null,e.syncEngine),n)]}})})}function ak(t,e,n){var r=this;void 0===n&&(n={});var i=new iS;return t.asyncQueue.enqueueAndForget(function(){return Object(dh.b)(r,void 0,void 0,function(){var r;return Object(dh.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new $x({next:function(s){e.enqueueAndForget(function(){return tx(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new f_(d_.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new f_(d_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new ix(jv(n.path),s,{includeMetadataChanges:!0,so:!0});return JO(t,o)},[4,ok(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function ck(t,e,n){var r=this;void 0===n&&(n={});var i=new iS;return t.asyncQueue.enqueueAndForget(function(){return Object(dh.b)(r,void 0,void 0,function(){var r;return Object(dh.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new $x({next:function(n){e.enqueueAndForget(function(){return tx(t,o)}),n.fromCache&&"server"===r.source?i.reject(new f_(d_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new ix(n,s,{includeMetadataChanges:!0,so:!0});return JO(t,o)},[4,ok(t)];case 1:return[2,r.apply(void 0,[s.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var lk=function(t,e,n,r,i,s,o){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o},uk=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),hk=new Map,dk=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},fk=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(GE.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),pk=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),mk=function(){function t(t){var e=this;this.oc=null,this.currentUser=GE.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(g_("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(w_("string"==typeof n.accessToken),new dk(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return w_(null===t||"string"==typeof t),new GE(t)},t}(),gk=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=GE.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),yk=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new gk(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(GE.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function bk(t,e,n){if(!n)throw new f_(d_.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function _k(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new f_(d_.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function vk(t,e,n,r){if(!0===e&&!0===r)throw new f_(d_.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function wk(t){if(!G_.isDocumentKey(t))throw new f_(d_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Ck(t){if(G_.isDocumentKey(t))throw new f_(d_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Sk(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":v_()}function Ek(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new f_(d_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Sk(t);throw new f_(d_.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Ok(t,e){if(e<=0)throw new f_(d_.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var xk=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new f_(d_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new f_(d_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,vk("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),kk=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xk({}),this._settingsFrozen=!1,t instanceof uk?(this._databaseId=t,this._credentials=new fk):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new f_(d_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uk(t.options.projectId)}(t),this._credentials=new mk(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new f_(d_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new f_(d_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xk(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new fk;switch(t.type){case"gapi":var e=t.client;return w_(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new yk(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new f_(d_.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=hk.get(this))&&(g_("ComponentProvider","Removing Datastore"),hk.delete(this),t.terminate()),Promise.resolve();var t},t}(),Tk=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Ak(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Ik=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Ak=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,jv(r))||this)._path=r,i.type="collection",i}return Object(dh.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Tk(this.firestore,null,new G_(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Ik);function Rk(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(cm.k)(t),bk("collection","path",e),t instanceof kk)return Ck(n=j_.fromString.apply(j_,Object(dh.f)([e],r))),new Ak(t,null,n);if(!(t instanceof Tk||t instanceof Ak))throw new f_(d_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ck(n=j_.fromString.apply(j_,Object(dh.f)([t.path],r)).child(j_.fromString(e))),new Ak(t.firestore,null,n)}function Dk(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=Object(cm.k)(t),1===arguments.length&&(e=E_.u()),bk("doc","path",e),t instanceof kk)return wk(n=j_.fromString.apply(j_,Object(dh.f)([e],r))),new Tk(t,null,new G_(n));if(!(t instanceof Tk||t instanceof Ak))throw new f_(d_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return wk(n=t._path.child(j_.fromString.apply(j_,Object(dh.f)([e],r)))),new Tk(t.firestore,t instanceof Ak?t.converter:null,new G_(n))}function Pk(t,e){return t=Object(cm.k)(t),e=Object(cm.k)(e),(t instanceof Tk||t instanceof Ak)&&(e instanceof Tk||e instanceof Ak)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function jk(t,e){return t=Object(cm.k)(t),e=Object(cm.k)(e),t instanceof Ik&&e instanceof Ik&&t.firestore===e.firestore&&qv(t._query,e._query)&&t.converter===e.converter}var Nk=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new pO(this,"async_queue_retry"),this.Ec=function(){var e=dO();e&&g_("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=dO();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=dO();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return Object(dh.b)(this,void 0,void 0,function(){var t,e=this;return Object(dh.d)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!uS(t=n.sent()))throw t;return g_("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,y_("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=ZO.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&v_()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return Object(dh.b)(this,void 0,void 0,function(){var t;return Object(dh.d)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function Lk(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new iS,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Fk=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Nk,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return Object(dh.c)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Vk(this),this._firestoreClient.terminate()},e}(kk);function Mk(t){return t._firestoreClient||Vk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Vk(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new lk(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Yx(t._credentials,t._queue,r)}function Uk(t,e,n){var r=this,i=new iS;return t.asyncQueue.enqueue(function(){return Object(dh.b)(r,void 0,void 0,function(){var r;return Object(dh.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,Xx(t,n)];case 1:return s.sent(),[4,Jx(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===d_.FAILED_PRECONDITION||t.code===d_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function Bk(t){if(t._initialized||t._terminated)throw new f_(d_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var zk=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new f_(d_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new L_(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),qk=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(M_.fromBase64String(e))}catch(e){throw new f_(d_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(M_.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),Hk=function(t){this._methodName=t},Kk=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new f_(d_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new f_(d_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return O_(this._lat,t._lat)||O_(this._long,t._long)},t}(),Zk=/^__.*__$/,Wk=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new ww(t,this.data,this.fieldMask,e,this.fieldTransforms):new vw(t,this.data,e,this.fieldTransforms)},t}(),$k=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new ww(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function Gk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw v_()}}var Qk=function(){function t(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return gT(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(Gk(this.Dc)&&Zk.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),Yk=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||fO(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new Qk({Dc:t,methodName:e,Lc:n,path:L_.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function Xk(t){var e=t._freezeSettings(),n=fO(t._databaseId);return new Yk(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Jk(t,e,n,r,i,s){void 0===s&&(s={});var o=t.Bc(s.merge||s.mergeFields?2:0,e,n,i);dT("Data must be an object, but it was:",o,r);var a,c,l=uT(r,o);if(s.merge)a=new F_(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){for(var u=[],h=0,d=s.mergeFields;h<d.length;h++){var f=fT(e,d[h],n);if(!o.contains(f))throw new f_(d_.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");yT(u,f)||u.push(f)}a=new F_(u),c=o.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,c=o.fieldTransforms;return new Wk(new lv(l),a,c)}var tT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dh.c)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Hk);function eT(t,e,n){return new Qk({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var nT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dh.c)(e,t),e.prototype._toFieldTransform=function(t){return new uw(t.path,new nw)},e.prototype.isEqual=function(t){return t instanceof e},e}(Hk),rT=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(dh.c)(e,t),e.prototype._toFieldTransform=function(t){var e=eT(this,t,!0),n=this.qc.map(function(t){return lT(t,e)}),r=new rw(n);return new uw(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Hk),iT=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return Object(dh.c)(e,t),e.prototype._toFieldTransform=function(t){var e=eT(this,t,!0),n=this.qc.map(function(t){return lT(t,e)}),r=new sw(n);return new uw(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Hk),sT=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return Object(dh.c)(e,t),e.prototype._toFieldTransform=function(t){var e=new aw(t.R,Yv(t.R,this.Uc));return new uw(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Hk);function oT(t,e,n,r){var i=t.Bc(1,e,n);dT("Data must be an object, but it was:",i,r);var s=[],o=lv.empty();R_(r,function(t,r){var a=mT(e,t,n);r=Object(cm.k)(r);var c=i.kc(a);if(r instanceof tT)s.push(a);else{var l=lT(r,c);null!=l&&(s.push(a),o.set(a,l))}});var a=new F_(s);return new $k(o,a,i.fieldTransforms)}function aT(t,e,n,r,i,s){var o=t.Bc(1,e,n),a=[fT(e,r,n)],c=[i];if(s.length%2!=0)throw new f_(d_.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<s.length;l+=2)a.push(fT(e,s[l])),c.push(s[l+1]);for(var u=[],h=lv.empty(),d=a.length-1;d>=0;--d)if(!yT(u,a[d])){var f=a[d],p=c[d];p=Object(cm.k)(p);var m=o.kc(f);if(p instanceof tT)u.push(f);else{var g=lT(p,m);null!=g&&(u.push(f),h.set(f,g))}}var y=new F_(u);return new $k(h,y,o.fieldTransforms)}function cT(t,e,n,r){return void 0===r&&(r=!1),lT(n,t.Bc(r?4:3,e))}function lT(t,e){if(hT(t=Object(cm.k)(t)))return dT("Unsupported field value:",e,t),uT(t,e);if(t instanceof Hk)return function(t,e){if(!Gk(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=lT(s[i],e.Oc(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=Object(cm.k)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Yv(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=T_.fromDate(t);return{timestampValue:sC(e.R,n)}}if(t instanceof T_)return n=new T_(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:sC(e.R,n)};if(t instanceof Kk)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof qk)return{bytesValue:oC(e.R,t._byteString)};if(t instanceof Tk){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:lC(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+Sk(t))}(t,e)}function uT(t,e){var n={};return D_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):R_(t,function(t,r){var i=lT(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function hT(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof T_||t instanceof Kk||t instanceof qk||t instanceof Tk||t instanceof Hk)}function dT(t,e,n){if(!hT(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Sk(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function fT(t,e,n){if((e=Object(cm.k)(e))instanceof zk)return e._internalPath;if("string"==typeof e)return mT(t,e);throw gT("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var pT=new RegExp("[~\\*/\\[\\]]");function mT(t,e,n){if(e.search(pT)>=0)throw gT("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(zk.bind.apply(zk,Object(dh.f)([void 0],e.split(".")))))._internalPath}catch(r){throw gT("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function gT(t,e,n,r,i){var s=r&&!r.isEmpty(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var c="";return(s||o)&&(c+=" (found",s&&(c+=" in field "+r),o&&(c+=" in document "+i),c+=")"),new f_(d_.INVALID_ARGUMENT,(a+=". ")+t+c)}function yT(t,e){return t.some(function(t){return t.isEqual(e)})}var bT=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Tk(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new _T(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(vT("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),_T=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dh.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(bT);function vT(t,e){return"string"==typeof e?mT(t,e):e instanceof zk?e._internalPath:e._delegate._internalPath}var wT=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),CT=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this)._firestore=e,a._firestoreImpl=e,a.metadata=s,a}return Object(dh.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new ST(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(vT("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(bT),ST=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dh.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(CT),ET=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new wT(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new ST(n._firestore,n._userDataWriter,r.key,r,new wT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new f_(d_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new ST(t._firestore,t._userDataWriter,e.doc.key,e.doc,new wT(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new ST(t._firestore,t._userDataWriter,e.doc.key,e.doc,new wT(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:OT(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function OT(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return v_()}}function xT(t,e){return t instanceof CT&&e instanceof CT?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof ET&&e instanceof ET&&t._firestore===e._firestore&&jk(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function kT(t){if(Lv(t)&&0===t.explicitOrderBy.length)throw new f_(d_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var TT=function(){};function IT(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s._apply(t)}return t}var AT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return Object(dh.c)(e,t),e.prototype._apply=function(t){var e=Xk(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new f_(d_.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){FT(o,s);for(var c=[],l=0,u=o;l<u.length;l++)c.push(LT(r,t,u[l]));a={arrayValue:{values:c}}}else a=LT(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||FT(o,s),a=cT(n,"where",o,"in"===s||"not-in"===s);var h=yv.create(i,s,a);return function(t,e){if(e.g()){var n=Mv(t);if(null!==n&&!n.isEqual(e.field))throw new f_(d_.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Fv(t);null!==r&&MT(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new f_(d_.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Ik(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Dv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(TT),RT=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return Object(dh.c)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new f_(d_.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new f_(d_.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Tv(e,n);return function(t,e){if(null===Fv(t)){var n=Mv(t);null!==n&&MT(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Ik(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Dv(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(TT),DT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return Object(dh.c)(e,t),e.prototype._apply=function(t){return new Ik(t.firestore,t.converter,zv(t._query,this.Gc,this.zc))},e}(TT),PT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(dh.c)(e,t),e.prototype._apply=function(t){var e=NT(t,this.type,this.Hc,this.Jc);return new Ik(t.firestore,t.converter,function(t,e){return new Dv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(TT),jT=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return Object(dh.c)(e,t),e.prototype._apply=function(t){var e=NT(t,this.type,this.Hc,this.Jc);return new Ik(t.firestore,t.converter,function(t,e){return new Dv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(TT);function NT(t,e,n,r){if(n[0]=Object(cm.k)(n[0]),n[0]instanceof bT)return function(t,e,n,r,i){if(!r)throw new f_(d_.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Uv(t);o<a.length;o++){var c=a[o];if(c.field.isKeyField())s.push(rv(e,r.key));else{var l=r.data.field(c.field);if(q_(l))throw new f_(d_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var u=c.field.canonicalString();throw new f_(d_.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}s.push(l)}}return new xv(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=Xk(t.firestore);return function(t,e,n,r,i,s){var o=t.explicitOrderBy;if(i.length>o.length)throw new f_(d_.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],c=0;c<i.length;c++){var l=i[c];if(o[c].field.isKeyField()){if("string"!=typeof l)throw new f_(d_.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof l);if(!Vv(t)&&-1!==l.indexOf("/"))throw new f_(d_.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var u=t.path.child(j_.fromString(l));if(!G_.isDocumentKey(u))throw new f_(d_.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+u+"' is not because it contains an odd number of segments.");var h=new G_(u);a.push(rv(e,h))}else{var d=cT(n,r,l);a.push(d)}}return new xv(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}function LT(t,e,n){if("string"==typeof(n=Object(cm.k)(n))){if(""===n)throw new f_(d_.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vv(e)&&-1!==n.indexOf("/"))throw new f_(d_.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(j_.fromString(n));if(!G_.isDocumentKey(r))throw new f_(d_.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return rv(t,new G_(r))}if(n instanceof Tk)return rv(t,n._key);throw new f_(d_.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Sk(n)+".")}function FT(t,e){if(!Array.isArray(t)||0===t.length)throw new f_(d_.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new f_(d_.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function MT(t,e,n){if(!n.isEqual(e))throw new f_(d_.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var VT=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),Q_(t)){case 0:return null;case 1:return t.booleanValue;case 2:return B_(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(z_(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw v_()}},t.prototype.convertObject=function(t,e){var n=this,r={};return R_(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new Kk(B_(t.latitude),B_(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=H_(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(K_(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=U_(t);return new T_(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=j_.fromString(t);w_(jC(n));var r=new uk(n.get(1),n.get(3)),i=new G_(n.popFirst(5));return r.isEqual(e)||y_("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function UT(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var BT=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(dh.c)(e,t),e.prototype.convertBytes=function(t){return new qk(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Tk(this.firestore,null,e)},e}(VT),zT=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Xk(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=qT(t,this._firestore),i=UT(r.converter,e,n),s=Jk(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,dw.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var s,o=qT(t,this._firestore);return s="string"==typeof(e=Object(cm.k)(e))||e instanceof zk?aT(this._dataReader,"WriteBatch.update",o._key,e,n,r):oT(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(s.toMutation(o._key,dw.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=qT(t,this._firestore);return this._mutations=this._mutations.concat(new kw(e._key,dw.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new f_(d_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function qT(t,e){if((t=Object(cm.k)(t)).firestore!==e)throw new f_(d_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var HT=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(dh.c)(e,t),e.prototype.convertBytes=function(t){return new qk(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Tk(this.firestore,null,e)},e}(VT);function KT(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Ek(t,Tk);var s=Ek(t.firestore,Fk),o=Xk(s);return WT(s,[("string"==typeof(e=Object(cm.k)(e))||e instanceof zk?aT(o,"updateDoc",t._key,e,n,r):oT(o,"updateDoc",t._key,e)).toMutation(t._key,dw.exists(!0))])}function ZT(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t=Object(cm.k)(t);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Lk(i[a])||(o=i[a],a++);var c,l,u,h={includeMetadataChanges:o.includeMetadataChanges};if(Lk(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Tk)l=Ek(t.firestore,Fk),u=jv(t._key.path),c={next:function(e){i[a]&&i[a]($T(l,t,e))},error:i[a+1],complete:i[a+2]};else{var f=Ek(t,Ik);l=Ek(f.firestore,Fk),u=f._query;var p=new HT(l);c={next:function(t){i[a]&&i[a](new ET(l,p,f,t))},error:i[a+1],complete:i[a+2]},kT(t._query)}return function(t,e,n,r){var i=this,s=new $x(r),o=new ix(e,s,n);return t.asyncQueue.enqueueAndForget(function(){return Object(dh.b)(i,void 0,void 0,function(){var e;return Object(dh.d)(this,function(n){switch(n.label){case 0:return e=JO,[4,ok(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(dh.b)(i,void 0,void 0,function(){var e;return Object(dh.d)(this,function(n){switch(n.label){case 0:return e=tx,[4,ok(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(Mk(l),u,h,c)}function WT(t,e){return function(t,e){var n=this,r=new iS;return t.asyncQueue.enqueueAndForget(function(){return Object(dh.b)(n,void 0,void 0,function(){var n;return Object(dh.d)(this,function(i){switch(i.label){case 0:return n=gx,[4,sk(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(Mk(t),e)}function $T(t,e,n){var r=n.docs.get(e._key),i=new HT(t);return new CT(t,i,e._key,r,new wT(n.hasPendingWrites,n.fromCache),e.converter)}var GT=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return Object(dh.c)(e,t),e.prototype.get=function(e){var n=this,r=qT(e,this._firestore),i=new HT(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new CT(n._firestore,i,r._key,t._document,new wT(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=Xk(t)}return t.prototype.get=function(t){var e=this,n=qT(t,this._firestore),r=new BT(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return v_();var i=t[0];if(i.isFoundDocument())return new bT(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new bT(e._firestore,r,n._key,null,n.converter);throw v_()})},t.prototype.set=function(t,e,n){var r=qT(t,this._firestore),i=UT(r.converter,e,n),s=Jk(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=qT(t,this._firestore);return s="string"==typeof(e=Object(cm.k)(e))||e instanceof zk?aT(this._dataReader,"Transaction.update",o._key,e,n,r):oT(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,s),this},t.prototype.delete=function(t){var e=qT(t,this._firestore);return this._transaction.delete(e._key),this},t}());function QT(){if("undefined"==typeof Uint8Array)throw new f_(d_.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function YT(){if("undefined"==typeof atob)throw new f_(d_.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var XT=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return YT(),new t(qk.fromBase64String(e))},t.fromUint8Array=function(e){return QT(),new t(qk.fromUint8Array(e))},t.prototype.toBase64=function(){return YT(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return QT(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),JT=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Bk(t=Ek(t,Fk));var n=Mk(t),r=t._freezeSettings(),i=new Wx;return Uk(n,i,new Kx(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Bk(t=Ek(t,Fk));var e=Mk(t),n=t._freezeSettings(),r=new Wx;return Uk(e,r,new Zx(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new f_(d_.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new iS;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return Object(dh.b)(e,void 0,void 0,function(){var e;return Object(dh.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(dh.b)(this,void 0,void 0,function(){return Object(dh.d)(this,function(e){switch(e.label){case 0:return aS.yt()?[4,aS.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(bE(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),tI=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof uk||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=Ek(t,kk))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&b_("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s=Object(cm.g)(r.mockUserToken),o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new f_(d_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new pk(new dk(s,new GE(o)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(dh.b)(e,void 0,void 0,function(){var e,n;return Object(dh.d)(this,function(r){switch(r.label){case 0:return[4,nk(t)];case 1:return e=r.sent(),[4,ik(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=C_(t);return e.$r.delete(0),wO(e)}(n))]}})})})}(Mk(Ek(this._delegate,Fk)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return Object(dh.b)(e,void 0,void 0,function(){var e,n;return Object(dh.d)(this,function(r){switch(r.label){case 0:return[4,nk(t)];case 1:return e=r.sent(),[4,ik(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return Object(dh.b)(this,void 0,void 0,function(){var e;return Object(dh.d)(this,function(n){switch(n.label){case 0:return(e=C_(t)).$r.add(0),[4,CO(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(Mk(Ek(this._delegate,Fk)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&vk("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new iS;return t.asyncQueue.enqueueAndForget(function(){return Object(dh.b)(e,void 0,void 0,function(){var e;return Object(dh.d)(this,function(r){switch(r.label){case 0:return e=Cx,[4,sk(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(Mk(Ek(this._delegate,Fk)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new $x(e);return t.asyncQueue.enqueueAndForget(function(){return Object(dh.b)(n,void 0,void 0,function(){var e;return Object(dh.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){C_(t).Gr.add(e),e.next()},[4,ok(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return Object(dh.b)(n,void 0,void 0,function(){var e;return Object(dh.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){C_(t).Gr.delete(e)},[4,ok(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(Mk(t=Ek(t,Fk)),Lk(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new f_(d_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new pI(this,Rk(this._delegate,t))}catch(t){throw oI(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new sI(this,Dk(this._delegate,t))}catch(t){throw oI(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new hI(this,function(t,e){if(t=Ek(t,kk),bk("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new f_(d_.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Ik(t,null,function(t){return new Dv(j_.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw oI(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new iS;return t.asyncQueue.enqueueAndForget(function(){return Object(dh.b)(n,void 0,void 0,function(){var n;return Object(dh.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return ek(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new Qx(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(Mk(t),function(n){return e(new GT(t,n))})}(this._delegate,function(n){return t(new nI(e,n))})},t.prototype.batch=function(){var t=this;return Mk(this._delegate),new rI(new zT(this._delegate,function(e){return WT(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new f_(d_.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new f_(d_.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),eI=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(dh.c)(e,t),e.prototype.convertBytes=function(t){return new XT(new qk(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return sI.Zc(e,this.firestore,null)},e}(VT),nI=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new eI(t)}return t.prototype.get=function(t){var e=this,n=mI(t);return this._delegate.get(n).then(function(t){return new lI(e._firestore,new CT(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=mI(t);return n?(_k("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=mI(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(dh.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=mI(t);return this._delegate.delete(e),this},t}(),rI=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=mI(t);return n?(_k("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=mI(t);return 2===arguments.length?this._delegate.update(o,e):(r=this._delegate).update.apply(r,Object(dh.f)([o,e,n],i)),this},t.prototype.delete=function(t){var e=mI(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),iI=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new ST(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new uI(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var s=i.get(n);return s||(s=new t(e,new eI(e),n),i.set(n,s)),s},t}();iI.eu=new WeakMap;var sI=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new eI(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new f_(d_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Tk(n._delegate,r,new G_(e)))},t.Zc=function(e,n,r){return new t(n,new Tk(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new pI(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new pI(this.firestore,Rk(this._delegate,t))}catch(t){throw oI(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=Object(cm.k)(t))instanceof Tk&&Pk(this._delegate,t)},t.prototype.set=function(t,e){e=_k("DocumentReference.set",e);try{return function(t,e,n){t=Ek(t,Tk);var r=Ek(t.firestore,Fk),i=UT(t.converter,e,n);return WT(r,[Jk(Xk(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,dw.none())])}(this._delegate,t,e)}catch(t){throw oI(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?KT(this._delegate,t):KT.apply(void 0,Object(dh.f)([this._delegate,t,e],n))}catch(t){throw oI(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return WT(Ek((t=this._delegate).firestore,Fk),[new kw(t._key,dw.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=aI(e),i=cI(e,function(e){return new lI(t.firestore,new CT(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return ZT(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ek(t,Tk);var e=Ek(t.firestore,Fk),n=Mk(e),r=new HT(e);return function(t,e){var n=this,r=new iS;return t.asyncQueue.enqueueAndForget(function(){return Object(dh.b)(n,void 0,void 0,function(){var n;return Object(dh.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(dh.b)(this,void 0,void 0,function(){var r,i;return Object(dh.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=C_(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=s.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new f_(d_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=WO(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,rk(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new CT(e,r,t._key,n,new wT(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ek(t,Tk);var e=Ek(t.firestore,Fk);return ak(Mk(e),t._key,{source:"server"}).then(function(n){return $T(e,t,n)})}(this._delegate):function(t){t=Ek(t,Tk);var e=Ek(t.firestore,Fk);return ak(Mk(e),t._key).then(function(n){return $T(e,t,n)})}(this._delegate)).then(function(t){return new lI(e.firestore,new CT(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?iI.tu(this.firestore,e):null))},t}();function oI(t,e,n){return t.message=t.message.replace(e,n),t}function aI(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Lk(r))return r}return{}}function cI(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Lk(t[0])?t[0]:Lk(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var lI=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new sI(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return xT(this._delegate,t._delegate)},t}(),uI=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(dh.c)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(lI),hI=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new eI(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,IT(this._delegate,function(t,e,n){var r=e,i=vT("where",t);return new AT(i,r,n)}(e,n,r)))}catch(e){throw oI(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,IT(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=vT("orderBy",t);return new RT(r,n)}(e,n)))}catch(e){throw oI(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,IT(this._delegate,function(t){return Ok("limit",t),new DT("limit",t,"F")}(e)))}catch(e){throw oI(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,IT(this._delegate,function(t){return Ok("limitToLast",t),new DT("limitToLast",t,"L")}(e)))}catch(e){throw oI(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,IT(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new PT("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw oI(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,IT(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new PT("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw oI(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,IT(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jT("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw oI(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,IT(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jT("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw oI(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return jk(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Ek(t,Ik);var e=Ek(t.firestore,Fk),n=Mk(e),r=new HT(e);return function(t,e){var n=this,r=new iS;return t.asyncQueue.enqueueAndForget(function(){return Object(dh.b)(n,void 0,void 0,function(){var n;return Object(dh.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(dh.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(dh.d)(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,PE(t,e,!0)];case 1:return a=c.sent(),r=new lx(e,a.Bn),i=r._o(a.documents),s=r.applyChanges(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=c.sent(),a=WO(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,rk(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new ET(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Ek(t,Ik);var e=Ek(t.firestore,Fk),n=Mk(e),r=new HT(e);return ck(n,t._query,{source:"server"}).then(function(n){return new ET(e,r,t,n)})}(this._delegate):function(t){t=Ek(t,Ik);var e=Ek(t.firestore,Fk),n=Mk(e),r=new HT(e);return kT(t._query),ck(n,t._query).then(function(n){return new ET(e,r,t,n)})}(this._delegate)).then(function(t){return new fI(e.firestore,new ET(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=aI(e),i=cI(e,function(e){return new fI(t.firestore,new ET(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return ZT(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?iI.tu(this.firestore,e):null))},t}(),dI=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new uI(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),fI=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new hI(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new uI(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new dI(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new uI(n._firestore,r))})},t.prototype.isEqual=function(t){return xT(this._delegate,t._delegate)},t}(),pI=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return Object(dh.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new sI(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new sI(this.firestore,void 0===t?Dk(this._delegate):Dk(this._delegate,t))}catch(t){throw oI(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Ek(t.firestore,Fk),r=Dk(t),i=UT(t.converter,e);return WT(n,[Jk(Xk(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,dw.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new sI(e.firestore,t)})},e.prototype.isEqual=function(t){return Pk(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?iI.tu(this.firestore,t):null))},e}(hI);function mI(t){return Ek(t,Tk)}var gI,yI=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(zk.bind.apply(zk,Object(dh.f)([void 0],t)))}return t.documentId=function(){return new t(L_.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=Object(cm.k)(t))instanceof zk&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),bI=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new nT("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new tT("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new rT("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new iT("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new sT("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),_I=n("/6Yf"),vI={Firestore:tI,GeoPoint:Kk,Timestamp:T_,Blob:XT,Transaction:nI,WriteBatch:rI,DocumentReference:sI,DocumentSnapshot:lI,Query:hI,QueryDocumentSnapshot:uI,QuerySnapshot:fI,CollectionReference:pI,FieldPath:yI,FieldValue:bI,setLogLevel:function(t){p_.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};function wI(t,e){return function(t,e=Ke.b){return new Rt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function CI(t,e){return wI(t,e).pipe(Object(Pt.a)(t=>({payload:t,type:"query"})))}function SI(t,e){return CI(t,e).pipe(cr(void 0),na(),Object(Pt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function EI(t,e,n){return SI(t,n).pipe(wh((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return OI(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return OI(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return OI(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),Ho(),Object(Pt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function OI(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function xI(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(function(t,e){t.INTERNAL.registerComponent(new _I.a("firestore",function(t){return function(t,e){return new tI(t,new Fk(t,e),new JT)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},vI)))})(gI=am.a),gI.registerVersion("@firebase/firestore","2.3.0");class kI{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=SI(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Pt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(cr(void 0),na(),Qe(([t,e])=>e.length>0||!t),Object(Pt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(wh((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=xI(t);return EI(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return CI(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Pt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(At.a)(this.query.get(t)).pipe(Object(la.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new TI(this.ref.doc(t),this.afs)}}class TI{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=jI(n,e);return new kI(r,i,this.afs)}snapshotChanges(){return wI(this.ref,this.afs.schedulers.outsideAngular).pipe(cr(void 0),na(),Object(Pt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Pt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(At.a)(this.ref.get(t)).pipe(Object(la.b)(this.afs.schedulers.insideAngular))}}class II{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?SI(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Pt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Qe(t=>t.length>0),this.afs.keepUnstableUntilFirst):SI(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(wh((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=xI(t);return EI(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return CI(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Pt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(At.a)(this.query.get(t)).pipe(Object(la.b)(this.afs.schedulers.insideAngular))}}const AI=new r.s("angularfire2.enableFirestorePersistence"),RI=new r.s("angularfire2.firestore.persistenceSettings"),DI=new r.s("angularfire2.firestore.settings"),PI=new r.s("angularfire2.firestore.use-emulator");function jI(t,e=(t=>t)){return{query:e(t),ref:t}}let NI=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this.schedulers=new hh.e(s),this.keepUnstableUntilFirst=Object(hh.i)(this.schedulers);const l=Object(hh.h)(t,s,e);!om.a.auth&&c&&Object(hh.k)();const u=a;[this.firestore,this.persistenceEnabled$]=Object(hh.g)(`${l.name}.firestore`,"AngularFirestore",l,()=>{const t=s.runOutsideAngular(()=>l.firestore());if(r&&t.settings(r),u&&t.useEmulator(...u),n&&!Z(i)){const e=()=>{try{return Object(At.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(gI){return"undefined"!=typeof console&&console.warn(gI),Object(Be.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Be.a)(!1)]},[r,u,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=jI(n,e),s=this.schedulers.ngZone.run(()=>r);return new kI(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new II(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new TI(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(hh.c),r.Zb(hh.b,8),r.Zb(AI,8),r.Zb(DI,8),r.Zb(r.D),r.Zb(r.B),r.Zb(RI,8),r.Zb(PI,8),r.Zb(Up,8))},t.\u0275prov=r.Lb({factory:function(){return new t(r.Zb(hh.c),r.Zb(hh.b,8),r.Zb(AI,8),r.Zb(DI,8),r.Zb(r.D),r.Zb(r.B),r.Zb(RI,8),r.Zb(PI,8),r.Zb(Up,8))},token:t,providedIn:"any"}),t})(),LI=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:AI,useValue:!0},{provide:RI,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[NI]}),t})();const FI={apiKey:"AIzaSyBdBhB5DYm_o2s1sNbXg_gz-Lr0WaAqpnM",authDomain:"shopcart-38fa4.firebaseapp.com",projectId:"shopcart-38fa4",storageBucket:"shopcart-38fa4.appspot.com",messagingSenderId:"203548085699",appId:"1:203548085699:web:f5375a6fc95552f38cc176",measurementId:"G-7DHPNVGNXD"};let MI=(()=>{class t{constructor(){this.title="shopcart"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r.Qb(0,"router-outlet")},directives:[_p],styles:[""]}),t})();function VI(t,e){}class UI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const BI={dialogContainer:hr("dialogContainer",[mr("void, exit",pr({opacity:0,transform:"scale(0.7)"})),mr("enter",pr({transform:"none"})),yr("* => enter",dr("150ms cubic-bezier(0, 0, 0.2, 1)",pr({transform:"none",opacity:1}))),yr("* => void, * => exit",dr("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",pr({opacity:0})))])};let zI=(()=>{class t extends ka{constructor(t,e,n,i,s,o){super(),this._elementRef=t,this._focusTrapFactory=e,this._changeDetectorRef=n,this._config=s,this._focusMonitor=o,this._animationStateChanged=new r.o,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=t=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(t)),this._ariaLabelledBy=s.ariaLabelledBy||null,this._document=i}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const e=this._getActiveElement(),n=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==n&&!n.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._getActiveElement())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,e=this._getActiveElement();return t===e||t.contains(e)}_getActiveElement(){var t;const e=this._document.activeElement;return(null===(t=null==e?void 0:e.shadowRoot)||void 0===t?void 0:t.activeElement)||e}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(Un),r.Pb(r.h),r.Pb(o,8),r.Pb(UI),r.Pb($n))},t.\u0275dir=r.Kb({type:t,viewQuery:function(t,e){if(1&t&&r.Cc(Ia,3),2&t){let t;r.pc(t=r.dc())&&(e._portalOutlet=t.first)}},features:[r.Bb]}),t})(),qI=(()=>{class t extends zI{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:e}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:e}))}_onAnimationStart({toState:t,totalTime:e}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:e}):"exit"!==t&&"void"!==t||this._animationStateChanged.next({state:"closing",totalTime:e})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return t.\u0275fac=function(e){return HI(e||t)},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.wc("@dialogContainer.start",function(t){return e._onAnimationStart(t)})("@dialogContainer.done",function(t){return e._onAnimationDone(t)}),2&t&&(r.Yb("id",e._id),r.Fb("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.xc("@dialogContainer",e._state))},features:[r.Bb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.yc(0,VI,0,0,"ng-template",0)},directives:[Ia],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[BI.dialogContainer]}}),t})();const HI=r.Xb(qI);let KI=0;class ZI{constructor(t,e,n="mat-dialog-"+KI++){this._overlayRef=t,this._containerInstance=e,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Ve.a,this._afterClosed=new Ve.a,this._beforeClosed=new Ve.a,this._state=0,e._id=n,e._animationStateChanged.pipe(Qe(t=>"opened"===t.state),en(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(Qe(t=>"closed"===t.state),en(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(Qe(t=>27===t.keyCode&&!this.disableClose&&!ze(t))).subscribe(t=>{t.preventDefault(),WI(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():WI(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Qe(t=>"closing"===t.state),en(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function WI(t,e,n){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(n)}const $I=new r.s("MatDialogData"),GI=new r.s("mat-dialog-default-options"),QI=new r.s("mat-dialog-scroll-strategy"),YI={provide:QI,deps:[cc],useFactory:function(t){return()=>t.scrollStrategies.block()}};let XI=(()=>{class t{constructor(t,e,n,r,i,s,o,a,c){this._overlay=t,this._injector=e,this._defaultOptions=n,this._parentDialog=r,this._overlayContainer=i,this._dialogRefConstructor=o,this._dialogContainerType=a,this._dialogDataToken=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Ve.a,this._afterOpenedAtThisLevel=new Ve.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Wc(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(cr(void 0))),this._scrollStrategy=s}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,e){(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new UI)).id&&this.getDialogById(e.id);const n=this._createOverlay(e),r=this._attachDialogContainer(n,e),i=this._attachDialogContent(t,r,n,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(i),i.afterClosed().subscribe(()=>this._removeOpenDialog(i)),this.afterOpened.next(i),r._initializeWithAttachedContent(),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(e=>e.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(t){const e=this._getOverlayConfig(t);return this._overlay.create(e)}_getOverlayConfig(t){const e=new za({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}_attachDialogContainer(t,e){const n=r.t.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:UI,useValue:e}]}),i=new Ea(this._dialogContainerType,e.viewContainerRef,n,e.componentFactoryResolver);return t.attach(i).instance}_attachDialogContent(t,e,n,i){const s=new this._dialogRefConstructor(n,e,i.id);if(t instanceof r.N)e.attachTemplatePortal(new Oa(t,null,{$implicit:i.data,dialogRef:s}));else{const n=this._createInjector(i,s,e),r=e.attachComponentPortal(new Ea(t,i.viewContainerRef,n));s.componentInstance=r.instance}return s.updateSize(i.width,i.height).updatePosition(i.position),s}_createInjector(t,e,n){const i=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=[{provide:this._dialogContainerType,useValue:n},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||i&&i.get(nr,null)||s.push({provide:nr,useValue:{value:t.direction,change:Object(Be.a)()}}),r.t.create({parent:i||this._injector,providers:s})}_removeOpenDialog(t){const e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((t,e)=>{t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const e=t.parentElement.children;for(let n=e.length-1;n>-1;n--){let r=e[n];r===t||"SCRIPT"===r.nodeName||"STYLE"===r.nodeName||r.hasAttribute("aria-live")||(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let e=t.length;for(;e--;)t[e].close()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(cc),r.Pb(r.t),r.Pb(void 0),r.Pb(void 0),r.Pb(Ga),r.Pb(void 0),r.Pb(r.P),r.Pb(r.P),r.Pb(r.s))},t.\u0275dir=r.Kb({type:t}),t})(),JI=(()=>{class t extends XI{constructor(t,e,n,r,i,s,o){super(t,e,r,s,o,i,ZI,qI,$I)}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(cc),r.Zb(r.t),r.Zb(w,8),r.Zb(GI,8),r.Zb(QI),r.Zb(t,12),r.Zb(Ga))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})(),tA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t})(),eA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Kb({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t})(),nA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[JI,YI],imports:[[pc,Aa,no],no]}),t})();function rA(t,e){if(1&t){const t=r.Wb();r.Vb(0,"div",1),r.Vb(1,"button",2),r.cc("click",function(){return r.sc(t),r.gc().action()}),r.zc(2),r.Ub(),r.Ub()}if(2&t){const t=r.gc();r.Eb(2),r.Ac(t.data.action)}}function iA(t,e){}const sA=new r.s("MatSnackBarData");class oA{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const aA=Math.pow(2,31)-1;class cA{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Ve.a,this._afterOpened=new Ve.a,this._onAction=new Ve.a,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,aA))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let lA=(()=>{class t{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(cA),r.Pb(sA))},t.\u0275cmp=r.Jb({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(r.Vb(0,"span"),r.zc(1),r.Ub(),r.yc(2,rA,3,1,"div",0)),2&t&&(r.Eb(1),r.Ac(e.data.message),r.Eb(1),r.lc("ngIf",e.hasAction))},directives:[D,Vo],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),t})();const uA={snackBarState:hr("state",[mr("void, hidden",pr({transform:"scale(0.8)",opacity:0})),mr("visible",pr({transform:"scale(1)",opacity:1})),yr("* => visible",dr("150ms cubic-bezier(0, 0, 0.2, 1)")),yr("* => void, * => hidden",dr("75ms cubic-bezier(0.4, 0.0, 1, 1)",pr({opacity:0})))])};let hA=(()=>{class t extends ka{constructor(t,e,n,r,i){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this._platform=r,this.snackBarConfig=i,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Ve.a,this._onExit=new Ve.a,this._onEnter=new Ve.a,this._animationState="void",this.attachDomPortal=t=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(t)),this._live="assertive"!==i.politeness||i.announcementMessage?"off"===i.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(en(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),e=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&e){let n=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(n=document.activeElement),t.removeAttribute("aria-hidden"),e.appendChild(t),null==n||n.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.B),r.Pb(r.l),r.Pb(r.h),r.Pb(fn),r.Pb(oA))},t.\u0275cmp=r.Jb({type:t,selectors:[["snack-bar-container"]],viewQuery:function(t,e){if(1&t&&r.Cc(Ia,3),2&t){let t;r.pc(t=r.dc())&&(e._portalOutlet=t.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,e){1&t&&r.wc("@state.done",function(t){return e.onAnimationEnd(t)}),2&t&&r.xc("@state",e._animationState)},features:[r.Bb],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.yc(1,iA,0,0,"ng-template",1),r.Ub(),r.Qb(2,"div")),2&t&&(r.Eb(2),r.Fb("aria-live",e._live)("role",e._role))},directives:[Ia],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[uA.snackBarState]}}),t})(),dA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[pc,Aa,H,Uo,no],no]}),t})();const fA=new r.s("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new oA}});let pA=(()=>{class t{constructor(t,e,n,r,i,s){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=r,this._parentSnackBar=i,this._defaultConfig=s,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=lA,this.snackBarContainerComponent=hA,this.handsetCssClass="mat-snack-bar-handset"}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const r=Object.assign(Object.assign({},this._defaultConfig),n);return r.data={message:t,action:e},r.announcementMessage===t&&(r.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=r.t.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:oA,useValue:e}]}),i=new Ea(this.snackBarContainerComponent,e.viewContainerRef,n),s=t.attach(i);return s.instance.snackBarConfig=e,s.instance}_attach(t,e){const n=Object.assign(Object.assign(Object.assign({},new oA),this._defaultConfig),e),i=this._createOverlay(n),s=this._attachSnackBarContainer(i,n),o=new cA(s,i);if(t instanceof r.N){const e=new Oa(t,null,{$implicit:n.data,snackBarRef:o});o.instance=s.attachTemplatePortal(e)}else{const e=this._createInjector(n,o),r=new Ea(t,void 0,e),i=s.attachComponentPortal(r);o.instance=i.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Jo(i.detachments())).subscribe(t=>{const e=i.overlayElement.classList;t.matches?e.add(this.handsetCssClass):e.remove(this.handsetCssClass)}),n.announcementMessage&&s._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(o,n),this._openedSnackBarRef=o,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration))}_createOverlay(t){const e=new za;e.direction=t.direction;let n=this._overlay.position().global();const r="rtl"===t.direction,i="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!r||"end"===t.horizontalPosition&&r,s=!i&&"center"!==t.horizontalPosition;return i?n.left("0"):s?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return r.t.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:cA,useValue:e},{provide:sA,useValue:t.data}]})}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(cc),r.Zb(qn),r.Zb(r.t),r.Zb(Dl),r.Zb(t,12),r.Zb(fA))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(cc),Object(r.Zb)(qn),Object(r.Zb)(r.p),Object(r.Zb)(Dl),Object(r.Zb)(t,12),Object(r.Zb)(fA))},token:t,providedIn:dA}),t})();const mA=vn({passive:!0});let gA=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return tn.a;const e=un(t),n=this._monitoredElements.get(e);if(n)return n.subject;const r=new Ve.a,i="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,mA),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",s,mA)}}),r}stopMonitoring(t){const e=un(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(fn),r.Zb(r.B))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(fn),Object(r.Zb)(r.B))},token:t,providedIn:"root"}),t})(),yA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[pn]]}),t})();const bA=new r.s("MAT_INPUT_VALUE_ACCESSOR"),_A=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let vA=0;class wA{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const CA=ao(wA);let SA=(()=>{class t extends CA{constructor(t,e,n,r,i,s,o,a,c,l){super(s,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=l,this._uid="mat-input-"+vA++,this.focused=!1,this.stateChanges=new Ve.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>gn().has(t));const u=this._elementRef.nativeElement,h=u.nodeName.toLowerCase();this._inputValueAccessor=o||u,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&c.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=u.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=sn(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=sn(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&gn().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=sn(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){_A.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb(fn),r.Pb(ne,10),r.Pb(Te,8),r.Pb(Ne,8),r.Pb(lo),r.Pb(bA,10),r.Pb(gA),r.Pb(r.B),r.Pb(Hc,8))},t.\u0275dir=r.Kb({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&r.cc("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(r.Yb("disabled",e.disabled)("required",e.required),r.Fb("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState&&!e.empty)("aria-required",e.required),r.Hb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r.Db([{provide:jc,useExisting:t}]),r.Bb,r.Cb]}),t})(),EA=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({providers:[lo],imports:[[yA,Zc,no],yA,Zc]}),t})(),OA=(()=>{class t{constructor(t,e,n,r){this.snackBar=t,this.firestore=e,this.dialogRef=n,this.data=r}onNoClick(){this.dialogRef.close()}ngOnInit(){}addProduct(){let t;t={id:""+Math.random().toString(36).substr(2,9),name:this.newName,category:this.newCategory,price:this.newPrice,stock:this.newStock,active:this.newActive},console.log(t),this.firestore.collection("product").doc(t.id).set(t).then(()=>{this.snackBar.open("Product Added","Dismiss",{duration:3e3}),console.log("Document Added")}),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(pA),r.Pb(NI),r.Pb(ZI),r.Pb($I))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-add-product"]],decls:27,vars:5,consts:[[1,"center"],["matInput","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["value","true"],["value","false"],["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Vb(1,"mat-form-field"),r.Vb(2,"mat-label"),r.zc(3,"Product Name"),r.Ub(),r.Vb(4,"input",1),r.cc("ngModelChange",function(t){return e.newName=t}),r.Ub(),r.Ub(),r.Vb(5,"mat-form-field"),r.Vb(6,"mat-label"),r.zc(7,"Product Category"),r.Ub(),r.Vb(8,"input",1),r.cc("ngModelChange",function(t){return e.newCategory=t}),r.Ub(),r.Ub(),r.Vb(9,"mat-form-field"),r.Vb(10,"mat-label"),r.zc(11,"price"),r.Ub(),r.Vb(12,"input",1),r.cc("ngModelChange",function(t){return e.newPrice=t}),r.Ub(),r.Ub(),r.Vb(13,"mat-form-field"),r.Vb(14,"mat-label"),r.zc(15,"Stock"),r.Ub(),r.Vb(16,"input",1),r.cc("ngModelChange",function(t){return e.newStock=t}),r.Ub(),r.Ub(),r.Vb(17,"mat-form-field"),r.Vb(18,"mat-label"),r.zc(19,"Active"),r.Ub(),r.Vb(20,"mat-select",2),r.cc("ngModelChange",function(t){return e.newActive=t}),r.Vb(21,"mat-option",3),r.zc(22,"True"),r.Ub(),r.Vb(23,"mat-option",4),r.zc(24,"False"),r.Ub(),r.Ub(),r.Ub(),r.Vb(25,"button",5),r.cc("click",function(){return e.addProduct()}),r.zc(26,"Add Product"),r.Ub(),r.Ub()),2&t&&(r.Eb(4),r.lc("ngModel",e.newName),r.Eb(4),r.lc("ngModel",e.newCategory),r.Eb(4),r.lc("ngModel",e.newPrice),r.Eb(4),r.lc("ngModel",e.newStock),r.Eb(4),r.lc("ngModel",e.newActive))},directives:[Kc,Lc,SA,Ut,re,Re,pl,Ro,Vo],styles:[".center[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px}mat-form-field[_ngcontent-%COMP%]{margin:10px 5px}"]}),t})(),xA=(()=>{class t{constructor(t,e,n,r){this.snackBar=t,this.firestore=e,this.dialogRef=n,this.data=r,this.newName=this.data.name,this.newCategory=this.data.category,this.newPrice=this.data.price,this.newStock=this.data.stock,this.newActive=this.data.active}onNoClick(){this.dialogRef.close()}updateProduct(){let t;console.log(this.data),t={id:this.data.id,name:this.newName,category:this.newCategory,price:this.newPrice,stock:this.newStock,active:this.newActive},this.firestore.collection("product").doc(this.data.id).update(t).then(()=>{this.snackBar.open("Product Updated","Dismiss",{duration:3e3}),console.log(" updated document")}),console.log("here"),this.dialogRef.close()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(pA),r.Pb(NI),r.Pb(ZI),r.Pb($I))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-edit-product"]],decls:27,vars:5,consts:[[1,"center"],["matInput","",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["value","true"],["value","false"],["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Vb(1,"mat-form-field"),r.Vb(2,"mat-label"),r.zc(3,"Product Name"),r.Ub(),r.Vb(4,"input",1),r.cc("ngModelChange",function(t){return e.newName=t}),r.Ub(),r.Ub(),r.Vb(5,"mat-form-field"),r.Vb(6,"mat-label"),r.zc(7,"Product Category"),r.Ub(),r.Vb(8,"input",1),r.cc("ngModelChange",function(t){return e.newCategory=t}),r.Ub(),r.Ub(),r.Vb(9,"mat-form-field"),r.Vb(10,"mat-label"),r.zc(11,"price"),r.Ub(),r.Vb(12,"input",1),r.cc("ngModelChange",function(t){return e.newPrice=t}),r.Ub(),r.Ub(),r.Vb(13,"mat-form-field"),r.Vb(14,"mat-label"),r.zc(15,"Stock"),r.Ub(),r.Vb(16,"input",1),r.cc("ngModelChange",function(t){return e.newStock=t}),r.Ub(),r.Ub(),r.Vb(17,"mat-form-field"),r.Vb(18,"mat-label"),r.zc(19,"Active"),r.Ub(),r.Vb(20,"mat-select",2),r.cc("ngModelChange",function(t){return e.newActive=t}),r.Vb(21,"mat-option",3),r.zc(22,"True"),r.Ub(),r.Vb(23,"mat-option",4),r.zc(24,"False"),r.Ub(),r.Ub(),r.Ub(),r.Vb(25,"button",5),r.cc("click",function(){return e.updateProduct()}),r.zc(26,"Update Product"),r.Ub(),r.Ub()),2&t&&(r.Eb(4),r.lc("ngModel",e.newName),r.Eb(4),r.lc("ngModel",e.newCategory),r.Eb(4),r.lc("ngModel",e.newPrice),r.Eb(4),r.lc("ngModel",e.newStock),r.Eb(4),r.lc("ngModel",e.newActive))},directives:[Kc,Lc,SA,Ut,re,Re,pl,Ro,Vo],styles:[".center[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px}mat-form-field[_ngcontent-%COMP%]{margin:10px 5px}"]}),t})(),kA=(()=>{class t{constructor(t,e,n,r){this.snackBar=t,this.firestore=e,this.dialogRef=n,this.data=r}ngOnInit(){}onNoClick(){this.dialogRef.close()}deleteProduct(){this.firestore.collection("product").doc(this.data.id).delete().then(()=>{this.snackBar.open("Product Deleted","Dismiss",{duration:3e3}),console.log("Document successfully deleted!")}).catch(t=>{console.error("Error removing document: ",t)}),this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(pA),r.Pb(NI),r.Pb(ZI),r.Pb($I))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-delete-product"]],decls:12,vars:1,consts:[["mat-dialog-content","",1,"center"],["mat-dialog-actions",""],["mat-button","",3,"click"],["mat-button","","cdkFocusInitial","",3,"click"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Vb(1,"h1"),r.zc(2,"Delete Product"),r.Ub(),r.Vb(3,"mat-label"),r.zc(4,"Are you sure you want to Delete "),r.Vb(5,"span"),r.zc(6),r.Ub(),r.Ub(),r.Ub(),r.Vb(7,"div",1),r.Vb(8,"button",2),r.cc("click",function(){return e.onNoClick()}),r.zc(9,"Cancle"),r.Ub(),r.Vb(10,"button",3),r.cc("click",function(){return e.deleteProduct()}),r.zc(11,"Delete"),r.Ub(),r.Ub()),2&t&&(r.Eb(6),r.Ac(e.data.name))},directives:[tA,Lc,eA,Vo],styles:[".center[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:20px}button[_ngcontent-%COMP%]{background-color:#3c3cf3;color:#fff}span[_ngcontent-%COMP%]{font-weight:700;font-size:1.5rem;text-transform:uppercase}"]}),t})();var TA=n("z6cu"),IA=n("w1tV");class AA{}class RA{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof RA?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new RA;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof RA?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class DA{encodeKey(t){return PA(t)}encodeValue(t){return PA(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function PA(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class jA{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new DA,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new jA({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function NA(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function LA(t){return"undefined"!=typeof Blob&&t instanceof Blob}function FA(t){return"undefined"!=typeof FormData&&t instanceof FormData}class MA{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new RA),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new jA,this.urlWithParams=e}serializeBody(){return null===this.body?null:NA(this.body)||LA(this.body)||FA(this.body)||"string"==typeof this.body?this.body:this.body instanceof jA?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||FA(this.body)?null:LA(this.body)?this.body.type||null:NA(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof jA?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new MA(e,n,i,{params:c,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}var VA=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class UA extends class{constructor(t,e=200,n="OK"){this.headers=t.headers||new RA,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(t={}){super(t),this.type=VA.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new UA({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function BA(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let zA=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof MA)r=t;else{let i,s;i=n.headers instanceof RA?n.headers:new RA(n.headers),n.params&&(s=n.params instanceof jA?n.params:new jA({fromObject:n.params})),r=new MA(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=Object(Be.a)(r).pipe(kh(t=>this.handler.handle(t)));if(t instanceof MA||"events"===n.observe)return i;const s=i.pipe(Qe(t=>t instanceof UA));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return s.pipe(Object(Pt.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return s.pipe(Object(Pt.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return s.pipe(Object(Pt.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return s.pipe(Object(Pt.a)(t=>t.body))}case"response":return s;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new jA).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,BA(n,e))}post(t,e,n={}){return this.request("POST",t,BA(n,e))}put(t,e,n={}){return this.request("PUT",t,BA(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(AA))},t.\u0275prov=r.Lb({token:t,factory:t.\u0275fac}),t})();const qA=["*"];function HA(t){return Error(`Unable to find icon with the name "${t}"`)}function KA(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function ZA(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class WA{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}}let $A=(()=>{class t{constructor(t,e,n,r){this._httpClient=t,this._sanitizer=e,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(t,e,n){return this.addSvgIconInNamespace("",t,e,n)}addSvgIconLiteral(t,e,n){return this.addSvgIconLiteralInNamespace("",t,e,n)}addSvgIconInNamespace(t,e,n,r){return this._addSvgIconConfig(t,e,new WA(n,null,r))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,e,n,i){const s=this._sanitizer.sanitize(r.K.HTML,n);if(!s)throw ZA(n);return this._addSvgIconConfig(t,e,new WA("",s,i))}addSvgIconSet(t,e){return this.addSvgIconSetInNamespace("",t,e)}addSvgIconSetLiteral(t,e){return this.addSvgIconSetLiteralInNamespace("",t,e)}addSvgIconSetInNamespace(t,e,n){return this._addSvgIconSetConfig(t,new WA(e,null,n))}addSvgIconSetLiteralInNamespace(t,e,n){const i=this._sanitizer.sanitize(r.K.HTML,e);if(!i)throw ZA(e);return this._addSvgIconSetConfig(t,new WA("",i,n))}registerFontClassAlias(t,e=t){return this._fontCssClassesByAlias.set(t,e),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const e=this._sanitizer.sanitize(r.K.RESOURCE_URL,t);if(!e)throw KA(t);const n=this._cachedIconsByUrl.get(e);return n?Object(Be.a)(GA(n)):this._loadSvgIconFromConfig(new WA(t,null)).pipe(Object(qe.a)(t=>this._cachedIconsByUrl.set(e,t)),Object(Pt.a)(t=>GA(t)))}getNamedSvgIcon(t,e=""){const n=QA(e,t);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(e,t),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(e);return i?this._getSvgFromIconSetConfigs(t,i):Object(TA.a)(HA(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Object(Be.a)(GA(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(Object(Pt.a)(t=>GA(t)))}_getSvgFromIconSetConfigs(t,e){const n=this._extractIconWithNameFromAnySet(t,e);return n?Object(Be.a)(n):Nt(e.filter(t=>!t.svgText).map(t=>this._loadSvgIconSetFromConfig(t).pipe(Eh(e=>{const n=this._sanitizer.sanitize(r.K.RESOURCE_URL,t.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${e.message}`)),Object(Be.a)(null)})))).pipe(Object(Pt.a)(()=>{const n=this._extractIconWithNameFromAnySet(t,e);if(!n)throw HA(t);return n}))}_extractIconWithNameFromAnySet(t,e){for(let n=e.length-1;n>=0;n--){const r=e[n];if(r.svgText&&r.svgText.indexOf(t)>-1){const e=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(e,t,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Object(qe.a)(e=>t.svgText=e),Object(Pt.a)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Object(Be.a)(null):this._fetchIcon(t).pipe(Object(qe.a)(e=>t.svgText=e))}_extractSvgIconFromSet(t,e,n){const r=t.querySelector(`[id="${e}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const s=this._svgElementFromString("<svg></svg>");return s.appendChild(i),this._setSvgAttributes(s,n)}_svgElementFromString(t){const e=this._document.createElement("DIV");e.innerHTML=t;const n=e.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(t){const e=this._svgElementFromString("<svg></svg>"),n=t.attributes;for(let r=0;r<n.length;r++){const{name:t,value:i}=n[r];"id"!==t&&e.setAttribute(t,i)}for(let r=0;r<t.childNodes.length;r++)t.childNodes[r].nodeType===this._document.ELEMENT_NODE&&e.appendChild(t.childNodes[r].cloneNode(!0));return e}_setSvgAttributes(t,e){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),e&&e.viewBox&&t.setAttribute("viewBox",e.viewBox),t}_fetchIcon(t){var e;const{url:n,options:i}=t,s=null!==(e=null==i?void 0:i.withCredentials)&&void 0!==e&&e;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(r.K.RESOURCE_URL,n);if(!o)throw KA(n);const a=this._inProgressUrlFetches.get(o);if(a)return a;const c=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(Bh(()=>this._inProgressUrlFetches.delete(o)),Object(IA.a)());return this._inProgressUrlFetches.set(o,c),c}_addSvgIconConfig(t,e,n){return this._svgIconConfigs.set(QA(t,e),n),this}_addSvgIconSetConfig(t,e){const n=this._iconSetConfigs.get(t);return n?n.push(e):this._iconSetConfigs.set(t,[e]),this}_svgElementFromConfig(t){if(!t.svgElement){const e=this._svgElementFromString(t.svgText);this._setSvgAttributes(e,t.options),t.svgElement=e}return t.svgElement}_getIconConfigFromResolvers(t,e){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](e,t);if(i)return(n=i).url&&n.options?new WA(i.url,null,i.options):new WA(i,null)}var n}}return t.\u0275fac=function(e){return new(e||t)(r.Zb(zA,8),r.Zb(Ct),r.Zb(o,8),r.Zb(r.n))},t.\u0275prov=Object(r.Lb)({factory:function(){return new t(Object(r.Zb)(zA,8),Object(r.Zb)(Ct),Object(r.Zb)(o,8),Object(r.Zb)(r.n))},token:t,providedIn:"root"}),t})();function GA(t){return t.cloneNode(!0)}function QA(t,e){return t+":"+e}class YA{constructor(t){this._elementRef=t}}const XA=io(YA),JA=new r.s("mat-icon-location",{providedIn:"root",factory:function(){const t=Object(r.X)(o),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),tR=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],eR=tR.map(t=>`[${t}]`).join(", "),nR=/^url\(['"]?#(.*?)['"]?\)$/;let rR=(()=>{class t extends XA{constructor(t,e,n,r,i){super(t),this._iconRegistry=e,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=Ue.a.EMPTY,n||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=sn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const e=this._cleanupFontValue(t);e!==this._fontSet&&(this._fontSet=e,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const e=this._cleanupFontValue(t);e!==this._fontIcon&&(this._fontIcon=e,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const e=t.split(":");switch(e.length){case 1:return["",e[0]];case 2:return e;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const e=t.querySelectorAll("style");for(let r=0;r<e.length;r++)e[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let e=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();e--;){const n=t.childNodes[e];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||t.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,e=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();e!=this._previousFontSetClass&&(this._previousFontSetClass&&t.classList.remove(this._previousFontSetClass),e&&t.classList.add(e),this._previousFontSetClass=e),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const e=this._elementsWithExternalReferences;e&&e.forEach((e,n)=>{e.forEach(e=>{n.setAttribute(e.name,`url('${t}#${e.value}')`)})})}_cacheChildrenWithExternalReferences(t){const e=t.querySelectorAll(eR),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<e.length;r++)tR.forEach(t=>{const i=e[r],s=i.getAttribute(t),o=s?s.match(nR):null;if(o){let e=n.get(i);e||(e=[],n.set(i,e)),e.push({name:t,value:o[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[e,n]=this._splitIconName(t);e&&(this._svgNamespace=e),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,e).pipe(en(1)).subscribe(t=>this._setSvgElement(t),t=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${n}! ${t.message}`))})}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.l),r.Pb($A),r.ac("aria-hidden"),r.Pb(JA),r.Pb(r.n))},t.\u0275cmp=r.Jb({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,e){2&t&&(r.Fb("data-mat-icon-type",e._usingFontIcon()?"font":"svg")("data-mat-icon-name",e._svgName||e.fontIcon)("data-mat-icon-namespace",e._svgNamespace||e.fontSet),r.Hb("mat-icon-inline",e.inline)("mat-icon-no-color","primary"!==e.color&&"accent"!==e.color&&"warn"!==e.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.Bb],ngContentSelectors:qA,decls:1,vars:0,template:function(t,e){1&t&&(r.kc(),r.jc(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),t})(),iR=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t}),t.\u0275inj=r.Mb({imports:[[no],no]}),t})();function sR(t,e){1&t&&(r.Vb(0,"th",14),r.zc(1,"Name"),r.Ub())}function oR(t,e){if(1&t&&(r.Vb(0,"td",15),r.zc(1),r.Ub()),2&t){const t=e.$implicit;r.Eb(1),r.Ac(t.name)}}function aR(t,e){1&t&&(r.Vb(0,"th",14),r.zc(1,"Category"),r.Ub())}function cR(t,e){if(1&t&&(r.Vb(0,"td",15),r.zc(1),r.Ub()),2&t){const t=e.$implicit;r.Eb(1),r.Ac(t.category)}}function lR(t,e){1&t&&(r.Vb(0,"th",14),r.zc(1,"Price"),r.Ub())}function uR(t,e){if(1&t&&(r.Vb(0,"td",15),r.zc(1),r.Ub()),2&t){const t=e.$implicit;r.Eb(1),r.Ac(t.price)}}function hR(t,e){1&t&&(r.Vb(0,"th",14),r.zc(1,"Stock"),r.Ub())}function dR(t,e){if(1&t&&(r.Vb(0,"td",15),r.zc(1),r.Ub()),2&t){const t=e.$implicit;r.Eb(1),r.Ac(t.stock)}}function fR(t,e){1&t&&(r.Vb(0,"th",14),r.zc(1,"Active"),r.Ub())}function pR(t,e){if(1&t&&(r.Vb(0,"td",15),r.zc(1),r.Ub()),2&t){const t=e.$implicit;r.Eb(1),r.Ac(t.active)}}function mR(t,e){1&t&&(r.Vb(0,"th",14),r.zc(1,"Actions"),r.Ub())}const gR=function(t){return["/product",t]},yR=function(t,e,n,r,i){return{name:t,category:e,price:n,stock:r,active:i}};function bR(t,e){if(1&t){const t=r.Wb();r.Vb(0,"td",15),r.Vb(1,"mat-icon",16),r.cc("click",function(){r.sc(t);const n=e.$implicit;return r.gc().editClicked(n)}),r.zc(2,"edit"),r.Ub(),r.zc(3),r.Vb(4,"mat-icon",16),r.cc("click",function(){r.sc(t);const n=e.$implicit;return r.gc().deleteClicked(n)}),r.zc(5,"delete"),r.Ub(),r.zc(6),r.Vb(7,"mat-icon",17),r.zc(8,"visibility"),r.Ub(),r.Ub()}if(2&t){const t=e.$implicit;r.Eb(3),r.Bc(""," "," "),r.Eb(3),r.Bc(" "," "," "),r.Eb(1),r.lc("routerLink",r.nc(4,gR,t.id))("queryParams",r.oc(6,yR,t.name,t.category,t.price,t.stock,t.active))}}function _R(t,e){1&t&&r.Qb(0,"tr",18)}function vR(t,e){1&t&&r.Qb(0,"tr",19)}const wR=function(){return[5,10,20]};let CR=(()=>{class t{constructor(t,e){this.firestore=t,this.dialog=e,this.products=[],this.displayedColumns=["name","category","price","stock","active","actions"]}ngOnInit(){this.firestore.collection("product").valueChanges().subscribe(t=>{this.dataSource=new uh(t),this.dataSource.paginator=this.paginator})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLocaleLowerCase()}editClicked(t){this.dialog.open(xA,{width:"350px",data:t})}deleteClicked(t){this.dialog.open(kA,{width:"350px",data:t})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(NI),r.Pb(JI))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-product-list"]],viewQuery:function(t,e){if(1&t&&r.Cc(tu,1),2&t){let t;r.pc(t=r.dc())&&(e.paginator=t.first)}},decls:24,vars:5,consts:[[1,"mat-elevation-z8"],["type","text","matInput","","placeholder"," Type And Search Products",1,"search",3,"keyup"],["showFirstLastButtons","",3,"pageSizeOptions"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","price"],["matColumnDef","stock"],["matColumnDef","active"],["matColumnDef","actions"],["mat-header-row","","style","background-color: #b1e3fa; border-top-style: solid",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["aria-hidden","false","aria-label","Delete",3,"click"],["aria-hidden","false","aria-label","View Details",3,"routerLink","queryParams"],["mat-header-row","",2,"background-color","#b1e3fa","border-top-style","solid"],["mat-row",""]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Vb(1,"input",1),r.cc("keyup",function(t){return e.applyFilter(t)}),r.Ub(),r.Qb(2,"mat-paginator",2),r.Vb(3,"table",3),r.Tb(4,4),r.yc(5,sR,2,0,"th",5),r.yc(6,oR,2,1,"td",6),r.Sb(),r.Tb(7,7),r.yc(8,aR,2,0,"th",5),r.yc(9,cR,2,1,"td",6),r.Sb(),r.Tb(10,8),r.yc(11,lR,2,0,"th",5),r.yc(12,uR,2,1,"td",6),r.Sb(),r.Tb(13,9),r.yc(14,hR,2,0,"th",5),r.yc(15,dR,2,1,"td",6),r.Sb(),r.Tb(16,10),r.yc(17,fR,2,0,"th",5),r.yc(18,pR,2,1,"td",6),r.Sb(),r.Tb(19,11),r.yc(20,mR,2,0,"th",5),r.yc(21,bR,9,12,"td",6),r.Sb(),r.yc(22,_R,1,0,"tr",12),r.yc(23,vR,1,0,"tr",13),r.Ub(),r.Ub()),2&t&&(r.Eb(2),r.lc("pageSizeOptions",r.mc(4,wR)),r.Eb(1),r.lc("dataSource",e.dataSource),r.Eb(19),r.lc("matHeaderRowDef",e.displayedColumns),r.Eb(1),r.lc("matRowDefColumns",e.displayedColumns))},directives:[SA,tu,qu,Gu,Wu,Ku,eh,rh,Yu,Ju,rR,yp,sh,ah],styles:["td[_ngcontent-%COMP%], tr[_ngcontent-%COMP%]{font-size:15px}th[_ngcontent-%COMP%]{font-size:20px}table[_ngcontent-%COMP%]{width:100%}mat-paginator[_ngcontent-%COMP%]{float:right;width:35%;background-color:#d3f1ff}.search[_ngcontent-%COMP%]{width:20%;padding:5px;margin-left:1%;margin-top:1%;box-shadow:2px 2px 2px 2px #888}mat-icon[_ngcontent-%COMP%]:hover{background-color:hsla(0,0%,62%,.2);border-radius:50%}"]}),t})();const SR=[{path:"product",component:(()=>{class t{constructor(t){this.dialog=t}ngOnInit(){}addClicked(){this.dialog.open(OA,{width:"350px"})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(JI))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-product"]],decls:4,vars:0,consts:[[1,"main"],["mat-raised-button","",1,"button",3,"click"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Vb(1,"button",1),r.cc("click",function(){return e.addClicked()}),r.zc(2," Add New Product "),r.Ub(),r.Ub(),r.Qb(3,"app-product-list"))},directives:[Vo,CR],styles:[".button[_ngcontent-%COMP%]{margin:10px 5px 10px 20px}.main[_ngcontent-%COMP%]{background-color:#ececec;margin-bottom:10px}"]}),t})()},{path:"product/:id",component:(()=>{class t{constructor(t){this.route=t}ngOnInit(){this.prod={id:this.route.snapshot.params.id,name:this.route.snapshot.queryParams.name,category:this.route.snapshot.queryParams.category,price:this.route.snapshot.queryParams.price,stock:this.route.snapshot.queryParams.stock,active:this.route.snapshot.queryParams.active},console.log(this.prod)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Gd))},t.\u0275cmp=r.Jb({type:t,selectors:[["app-product-details"]],decls:23,vars:5,consts:[[1,"container"]],template:function(t,e){1&t&&(r.Vb(0,"div",0),r.Vb(1,"h1"),r.zc(2,"Product Details"),r.Ub(),r.Vb(3,"p"),r.Vb(4,"span"),r.zc(5,"Product Name = "),r.Ub(),r.zc(6),r.Ub(),r.Vb(7,"p"),r.Vb(8,"span"),r.zc(9,"Product Category = "),r.Ub(),r.zc(10),r.Ub(),r.Vb(11,"p"),r.Vb(12,"span"),r.zc(13,"Product Price = "),r.Ub(),r.zc(14),r.Ub(),r.Vb(15,"p"),r.Vb(16,"span"),r.zc(17,"Product Stock = "),r.Ub(),r.zc(18),r.Ub(),r.Vb(19,"p"),r.Vb(20,"span"),r.zc(21,"Product Active = "),r.Ub(),r.zc(22),r.Ub(),r.Ub()),2&t&&(r.Eb(6),r.Ac(e.prod.name),r.Eb(4),r.Bc(" ",e.prod.category,""),r.Eb(4),r.Ac(e.prod.price),r.Eb(4),r.Ac(e.prod.stock),r.Eb(4),r.Bc(" ",e.prod.active,""))},styles:["div[_ngcontent-%COMP%]{display:flex;flex-direction:column;border:1px solid #000;align-items:center;max-width:500px;box-shadow:5px 10px #888;padding:50px;margin-top:35px;font-size:2rem}div[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:4rem;margin-bottom:10%;background-color:#e6e6e6}div[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%], div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding:15px;border-radius:25px}div[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:4%;margin-right:auto}span[_ngcontent-%COMP%]{font-weight:500}"]}),t})()}];let ER=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Nb({type:t,bootstrap:[MI]}),t.\u0275inj=r.Mb({providers:[],imports:[[kt,Fe,lh,eu,Uo,EA,iR,nA,Zc,gl,dA,Gs,Me,hh.a.initializeApp(FI),sm,LI,Ip.forRoot(SR)]]}),t})();Object(r.V)(),Ot().bootstrapModule(ER).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return c});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function c(t,e){if(e.closed)return;if(t instanceof i.a)return t.subscribe(e);let n;try{n=Object(s.a)(t)(e)}catch(r){e.error(r)}return n}}},[[0,0]]]);